function Hm(l,i){for(var r=0;r<i.length;r++){const a=i[r];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in l)){const d=Object.getOwnPropertyDescriptor(a,u);d&&Object.defineProperty(l,u,d.get?d:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(u){if(u.ep)return;u.ep=!0;const d=r(u);fetch(u.href,d)}})();function vu(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Wm(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var i=l.default;if(typeof i=="function"){var r=function a(){var u=!1;try{u=this instanceof a}catch{}return u?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};r.prototype=i.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(l).forEach(function(a){var u=Object.getOwnPropertyDescriptor(l,a);Object.defineProperty(r,a,u.get?u:{enumerable:!0,get:function(){return l[a]}})}),r}var Bc={exports:{}},Ca={},Zc={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf;function Vm(){if(gf)return $e;gf=1;var l=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.iterator;function j(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function $(T,V,ce){this.props=T,this.context=V,this.refs=D,this.updater=ce||R}$.prototype.isReactComponent={},$.prototype.setState=function(T,V){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,V,"setState")},$.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function te(){}te.prototype=$.prototype;function ie(T,V,ce){this.props=T,this.context=V,this.refs=D,this.updater=ce||R}var G=ie.prototype=new te;G.constructor=ie,A(G,$.prototype),G.isPureReactComponent=!0;var Y=Array.isArray,se=Object.prototype.hasOwnProperty,oe={current:null},ue={key:!0,ref:!0,__self:!0,__source:!0};function ve(T,V,ce){var ge,pe={},he=null,Le=null;if(V!=null)for(ge in V.ref!==void 0&&(Le=V.ref),V.key!==void 0&&(he=""+V.key),V)se.call(V,ge)&&!ue.hasOwnProperty(ge)&&(pe[ge]=V[ge]);var ye=arguments.length-2;if(ye===1)pe.children=ce;else if(1<ye){for(var Ke=Array(ye),st=0;st<ye;st++)Ke[st]=arguments[st+2];pe.children=Ke}if(T&&T.defaultProps)for(ge in ye=T.defaultProps,ye)pe[ge]===void 0&&(pe[ge]=ye[ge]);return{$$typeof:l,type:T,key:he,ref:Le,props:pe,_owner:oe.current}}function De(T,V){return{$$typeof:l,type:T.type,key:V,ref:T.ref,props:T.props,_owner:T._owner}}function ae(T){return typeof T=="object"&&T!==null&&T.$$typeof===l}function xe(T){var V={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ce){return V[ce]})}var We=/\/+/g;function Me(T,V){return typeof T=="object"&&T!==null&&T.key!=null?xe(""+T.key):V.toString(36)}function Ue(T,V,ce,ge,pe){var he=typeof T;(he==="undefined"||he==="boolean")&&(T=null);var Le=!1;if(T===null)Le=!0;else switch(he){case"string":case"number":Le=!0;break;case"object":switch(T.$$typeof){case l:case i:Le=!0}}if(Le)return Le=T,pe=pe(Le),T=ge===""?"."+Me(Le,0):ge,Y(pe)?(ce="",T!=null&&(ce=T.replace(We,"$&/")+"/"),Ue(pe,V,ce,"",function(st){return st})):pe!=null&&(ae(pe)&&(pe=De(pe,ce+(!pe.key||Le&&Le.key===pe.key?"":(""+pe.key).replace(We,"$&/")+"/")+T)),V.push(pe)),1;if(Le=0,ge=ge===""?".":ge+":",Y(T))for(var ye=0;ye<T.length;ye++){he=T[ye];var Ke=ge+Me(he,ye);Le+=Ue(he,V,ce,Ke,pe)}else if(Ke=j(T),typeof Ke=="function")for(T=Ke.call(T),ye=0;!(he=T.next()).done;)he=he.value,Ke=ge+Me(he,ye++),Le+=Ue(he,V,ce,Ke,pe);else if(he==="object")throw V=String(T),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Le}function Ye(T,V,ce){if(T==null)return T;var ge=[],pe=0;return Ue(T,ge,"","",function(he){return V.call(ce,he,pe++)}),ge}function ze(T){if(T._status===-1){var V=T._result;V=V(),V.then(function(ce){(T._status===0||T._status===-1)&&(T._status=1,T._result=ce)},function(ce){(T._status===0||T._status===-1)&&(T._status=2,T._result=ce)}),T._status===-1&&(T._status=0,T._result=V)}if(T._status===1)return T._result.default;throw T._result}var Ce={current:null},K={transition:null},Z={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:K,ReactCurrentOwner:oe};function B(){throw Error("act(...) is not supported in production builds of React.")}return $e.Children={map:Ye,forEach:function(T,V,ce){Ye(T,function(){V.apply(this,arguments)},ce)},count:function(T){var V=0;return Ye(T,function(){V++}),V},toArray:function(T){return Ye(T,function(V){return V})||[]},only:function(T){if(!ae(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},$e.Component=$,$e.Fragment=r,$e.Profiler=u,$e.PureComponent=ie,$e.StrictMode=a,$e.Suspense=_,$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,$e.act=B,$e.cloneElement=function(T,V,ce){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ge=A({},T.props),pe=T.key,he=T.ref,Le=T._owner;if(V!=null){if(V.ref!==void 0&&(he=V.ref,Le=oe.current),V.key!==void 0&&(pe=""+V.key),T.type&&T.type.defaultProps)var ye=T.type.defaultProps;for(Ke in V)se.call(V,Ke)&&!ue.hasOwnProperty(Ke)&&(ge[Ke]=V[Ke]===void 0&&ye!==void 0?ye[Ke]:V[Ke])}var Ke=arguments.length-2;if(Ke===1)ge.children=ce;else if(1<Ke){ye=Array(Ke);for(var st=0;st<Ke;st++)ye[st]=arguments[st+2];ge.children=ye}return{$$typeof:l,type:T.type,key:pe,ref:he,props:ge,_owner:Le}},$e.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:d,_context:T},T.Consumer=T},$e.createElement=ve,$e.createFactory=function(T){var V=ve.bind(null,T);return V.type=T,V},$e.createRef=function(){return{current:null}},$e.forwardRef=function(T){return{$$typeof:g,render:T}},$e.isValidElement=ae,$e.lazy=function(T){return{$$typeof:S,_payload:{_status:-1,_result:T},_init:ze}},$e.memo=function(T,V){return{$$typeof:w,type:T,compare:V===void 0?null:V}},$e.startTransition=function(T){var V=K.transition;K.transition={};try{T()}finally{K.transition=V}},$e.unstable_act=B,$e.useCallback=function(T,V){return Ce.current.useCallback(T,V)},$e.useContext=function(T){return Ce.current.useContext(T)},$e.useDebugValue=function(){},$e.useDeferredValue=function(T){return Ce.current.useDeferredValue(T)},$e.useEffect=function(T,V){return Ce.current.useEffect(T,V)},$e.useId=function(){return Ce.current.useId()},$e.useImperativeHandle=function(T,V,ce){return Ce.current.useImperativeHandle(T,V,ce)},$e.useInsertionEffect=function(T,V){return Ce.current.useInsertionEffect(T,V)},$e.useLayoutEffect=function(T,V){return Ce.current.useLayoutEffect(T,V)},$e.useMemo=function(T,V){return Ce.current.useMemo(T,V)},$e.useReducer=function(T,V,ce){return Ce.current.useReducer(T,V,ce)},$e.useRef=function(T){return Ce.current.useRef(T)},$e.useState=function(T){return Ce.current.useState(T)},$e.useSyncExternalStore=function(T,V,ce){return Ce.current.useSyncExternalStore(T,V,ce)},$e.useTransition=function(){return Ce.current.useTransition()},$e.version="18.3.1",$e}var vf;function kh(){return vf||(vf=1,Zc.exports=Vm()),Zc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f;function qm(){if(_f)return Ca;_f=1;var l=kh(),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(g,_,w){var S,x={},j=null,R=null;w!==void 0&&(j=""+w),_.key!==void 0&&(j=""+_.key),_.ref!==void 0&&(R=_.ref);for(S in _)a.call(_,S)&&!d.hasOwnProperty(S)&&(x[S]=_[S]);if(g&&g.defaultProps)for(S in _=g.defaultProps,_)x[S]===void 0&&(x[S]=_[S]);return{$$typeof:i,type:g,key:j,ref:R,props:x,_owner:u.current}}return Ca.Fragment=r,Ca.jsx=f,Ca.jsxs=f,Ca}var yf;function Km(){return yf||(yf=1,Bc.exports=qm()),Bc.exports}var P=Km(),I=kh();const No=vu(I),Gm=Hm({__proto__:null,default:No},[I]);var nu={},Hc={exports:{}},Xt={},Wc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf;function Jm(){return wf||(wf=1,(function(l){function i(K,Z){var B=K.length;K.push(Z);e:for(;0<B;){var T=B-1>>>1,V=K[T];if(0<u(V,Z))K[T]=Z,K[B]=V,B=T;else break e}}function r(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var Z=K[0],B=K.pop();if(B!==Z){K[0]=B;e:for(var T=0,V=K.length,ce=V>>>1;T<ce;){var ge=2*(T+1)-1,pe=K[ge],he=ge+1,Le=K[he];if(0>u(pe,B))he<V&&0>u(Le,pe)?(K[T]=Le,K[he]=B,T=he):(K[T]=pe,K[ge]=B,T=ge);else if(he<V&&0>u(Le,B))K[T]=Le,K[he]=B,T=he;else break e}}return Z}function u(K,Z){var B=K.sortIndex-Z.sortIndex;return B!==0?B:K.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();l.unstable_now=function(){return f.now()-g}}var _=[],w=[],S=1,x=null,j=3,R=!1,A=!1,D=!1,$=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(K){for(var Z=r(w);Z!==null;){if(Z.callback===null)a(w);else if(Z.startTime<=K)a(w),Z.sortIndex=Z.expirationTime,i(_,Z);else break;Z=r(w)}}function Y(K){if(D=!1,G(K),!A)if(r(_)!==null)A=!0,ze(se);else{var Z=r(w);Z!==null&&Ce(Y,Z.startTime-K)}}function se(K,Z){A=!1,D&&(D=!1,te(ve),ve=-1),R=!0;var B=j;try{for(G(Z),x=r(_);x!==null&&(!(x.expirationTime>Z)||K&&!xe());){var T=x.callback;if(typeof T=="function"){x.callback=null,j=x.priorityLevel;var V=T(x.expirationTime<=Z);Z=l.unstable_now(),typeof V=="function"?x.callback=V:x===r(_)&&a(_),G(Z)}else a(_);x=r(_)}if(x!==null)var ce=!0;else{var ge=r(w);ge!==null&&Ce(Y,ge.startTime-Z),ce=!1}return ce}finally{x=null,j=B,R=!1}}var oe=!1,ue=null,ve=-1,De=5,ae=-1;function xe(){return!(l.unstable_now()-ae<De)}function We(){if(ue!==null){var K=l.unstable_now();ae=K;var Z=!0;try{Z=ue(!0,K)}finally{Z?Me():(oe=!1,ue=null)}}else oe=!1}var Me;if(typeof ie=="function")Me=function(){ie(We)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,Ye=Ue.port2;Ue.port1.onmessage=We,Me=function(){Ye.postMessage(null)}}else Me=function(){$(We,0)};function ze(K){ue=K,oe||(oe=!0,Me())}function Ce(K,Z){ve=$(function(){K(l.unstable_now())},Z)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(K){K.callback=null},l.unstable_continueExecution=function(){A||R||(A=!0,ze(se))},l.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):De=0<K?Math.floor(1e3/K):5},l.unstable_getCurrentPriorityLevel=function(){return j},l.unstable_getFirstCallbackNode=function(){return r(_)},l.unstable_next=function(K){switch(j){case 1:case 2:case 3:var Z=3;break;default:Z=j}var B=j;j=Z;try{return K()}finally{j=B}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var B=j;j=K;try{return Z()}finally{j=B}},l.unstable_scheduleCallback=function(K,Z,B){var T=l.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?T+B:T):B=T,K){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=B+V,K={id:S++,callback:Z,priorityLevel:K,startTime:B,expirationTime:V,sortIndex:-1},B>T?(K.sortIndex=B,i(w,K),r(_)===null&&K===r(w)&&(D?(te(ve),ve=-1):D=!0,Ce(Y,B-T))):(K.sortIndex=V,i(_,K),A||R||(A=!0,ze(se))),K},l.unstable_shouldYield=xe,l.unstable_wrapCallback=function(K){var Z=j;return function(){var B=j;j=Z;try{return K.apply(this,arguments)}finally{j=B}}}})(Vc)),Vc}var bf;function Qm(){return bf||(bf=1,Wc.exports=Jm()),Wc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf;function Ym(){if(xf)return Xt;xf=1;var l=kh(),i=Qm();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function d(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(u[e]=n,e=0;e<n.length;e++)a.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},x={};function j(e){return _.call(x,e)?!0:_.call(S,e)?!1:w.test(e)?x[e]=!0:(S[e]=!0,!1)}function R(e,n,o,h){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return h?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,n,o,h){if(n===null||typeof n>"u"||R(e,n,o,h))return!0;if(h)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function D(e,n,o,h,m,v,b){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=v,this.removeEmptyString=b}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$[e]=new D(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];$[n]=new D(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){$[e]=new D(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$[e]=new D(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$[e]=new D(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){$[e]=new D(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){$[e]=new D(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){$[e]=new D(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){$[e]=new D(e,5,!1,e.toLowerCase(),null,!1,!1)});var te=/[\-:]([a-z])/g;function ie(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(te,ie);$[n]=new D(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(te,ie);$[n]=new D(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(te,ie);$[n]=new D(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){$[e]=new D(e,1,!1,e.toLowerCase(),null,!1,!1)}),$.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){$[e]=new D(e,1,!1,e.toLowerCase(),null,!0,!0)});function G(e,n,o,h){var m=$.hasOwnProperty(n)?$[n]:null;(m!==null?m.type!==0:h||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(A(n,o,m,h)&&(o=null),h||m===null?j(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):m.mustUseProperty?e[m.propertyName]=o===null?m.type===3?!1:"":o:(n=m.attributeName,h=m.attributeNamespace,o===null?e.removeAttribute(n):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,h?e.setAttributeNS(h,n,o):e.setAttribute(n,o))))}var Y=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,se=Symbol.for("react.element"),oe=Symbol.for("react.portal"),ue=Symbol.for("react.fragment"),ve=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),xe=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),Ye=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),K=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var B=Object.assign,T;function V(e){if(T===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);T=n&&n[1]||""}return`
`+T+e}var ce=!1;function ge(e,n){if(!e||ce)return"";ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(W){var h=W}Reflect.construct(e,[],n)}else{try{n.call()}catch(W){h=W}e.call(n.prototype)}else{try{throw Error()}catch(W){h=W}e()}}catch(W){if(W&&h&&typeof W.stack=="string"){for(var m=W.stack.split(`
`),v=h.stack.split(`
`),b=m.length-1,E=v.length-1;1<=b&&0<=E&&m[b]!==v[E];)E--;for(;1<=b&&0<=E;b--,E--)if(m[b]!==v[E]){if(b!==1||E!==1)do if(b--,E--,0>E||m[b]!==v[E]){var O=`
`+m[b].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=b&&0<=E);break}}}finally{ce=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?V(e):""}function pe(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=ge(e.type,!1),e;case 11:return e=ge(e.type.render,!1),e;case 1:return e=ge(e.type,!0),e;default:return""}}function he(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ue:return"Fragment";case oe:return"Portal";case De:return"Profiler";case ve:return"StrictMode";case Me:return"Suspense";case Ue:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xe:return(e.displayName||"Context")+".Consumer";case ae:return(e._context.displayName||"Context")+".Provider";case We:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ye:return n=e.displayName||null,n!==null?n:he(e.type)||"Memo";case ze:n=e._payload,e=e._init;try{return he(e(n))}catch{}}return null}function Le(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(n);case 8:return n===ve?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function ye(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ke(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function st(e){var n=Ke(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),h=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,v=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(b){h=""+b,v.call(this,b)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return h},setValue:function(b){h=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function mn(e){e._valueTracker||(e._valueTracker=st(e))}function qn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),h="";return e&&(h=Ke(e)?e.checked?"true":"false":e.value),e=h,e!==o?(n.setValue(e),!0):!1}function jn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wi(e,n){var o=n.checked;return B({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function gn(e,n){var o=n.defaultValue==null?"":n.defaultValue,h=n.checked!=null?n.checked:n.defaultChecked;o=ye(n.value!=null?n.value:o),e._wrapperState={initialChecked:h,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Fr(e,n){n=n.checked,n!=null&&G(e,"checked",n,!1)}function bi(e,n){Fr(e,n);var o=ye(n.value),h=n.type;if(o!=null)h==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(h==="submit"||h==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?ki(e,n.type,o):n.hasOwnProperty("defaultValue")&&ki(e,n.type,ye(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function xi(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var h=n.type;if(!(h!=="submit"&&h!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function ki(e,n,o){(n!=="number"||jn(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Kn=Array.isArray;function vn(e,n,o,h){if(e=e.options,n){n={};for(var m=0;m<o.length;m++)n["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=n.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&h&&(e[o].defaultSelected=!0)}else{for(o=""+ye(o),n=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,h&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function nt(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return B({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Br(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(r(92));if(Kn(o)){if(1<o.length)throw Error(r(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:ye(o)}}function Gn(e,n){var o=ye(n.value),h=ye(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),h!=null&&(e.defaultValue=""+h)}function Jn(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function _n(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Si(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?_n(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qn,zs=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,h,m){MSApp.execUnsafeLocalFunction(function(){return e(n,o,h,m)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Qn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Yn(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var Xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zr=["Webkit","ms","Moz","O"];Object.keys(Xn).forEach(function(e){Zr.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Xn[n]=Xn[e]})});function Hr(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||Xn.hasOwnProperty(e)&&Xn[e]?(""+n).trim():n+"px"}function ei(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var h=o.indexOf("--")===0,m=Hr(o,n[o],h);o==="float"&&(o="cssFloat"),h?e.setProperty(o,m):e[o]=m}}var Wr=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vr(e,n){if(n){if(Wr[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function On(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qr=null;function Kr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gi=null,Nn=null,en=null;function ti(e){if(e=Di(e)){if(typeof Gi!="function")throw Error(r(280));var n=e.stateNode;n&&(n=no(n),Gi(e.stateNode,e.type,n))}}function js(e){Nn?en?en.push(e):en=[e]:Nn=e}function Ji(){if(Nn){var e=Nn,n=en;if(en=Nn=null,ti(e),n)for(e=0;e<n.length;e++)ti(n[e])}}function Gr(e,n){return e(n)}function Jr(){}var Qr=!1;function Qi(e,n,o){if(Qr)return e(n,o);Qr=!0;try{return Gr(e,n,o)}finally{Qr=!1,(Nn!==null||en!==null)&&(Jr(),Ji())}}function Pi(e,n){var o=e.stateNode;if(o===null)return null;var h=no(o);if(h===null)return null;o=h[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(e=e.type,h=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!h;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(r(231,n,typeof o));return o}var Yr=!1;if(g)try{var Ei={};Object.defineProperty(Ei,"passive",{get:function(){Yr=!0}}),window.addEventListener("test",Ei,Ei),window.removeEventListener("test",Ei,Ei)}catch{Yr=!1}function C(e,n,o,h,m,v,b,E,O){var W=Array.prototype.slice.call(arguments,3);try{n.apply(o,W)}catch(ee){this.onError(ee)}}var q=!1,J=null,be=!1,Ze=null,jt={onError:function(e){q=!0,J=e}};function ni(e,n,o,h,m,v,b,E,O){q=!1,J=null,C.apply(jt,arguments)}function tn(e,n,o,h,m,v,b,E,O){if(ni.apply(this,arguments),q){if(q){var W=J;q=!1,J=null}else throw Error(r(198));be||(be=!0,Ze=W)}}function mt(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function nn(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Yi(e){if(mt(e)!==e)throw Error(r(188))}function Os(e){var n=e.alternate;if(!n){if(n=mt(e),n===null)throw Error(r(188));return n!==e?null:e}for(var o=e,h=n;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){o=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return Yi(m),e;if(v===h)return Yi(m),n;v=v.sibling}throw Error(r(188))}if(o.return!==h.return)o=m,h=v;else{for(var b=!1,E=m.child;E;){if(E===o){b=!0,o=m,h=v;break}if(E===h){b=!0,h=m,o=v;break}E=E.sibling}if(!b){for(E=v.child;E;){if(E===o){b=!0,o=v,h=m;break}if(E===h){b=!0,h=v,o=m;break}E=E.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==h)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?e:n}function ii(e){return e=Os(e),e!==null?ri(e):null}function ri(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=ri(e);if(n!==null)return n;e=e.sibling}return null}var si=i.unstable_scheduleCallback,oi=i.unstable_cancelCallback,Wt=i.unstable_shouldYield,Ci=i.unstable_requestPaint,at=i.unstable_now,xu=i.unstable_getCurrentPriorityLevel,Fo=i.unstable_ImmediatePriority,Ka=i.unstable_UserBlockingPriority,Ns=i.unstable_NormalPriority,Bo=i.unstable_LowPriority,Xi=i.unstable_IdlePriority,Xr=null,rn=null;function es(e){if(rn&&typeof rn.onCommitFiberRoot=="function")try{rn.onCommitFiberRoot(Xr,e,void 0,(e.current.flags&128)===128)}catch{}}var Re=Math.clz32?Math.clz32:er,it=Math.log,Rs=Math.LN2;function er(e){return e>>>=0,e===0?32:31-(it(e)/Rs|0)|0}var Rn=64,tr=4194304;function Oe(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xe(e,n){var o=e.pendingLanes;if(o===0)return 0;var h=0,m=e.suspendedLanes,v=e.pingedLanes,b=o&268435455;if(b!==0){var E=b&~m;E!==0?h=Oe(E):(v&=b,v!==0&&(h=Oe(v)))}else b=o&~m,b!==0?h=Oe(b):v!==0&&(h=Oe(v));if(h===0)return 0;if(n!==0&&n!==h&&(n&m)===0&&(m=h&-h,v=n&-n,m>=v||m===16&&(v&4194240)!==0))return n;if((h&4)!==0&&(h|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=h;0<n;)o=31-Re(n),m=1<<o,h|=e[o],n&=~m;return h}function Zo(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Is(e,n){for(var o=e.suspendedLanes,h=e.pingedLanes,m=e.expirationTimes,v=e.pendingLanes;0<v;){var b=31-Re(v),E=1<<b,O=m[b];O===-1?((E&o)===0||(E&h)!==0)&&(m[b]=Zo(E,n)):O<=n&&(e.expiredLanes|=E),v&=~E}}function Ot(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ga(){var e=Rn;return Rn<<=1,(Rn&4194240)===0&&(Rn=64),e}function nr(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function sn(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Re(n),e[n]=o}function ht(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var h=e.eventTimes;for(e=e.expirationTimes;0<o;){var m=31-Re(o),v=1<<m;n[m]=0,h[m]=-1,e[m]=-1,o&=~v}}function In(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var h=31-Re(o),m=1<<h;m&n|e[h]&n&&(e[h]|=n),o&=~m}}var He=0;function ir(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var As,Li,Ms,Ds,ts,ns=!1,rr=[],on=null,An=null,yn=null,is=new Map,Te=new Map,_t=[],Je="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ho(e,n){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":An=null;break;case"mouseover":case"mouseout":yn=null;break;case"pointerover":case"pointerout":is.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Te.delete(n.pointerId)}}function Ti(e,n,o,h,m,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:o,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},n!==null&&(n=Di(n),n!==null&&Li(n)),e):(e.eventSystemFlags|=h,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function Wo(e,n,o,h,m){switch(n){case"focusin":return on=Ti(on,e,n,o,h,m),!0;case"dragenter":return An=Ti(An,e,n,o,h,m),!0;case"mouseover":return yn=Ti(yn,e,n,o,h,m),!0;case"pointerover":var v=m.pointerId;return is.set(v,Ti(is.get(v)||null,e,n,o,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Te.set(v,Ti(Te.get(v)||null,e,n,o,h,m)),!0}return!1}function Us(e){var n=Mi(e.target);if(n!==null){var o=mt(n);if(o!==null){if(n=o.tag,n===13){if(n=nn(o),n!==null){e.blockedOn=n,ts(e.priority,function(){Ms(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Bs(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var h=new o.constructor(o.type,o);qr=h,o.target.dispatchEvent(h),qr=null}else return n=Di(o),n!==null&&Li(n),e.blockedOn=o,!1;n.shift()}return!0}function $s(e,n,o){wn(e)&&o.delete(n)}function rs(){ns=!1,on!==null&&wn(on)&&(on=null),An!==null&&wn(An)&&(An=null),yn!==null&&wn(yn)&&(yn=null),is.forEach($s),Te.forEach($s)}function lt(e,n){e.blockedOn===n&&(e.blockedOn=null,ns||(ns=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,rs)))}function an(e){function n(m){return lt(m,e)}if(0<rr.length){lt(rr[0],e);for(var o=1;o<rr.length;o++){var h=rr[o];h.blockedOn===e&&(h.blockedOn=null)}}for(on!==null&&lt(on,e),An!==null&&lt(An,e),yn!==null&&lt(yn,e),is.forEach(n),Te.forEach(n),o=0;o<_t.length;o++)h=_t[o],h.blockedOn===e&&(h.blockedOn=null);for(;0<_t.length&&(o=_t[0],o.blockedOn===null);)Us(o),o.blockedOn===null&&_t.shift()}var zi=Y.ReactCurrentBatchConfig,ss=!0;function ku(e,n,o,h){var m=He,v=zi.transition;zi.transition=null;try{He=1,os(e,n,o,h)}finally{He=m,zi.transition=v}}function Ja(e,n,o,h){var m=He,v=zi.transition;zi.transition=null;try{He=4,os(e,n,o,h)}finally{He=m,zi.transition=v}}function os(e,n,o,h){if(ss){var m=Bs(e,n,o,h);if(m===null)t(e,n,h,Fs,o),Ho(e,h);else if(Wo(m,e,n,o,h))h.stopPropagation();else if(Ho(e,h),n&4&&-1<Je.indexOf(e)){for(;m!==null;){var v=Di(m);if(v!==null&&As(v),v=Bs(e,n,o,h),v===null&&t(e,n,h,Fs,o),v===m)break;m=v}m!==null&&h.stopPropagation()}else t(e,n,h,null,o)}}var Fs=null;function Bs(e,n,o,h){if(Fs=null,e=Kr(h),e=Mi(e),e!==null)if(n=mt(e),n===null)e=null;else if(o=n.tag,o===13){if(e=nn(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Fs=e,null}function Fe(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xu()){case Fo:return 1;case Ka:return 4;case Ns:case Bo:return 16;case Xi:return 536870912;default:return 16}default:return 16}}var ai=null,Ut=null,li=null;function Vo(){if(li)return li;var e,n=Ut,o=n.length,h,m="value"in ai?ai.value:ai.textContent,v=m.length;for(e=0;e<o&&n[e]===m[e];e++);var b=o-e;for(h=1;h<=b&&n[o-h]===m[v-h];h++);return li=m.slice(e,1<h?1-h:void 0)}function Zs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function sr(){return!0}function Qa(){return!1}function Nt(e){function n(o,h,m,v,b){this._reactName=o,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(o=e[E],this[E]=o?o(v):v[E]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?sr:Qa,this.isPropagationStopped=Qa,this}return B(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),n}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=Nt(or),ji=B({},or,{view:0,detail:0}),Su=Nt(ji),Vt,Ko,ar,ln=B({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ni,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ar&&(ar&&e.type==="mousemove"?(Vt=e.screenX-ar.screenX,Ko=e.screenY-ar.screenY):Ko=Vt=0,ar=e),Vt)},movementY:function(e){return"movementY"in e?e.movementY:Ko}}),Go=Nt(ln),Ya=B({},ln,{dataTransfer:0}),Jo=Nt(Ya),Pu=B({},ji,{relatedTarget:0}),Hs=Nt(Pu),Xa=B({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Nt(Xa),Cu=B({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qo=Nt(Cu),Lu=B({},or,{data:0}),Yo=Nt(Lu),el={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ws={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Oi[e])?!!n[e]:!1}function Ni(){return Tu}var qt=B({},ji,{key:function(e){if(e.key){var n=el[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Zs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ws[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ni,charCode:function(e){return e.type==="keypress"?Zs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tl=Nt(qt),nl=B({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=Nt(nl),Xo=B({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ni}),ea=Nt(Xo),zu=B({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),ju=Nt(zu),rl=B({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ou=Nt(rl),un=[9,13,27,32],ui=g&&"CompositionEvent"in window,as=null;g&&"documentMode"in document&&(as=document.documentMode);var Mn=g&&"TextEvent"in window&&!as,sl=g&&(!ui||as&&8<as&&11>=as),Ri=" ",ol=!1;function lr(e,n){switch(e){case"keyup":return un.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ta(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dn=!1;function Nu(e,n){switch(e){case"compositionend":return ta(n);case"keypress":return n.which!==32?null:(ol=!0,Ri);case"textInput":return e=n.data,e===Ri&&ol?null:e;default:return null}}function ci(e,n){if(Dn)return e==="compositionend"||!ui&&lr(e,n)?(e=Vo(),li=Ut=ai=null,Dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return sl&&n.locale!=="ko"?null:n.data;default:return null}}var Vs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function al(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Vs[e.type]:n==="textarea"}function qs(e,n,o,h){js(h),n=c(n,"onChange"),0<n.length&&(o=new qo("onChange","change",null,o,h),e.push({event:o,listeners:n}))}var ls=null,$t=null;function Ru(e){ca(e,0)}function Un(e){var n=Ui(e);if(qn(n))return e}function Iu(e,n){if(e==="change")return n}var bn=!1;if(g){var ur;if(g){var Ks="oninput"in document;if(!Ks){var Gs=document.createElement("div");Gs.setAttribute("oninput","return;"),Ks=typeof Gs.oninput=="function"}ur=Ks}else ur=!1;bn=ur&&(!document.documentMode||9<document.documentMode)}function us(){ls&&(ls.detachEvent("onpropertychange",Js),$t=ls=null)}function Js(e){if(e.propertyName==="value"&&Un($t)){var n=[];qs(n,$t,e,Kr(e)),Qi(Ru,n)}}function Qs(e,n,o){e==="focusin"?(us(),ls=n,$t=o,ls.attachEvent("onpropertychange",Js)):e==="focusout"&&us()}function cr(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Un($t)}function Ys(e,n){if(e==="click")return Un(n)}function na(e,n){if(e==="input"||e==="change")return Un(n)}function ll(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var cn=typeof Object.is=="function"?Object.is:ll;function hi(e,n){if(cn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),h=Object.keys(n);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var m=o[h];if(!_.call(n,m)||!cn(e[m],n[m]))return!1}return!0}function ul(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ia(e,n){var o=ul(e);e=0;for(var h;o;){if(o.nodeType===3){if(h=e+o.textContent.length,e<=n&&h>=n)return{node:o,offset:n-e};e=h}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ul(o)}}function cl(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?cl(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ra(){for(var e=window,n=jn();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=jn(e.document)}return n}function sa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function xn(e){var n=ra(),o=e.focusedElem,h=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&cl(o.ownerDocument.documentElement,o)){if(h!==null&&sa(o)){if(n=h.start,e=h.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var m=o.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!e.extend&&v>h&&(m=h,h=v,v=m),m=ia(o,v);var b=ia(o,h);m&&b&&(e.rangeCount!==1||e.anchorNode!==m.node||e.anchorOffset!==m.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(n=n.createRange(),n.setStart(m.node,m.offset),e.removeAllRanges(),v>h?(e.addRange(n),e.extend(b.node,b.offset)):(n.setEnd(b.node,b.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xs=g&&"documentMode"in document&&11>=document.documentMode,hr=null,dr=null,cs=null,eo=!1;function hl(e,n,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;eo||hr==null||hr!==jn(h)||(h=hr,"selectionStart"in h&&sa(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),cs&&hi(cs,h)||(cs=h,h=c(dr,"onSelect"),0<h.length&&(n=new qo("onSelect","select",null,n,o),e.push({event:n,listeners:h}),n.target=hr)))}function di(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var fr={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionend:di("Transition","TransitionEnd")},fi={},oa={};g&&(oa=document.createElement("div").style,"AnimationEvent"in window||(delete fr.animationend.animation,delete fr.animationiteration.animation,delete fr.animationstart.animation),"TransitionEvent"in window||delete fr.transitionend.transition);function hs(e){if(fi[e])return fi[e];if(!fr[e])return e;var n=fr[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in oa)return fi[e]=n[o];return e}var dl=hs("animationend"),kn=hs("animationiteration"),aa=hs("animationstart"),la=hs("transitionend"),pr=new Map,fl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hn(e,n){pr.set(e,n),d(n,[e])}for(var Ii=0;Ii<fl.length;Ii++){var to=fl[Ii],pl=to.toLowerCase(),Au=to[0].toUpperCase()+to.slice(1);hn(pl,"on"+Au)}hn(dl,"onAnimationEnd"),hn(kn,"onAnimationIteration"),hn(aa,"onAnimationStart"),hn("dblclick","onDoubleClick"),hn("focusin","onFocus"),hn("focusout","onBlur"),hn(la,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ml=new Set("cancel close invalid load scroll toggle".split(" ").concat(mr));function ua(e,n,o){var h=e.type||"unknown-event";e.currentTarget=o,tn(h,n,void 0,e),e.currentTarget=null}function ca(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var h=e[o],m=h.event;h=h.listeners;e:{var v=void 0;if(n)for(var b=h.length-1;0<=b;b--){var E=h[b],O=E.instance,W=E.currentTarget;if(E=E.listener,O!==v&&m.isPropagationStopped())break e;ua(m,E,W),v=O}else for(b=0;b<h.length;b++){if(E=h[b],O=E.instance,W=E.currentTarget,E=E.listener,O!==v&&m.isPropagationStopped())break e;ua(m,E,W),v=O}}}if(be)throw e=Ze,be=!1,Ze=null,e}function Qe(e,n){var o=n[yr];o===void 0&&(o=n[yr]=new Set);var h=e+"__bubble";o.has(h)||(gl(n,e,2,!1),o.add(h))}function ha(e,n,o){var h=0;n&&(h|=4),gl(o,e,h,n)}var ds="_reactListening"+Math.random().toString(36).slice(2);function gr(e){if(!e[ds]){e[ds]=!0,a.forEach(function(o){o!=="selectionchange"&&(ml.has(o)||ha(o,!1,e),ha(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ds]||(n[ds]=!0,ha("selectionchange",!1,n))}}function gl(e,n,o,h){switch(Fe(n)){case 1:var m=ku;break;case 4:m=Ja;break;default:m=os}o=m.bind(null,n,o,e),m=void 0,!Yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),h?m!==void 0?e.addEventListener(n,o,{capture:!0,passive:m}):e.addEventListener(n,o,!0):m!==void 0?e.addEventListener(n,o,{passive:m}):e.addEventListener(n,o,!1)}function t(e,n,o,h,m){var v=h;if((n&1)===0&&(n&2)===0&&h!==null)e:for(;;){if(h===null)return;var b=h.tag;if(b===3||b===4){var E=h.stateNode.containerInfo;if(E===m||E.nodeType===8&&E.parentNode===m)break;if(b===4)for(b=h.return;b!==null;){var O=b.tag;if((O===3||O===4)&&(O=b.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;b=b.return}for(;E!==null;){if(b=Mi(E),b===null)return;if(O=b.tag,O===5||O===6){h=v=b;continue e}E=E.parentNode}}h=h.return}Qi(function(){var W=v,ee=Kr(o),ne=[];e:{var X=pr.get(e);if(X!==void 0){var de=qo,me=e;switch(e){case"keypress":if(Zs(o)===0)break e;case"keydown":case"keyup":de=tl;break;case"focusin":me="focus",de=Hs;break;case"focusout":me="blur",de=Hs;break;case"beforeblur":case"afterblur":de=Hs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Go;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Jo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=ea;break;case dl:case kn:case aa:de=Eu;break;case la:de=ju;break;case"scroll":de=Su;break;case"wheel":de=Ou;break;case"copy":case"cut":case"paste":de=Qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=il}var _e=(n&4)!==0,ft=!_e&&e==="scroll",U=_e?X!==null?X+"Capture":null:X;_e=[];for(var N=W,F;N!==null;){F=N;var re=F.stateNode;if(F.tag===5&&re!==null&&(F=re,U!==null&&(re=Pi(N,U),re!=null&&_e.push(s(N,re,F)))),ft)break;N=N.return}0<_e.length&&(X=new de(X,me,null,o,ee),ne.push({event:X,listeners:_e}))}}if((n&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",X&&o!==qr&&(me=o.relatedTarget||o.fromElement)&&(Mi(me)||me[Ge]))break e;if((de||X)&&(X=ee.window===ee?ee:(X=ee.ownerDocument)?X.defaultView||X.parentWindow:window,de?(me=o.relatedTarget||o.toElement,de=W,me=me?Mi(me):null,me!==null&&(ft=mt(me),me!==ft||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=W),de!==me)){if(_e=Go,re="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(_e=il,re="onPointerLeave",U="onPointerEnter",N="pointer"),ft=de==null?X:Ui(de),F=me==null?X:Ui(me),X=new _e(re,N+"leave",de,o,ee),X.target=ft,X.relatedTarget=F,re=null,Mi(ee)===W&&(_e=new _e(U,N+"enter",me,o,ee),_e.target=F,_e.relatedTarget=ft,re=_e),ft=re,de&&me)t:{for(_e=de,U=me,N=0,F=_e;F;F=p(F))N++;for(F=0,re=U;re;re=p(re))F++;for(;0<N-F;)_e=p(_e),N--;for(;0<F-N;)U=p(U),F--;for(;N--;){if(_e===U||U!==null&&_e===U.alternate)break t;_e=p(_e),U=p(U)}_e=null}else _e=null;de!==null&&y(ne,X,de,_e,!1),me!==null&&ft!==null&&y(ne,ft,me,_e,!0)}}e:{if(X=W?Ui(W):window,de=X.nodeName&&X.nodeName.toLowerCase(),de==="select"||de==="input"&&X.type==="file")var we=Iu;else if(al(X))if(bn)we=na;else{we=cr;var Pe=Qs}else(de=X.nodeName)&&de.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(we=Ys);if(we&&(we=we(e,W))){qs(ne,we,o,ee);break e}Pe&&Pe(e,X,W),e==="focusout"&&(Pe=X._wrapperState)&&Pe.controlled&&X.type==="number"&&ki(X,"number",X.value)}switch(Pe=W?Ui(W):window,e){case"focusin":(al(Pe)||Pe.contentEditable==="true")&&(hr=Pe,dr=W,cs=null);break;case"focusout":cs=dr=hr=null;break;case"mousedown":eo=!0;break;case"contextmenu":case"mouseup":case"dragend":eo=!1,hl(ne,o,ee);break;case"selectionchange":if(Xs)break;case"keydown":case"keyup":hl(ne,o,ee)}var Ee;if(ui)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Dn?lr(e,o)&&(je="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(sl&&o.locale!=="ko"&&(Dn||je!=="onCompositionStart"?je==="onCompositionEnd"&&Dn&&(Ee=Vo()):(ai=ee,Ut="value"in ai?ai.value:ai.textContent,Dn=!0)),Pe=c(W,je),0<Pe.length&&(je=new Yo(je,e,null,o,ee),ne.push({event:je,listeners:Pe}),Ee?je.data=Ee:(Ee=ta(o),Ee!==null&&(je.data=Ee)))),(Ee=Mn?Nu(e,o):ci(e,o))&&(W=c(W,"onBeforeInput"),0<W.length&&(ee=new Yo("onBeforeInput","beforeinput",null,o,ee),ne.push({event:ee,listeners:W}),ee.data=Ee))}ca(ne,n)})}function s(e,n,o){return{instance:e,listener:n,currentTarget:o}}function c(e,n){for(var o=n+"Capture",h=[];e!==null;){var m=e,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Pi(e,o),v!=null&&h.unshift(s(e,v,m)),v=Pi(e,n),v!=null&&h.push(s(e,v,m))),e=e.return}return h}function p(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function y(e,n,o,h,m){for(var v=n._reactName,b=[];o!==null&&o!==h;){var E=o,O=E.alternate,W=E.stateNode;if(O!==null&&O===h)break;E.tag===5&&W!==null&&(E=W,m?(O=Pi(o,v),O!=null&&b.unshift(s(o,O,E))):m||(O=Pi(o,v),O!=null&&b.push(s(o,O,E)))),o=o.return}b.length!==0&&e.push({event:n,listeners:b})}var k=/\r\n?/g,z=/\u0000|\uFFFD/g;function M(e){return(typeof e=="string"?e:""+e).replace(k,`
`).replace(z,"")}function H(e,n,o){if(n=M(n),M(e)!==n&&o)throw Error(r(425))}function Q(){}var le=null,ke=null;function Ie(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var yt=typeof setTimeout=="function"?setTimeout:void 0,gt=typeof clearTimeout=="function"?clearTimeout:void 0,Ft=typeof Promise=="function"?Promise:void 0,Rt=typeof queueMicrotask=="function"?queueMicrotask:typeof Ft<"u"?function(e){return Ft.resolve(null).then(e).catch(vr)}:yt;function vr(e){setTimeout(function(){throw e})}function da(e,n){var o=n,h=0;do{var m=o.nextSibling;if(e.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(h===0){e.removeChild(m),an(n);return}h--}else o!=="$"&&o!=="$?"&&o!=="$!"||h++;o=m}while(o);an(n)}function pi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function vl(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Ai=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Ai,_r="__reactProps$"+Ai,Ge="__reactContainer$"+Ai,yr="__reactEvents$"+Ai,Mu="__reactListeners$"+Ai,Du="__reactHandles$"+Ai;function Mi(e){var n=e[Sn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Ge]||o[Sn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=vl(e);e!==null;){if(o=e[Sn])return o;e=vl(e)}return n}e=o,o=e.parentNode}return null}function Di(e){return e=e[Sn]||e[Ge],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ui(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function no(e){return e[_r]||null}var Uu=[],io=-1;function wr(e){return{current:e}}function rt(e){0>io||(e.current=Uu[io],Uu[io]=null,io--)}function et(e,n){io++,Uu[io]=e.current,e.current=n}var br={},It=wr(br),Kt=wr(!1),fs=br;function ro(e,n){var o=e.type.contextTypes;if(!o)return br;var h=e.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===n)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in o)m[v]=n[v];return h&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=m),m}function Gt(e){return e=e.childContextTypes,e!=null}function _l(){rt(Kt),rt(It)}function Mh(e,n,o){if(It.current!==br)throw Error(r(168));et(It,n),et(Kt,o)}function Dh(e,n,o){var h=e.stateNode;if(n=n.childContextTypes,typeof h.getChildContext!="function")return o;h=h.getChildContext();for(var m in h)if(!(m in n))throw Error(r(108,Le(e)||"Unknown",m));return B({},o,h)}function yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||br,fs=It.current,et(It,e),et(Kt,Kt.current),!0}function Uh(e,n,o){var h=e.stateNode;if(!h)throw Error(r(169));o?(e=Dh(e,n,fs),h.__reactInternalMemoizedMergedChildContext=e,rt(Kt),rt(It),et(It,e)):rt(Kt),et(Kt,o)}var $i=null,wl=!1,$u=!1;function $h(e){$i===null?$i=[e]:$i.push(e)}function um(e){wl=!0,$h(e)}function xr(){if(!$u&&$i!==null){$u=!0;var e=0,n=He;try{var o=$i;for(He=1;e<o.length;e++){var h=o[e];do h=h(!0);while(h!==null)}$i=null,wl=!1}catch(m){throw $i!==null&&($i=$i.slice(e+1)),si(Fo,xr),m}finally{He=n,$u=!1}}return null}var so=[],oo=0,bl=null,xl=0,Pn=[],En=0,ps=null,Fi=1,Bi="";function ms(e,n){so[oo++]=xl,so[oo++]=bl,bl=e,xl=n}function Fh(e,n,o){Pn[En++]=Fi,Pn[En++]=Bi,Pn[En++]=ps,ps=e;var h=Fi;e=Bi;var m=32-Re(h)-1;h&=~(1<<m),o+=1;var v=32-Re(n)+m;if(30<v){var b=m-m%5;v=(h&(1<<b)-1).toString(32),h>>=b,m-=b,Fi=1<<32-Re(n)+m|o<<m|h,Bi=v+e}else Fi=1<<v|o<<m|h,Bi=e}function Fu(e){e.return!==null&&(ms(e,1),Fh(e,1,0))}function Bu(e){for(;e===bl;)bl=so[--oo],so[oo]=null,xl=so[--oo],so[oo]=null;for(;e===ps;)ps=Pn[--En],Pn[En]=null,Bi=Pn[--En],Pn[En]=null,Fi=Pn[--En],Pn[En]=null}var dn=null,fn=null,ot=!1,$n=null;function Bh(e,n){var o=zn(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function Zh(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,dn=e,fn=pi(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,dn=e,fn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=ps!==null?{id:Fi,overflow:Bi}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=zn(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,dn=e,fn=null,!0):!1;default:return!1}}function Zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hu(e){if(ot){var n=fn;if(n){var o=n;if(!Zh(e,n)){if(Zu(e))throw Error(r(418));n=pi(o.nextSibling);var h=dn;n&&Zh(e,n)?Bh(h,o):(e.flags=e.flags&-4097|2,ot=!1,dn=e)}}else{if(Zu(e))throw Error(r(418));e.flags=e.flags&-4097|2,ot=!1,dn=e}}}function Hh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dn=e}function kl(e){if(e!==dn)return!1;if(!ot)return Hh(e),ot=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ie(e.type,e.memoizedProps)),n&&(n=fn)){if(Zu(e))throw Wh(),Error(r(418));for(;n;)Bh(e,n),n=pi(n.nextSibling)}if(Hh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){fn=pi(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}fn=null}}else fn=dn?pi(e.stateNode.nextSibling):null;return!0}function Wh(){for(var e=fn;e;)e=pi(e.nextSibling)}function ao(){fn=dn=null,ot=!1}function Wu(e){$n===null?$n=[e]:$n.push(e)}var cm=Y.ReactCurrentBatchConfig;function fa(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var h=o.stateNode}if(!h)throw Error(r(147,e));var m=h,v=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===v?n.ref:(n=function(b){var E=m.refs;b===null?delete E[v]:E[v]=b},n._stringRef=v,n)}if(typeof e!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,e))}return e}function Sl(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Vh(e){var n=e._init;return n(e._payload)}function qh(e){function n(U,N){if(e){var F=U.deletions;F===null?(U.deletions=[N],U.flags|=16):F.push(N)}}function o(U,N){if(!e)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function h(U,N){for(U=new Map;N!==null;)N.key!==null?U.set(N.key,N):U.set(N.index,N),N=N.sibling;return U}function m(U,N){return U=zr(U,N),U.index=0,U.sibling=null,U}function v(U,N,F){return U.index=F,e?(F=U.alternate,F!==null?(F=F.index,F<N?(U.flags|=2,N):F):(U.flags|=2,N)):(U.flags|=1048576,N)}function b(U){return e&&U.alternate===null&&(U.flags|=2),U}function E(U,N,F,re){return N===null||N.tag!==6?(N=Ac(F,U.mode,re),N.return=U,N):(N=m(N,F),N.return=U,N)}function O(U,N,F,re){var we=F.type;return we===ue?ee(U,N,F.props.children,re,F.key):N!==null&&(N.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ze&&Vh(we)===N.type)?(re=m(N,F.props),re.ref=fa(U,N,F),re.return=U,re):(re=Kl(F.type,F.key,F.props,null,U.mode,re),re.ref=fa(U,N,F),re.return=U,re)}function W(U,N,F,re){return N===null||N.tag!==4||N.stateNode.containerInfo!==F.containerInfo||N.stateNode.implementation!==F.implementation?(N=Mc(F,U.mode,re),N.return=U,N):(N=m(N,F.children||[]),N.return=U,N)}function ee(U,N,F,re,we){return N===null||N.tag!==7?(N=ks(F,U.mode,re,we),N.return=U,N):(N=m(N,F),N.return=U,N)}function ne(U,N,F){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Ac(""+N,U.mode,F),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case se:return F=Kl(N.type,N.key,N.props,null,U.mode,F),F.ref=fa(U,null,N),F.return=U,F;case oe:return N=Mc(N,U.mode,F),N.return=U,N;case ze:var re=N._init;return ne(U,re(N._payload),F)}if(Kn(N)||Z(N))return N=ks(N,U.mode,F,null),N.return=U,N;Sl(U,N)}return null}function X(U,N,F,re){var we=N!==null?N.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return we!==null?null:E(U,N,""+F,re);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case se:return F.key===we?O(U,N,F,re):null;case oe:return F.key===we?W(U,N,F,re):null;case ze:return we=F._init,X(U,N,we(F._payload),re)}if(Kn(F)||Z(F))return we!==null?null:ee(U,N,F,re,null);Sl(U,F)}return null}function de(U,N,F,re,we){if(typeof re=="string"&&re!==""||typeof re=="number")return U=U.get(F)||null,E(N,U,""+re,we);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case se:return U=U.get(re.key===null?F:re.key)||null,O(N,U,re,we);case oe:return U=U.get(re.key===null?F:re.key)||null,W(N,U,re,we);case ze:var Pe=re._init;return de(U,N,F,Pe(re._payload),we)}if(Kn(re)||Z(re))return U=U.get(F)||null,ee(N,U,re,we,null);Sl(N,re)}return null}function me(U,N,F,re){for(var we=null,Pe=null,Ee=N,je=N=0,Et=null;Ee!==null&&je<F.length;je++){Ee.index>je?(Et=Ee,Ee=null):Et=Ee.sibling;var qe=X(U,Ee,F[je],re);if(qe===null){Ee===null&&(Ee=Et);break}e&&Ee&&qe.alternate===null&&n(U,Ee),N=v(qe,N,je),Pe===null?we=qe:Pe.sibling=qe,Pe=qe,Ee=Et}if(je===F.length)return o(U,Ee),ot&&ms(U,je),we;if(Ee===null){for(;je<F.length;je++)Ee=ne(U,F[je],re),Ee!==null&&(N=v(Ee,N,je),Pe===null?we=Ee:Pe.sibling=Ee,Pe=Ee);return ot&&ms(U,je),we}for(Ee=h(U,Ee);je<F.length;je++)Et=de(Ee,U,je,F[je],re),Et!==null&&(e&&Et.alternate!==null&&Ee.delete(Et.key===null?je:Et.key),N=v(Et,N,je),Pe===null?we=Et:Pe.sibling=Et,Pe=Et);return e&&Ee.forEach(function(jr){return n(U,jr)}),ot&&ms(U,je),we}function _e(U,N,F,re){var we=Z(F);if(typeof we!="function")throw Error(r(150));if(F=we.call(F),F==null)throw Error(r(151));for(var Pe=we=null,Ee=N,je=N=0,Et=null,qe=F.next();Ee!==null&&!qe.done;je++,qe=F.next()){Ee.index>je?(Et=Ee,Ee=null):Et=Ee.sibling;var jr=X(U,Ee,qe.value,re);if(jr===null){Ee===null&&(Ee=Et);break}e&&Ee&&jr.alternate===null&&n(U,Ee),N=v(jr,N,je),Pe===null?we=jr:Pe.sibling=jr,Pe=jr,Ee=Et}if(qe.done)return o(U,Ee),ot&&ms(U,je),we;if(Ee===null){for(;!qe.done;je++,qe=F.next())qe=ne(U,qe.value,re),qe!==null&&(N=v(qe,N,je),Pe===null?we=qe:Pe.sibling=qe,Pe=qe);return ot&&ms(U,je),we}for(Ee=h(U,Ee);!qe.done;je++,qe=F.next())qe=de(Ee,U,je,qe.value,re),qe!==null&&(e&&qe.alternate!==null&&Ee.delete(qe.key===null?je:qe.key),N=v(qe,N,je),Pe===null?we=qe:Pe.sibling=qe,Pe=qe);return e&&Ee.forEach(function(Zm){return n(U,Zm)}),ot&&ms(U,je),we}function ft(U,N,F,re){if(typeof F=="object"&&F!==null&&F.type===ue&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case se:e:{for(var we=F.key,Pe=N;Pe!==null;){if(Pe.key===we){if(we=F.type,we===ue){if(Pe.tag===7){o(U,Pe.sibling),N=m(Pe,F.props.children),N.return=U,U=N;break e}}else if(Pe.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===ze&&Vh(we)===Pe.type){o(U,Pe.sibling),N=m(Pe,F.props),N.ref=fa(U,Pe,F),N.return=U,U=N;break e}o(U,Pe);break}else n(U,Pe);Pe=Pe.sibling}F.type===ue?(N=ks(F.props.children,U.mode,re,F.key),N.return=U,U=N):(re=Kl(F.type,F.key,F.props,null,U.mode,re),re.ref=fa(U,N,F),re.return=U,U=re)}return b(U);case oe:e:{for(Pe=F.key;N!==null;){if(N.key===Pe)if(N.tag===4&&N.stateNode.containerInfo===F.containerInfo&&N.stateNode.implementation===F.implementation){o(U,N.sibling),N=m(N,F.children||[]),N.return=U,U=N;break e}else{o(U,N);break}else n(U,N);N=N.sibling}N=Mc(F,U.mode,re),N.return=U,U=N}return b(U);case ze:return Pe=F._init,ft(U,N,Pe(F._payload),re)}if(Kn(F))return me(U,N,F,re);if(Z(F))return _e(U,N,F,re);Sl(U,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,N!==null&&N.tag===6?(o(U,N.sibling),N=m(N,F),N.return=U,U=N):(o(U,N),N=Ac(F,U.mode,re),N.return=U,U=N),b(U)):o(U,N)}return ft}var lo=qh(!0),Kh=qh(!1),Pl=wr(null),El=null,uo=null,Vu=null;function qu(){Vu=uo=El=null}function Ku(e){var n=Pl.current;rt(Pl),e._currentValue=n}function Gu(e,n,o){for(;e!==null;){var h=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,h!==null&&(h.childLanes|=n)):h!==null&&(h.childLanes&n)!==n&&(h.childLanes|=n),e===o)break;e=e.return}}function co(e,n){El=e,Vu=uo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Jt=!0),e.firstContext=null)}function Cn(e){var n=e._currentValue;if(Vu!==e)if(e={context:e,memoizedValue:n,next:null},uo===null){if(El===null)throw Error(r(308));uo=e,El.dependencies={lanes:0,firstContext:e}}else uo=uo.next=e;return n}var gs=null;function Ju(e){gs===null?gs=[e]:gs.push(e)}function Gh(e,n,o,h){var m=n.interleaved;return m===null?(o.next=o,Ju(n)):(o.next=m.next,m.next=o),n.interleaved=o,Zi(e,h)}function Zi(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var kr=!1;function Qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hi(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Sr(e,n,o){var h=e.updateQueue;if(h===null)return null;if(h=h.shared,(Ve&2)!==0){var m=h.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),h.pending=n,Zi(e,o)}return m=h.interleaved,m===null?(n.next=n,Ju(h)):(n.next=m.next,m.next=n),h.interleaved=n,Zi(e,o)}function Cl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var h=n.lanes;h&=e.pendingLanes,o|=h,n.lanes=o,In(e,o)}}function Qh(e,n){var o=e.updateQueue,h=e.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var b={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};v===null?m=v=b:v=v.next=b,o=o.next}while(o!==null);v===null?m=v=n:v=v.next=n}else m=v=n;o={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function Ll(e,n,o,h){var m=e.updateQueue;kr=!1;var v=m.firstBaseUpdate,b=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var O=E,W=O.next;O.next=null,b===null?v=W:b.next=W,b=O;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,E=ee.lastBaseUpdate,E!==b&&(E===null?ee.firstBaseUpdate=W:E.next=W,ee.lastBaseUpdate=O))}if(v!==null){var ne=m.baseState;b=0,ee=W=O=null,E=v;do{var X=E.lane,de=E.eventTime;if((h&X)===X){ee!==null&&(ee=ee.next={eventTime:de,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var me=e,_e=E;switch(X=n,de=o,_e.tag){case 1:if(me=_e.payload,typeof me=="function"){ne=me.call(de,ne,X);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=_e.payload,X=typeof me=="function"?me.call(de,ne,X):me,X==null)break e;ne=B({},ne,X);break e;case 2:kr=!0}}E.callback!==null&&E.lane!==0&&(e.flags|=64,X=m.effects,X===null?m.effects=[E]:X.push(E))}else de={eventTime:de,lane:X,tag:E.tag,payload:E.payload,callback:E.callback,next:null},ee===null?(W=ee=de,O=ne):ee=ee.next=de,b|=X;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;X=E,E=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);if(ee===null&&(O=ne),m.baseState=O,m.firstBaseUpdate=W,m.lastBaseUpdate=ee,n=m.shared.interleaved,n!==null){m=n;do b|=m.lane,m=m.next;while(m!==n)}else v===null&&(m.shared.lanes=0);ys|=b,e.lanes=b,e.memoizedState=ne}}function Yh(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var h=e[n],m=h.callback;if(m!==null){if(h.callback=null,h=o,typeof m!="function")throw Error(r(191,m));m.call(h)}}}var pa={},mi=wr(pa),ma=wr(pa),ga=wr(pa);function vs(e){if(e===pa)throw Error(r(174));return e}function Yu(e,n){switch(et(ga,n),et(ma,e),et(mi,pa),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Si(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Si(n,e)}rt(mi),et(mi,n)}function ho(){rt(mi),rt(ma),rt(ga)}function Xh(e){vs(ga.current);var n=vs(mi.current),o=Si(n,e.type);n!==o&&(et(ma,e),et(mi,o))}function Xu(e){ma.current===e&&(rt(mi),rt(ma))}var ut=wr(0);function Tl(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ec=[];function tc(){for(var e=0;e<ec.length;e++)ec[e]._workInProgressVersionPrimary=null;ec.length=0}var zl=Y.ReactCurrentDispatcher,nc=Y.ReactCurrentBatchConfig,_s=0,ct=null,wt=null,St=null,jl=!1,va=!1,_a=0,hm=0;function At(){throw Error(r(321))}function ic(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!cn(e[o],n[o]))return!1;return!0}function rc(e,n,o,h,m,v){if(_s=v,ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,zl.current=e===null||e.memoizedState===null?mm:gm,e=o(h,m),va){v=0;do{if(va=!1,_a=0,25<=v)throw Error(r(301));v+=1,St=wt=null,n.updateQueue=null,zl.current=vm,e=o(h,m)}while(va)}if(zl.current=Rl,n=wt!==null&&wt.next!==null,_s=0,St=wt=ct=null,jl=!1,n)throw Error(r(300));return e}function sc(){var e=_a!==0;return _a=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?ct.memoizedState=St=e:St=St.next=e,St}function Ln(){if(wt===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=wt.next;var n=St===null?ct.memoizedState:St.next;if(n!==null)St=n,wt=e;else{if(e===null)throw Error(r(310));wt=e,e={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},St===null?ct.memoizedState=St=e:St=St.next=e}return St}function ya(e,n){return typeof n=="function"?n(e):n}function oc(e){var n=Ln(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var h=wt,m=h.baseQueue,v=o.pending;if(v!==null){if(m!==null){var b=m.next;m.next=v.next,v.next=b}h.baseQueue=m=v,o.pending=null}if(m!==null){v=m.next,h=h.baseState;var E=b=null,O=null,W=v;do{var ee=W.lane;if((_s&ee)===ee)O!==null&&(O=O.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),h=W.hasEagerState?W.eagerState:e(h,W.action);else{var ne={lane:ee,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};O===null?(E=O=ne,b=h):O=O.next=ne,ct.lanes|=ee,ys|=ee}W=W.next}while(W!==null&&W!==v);O===null?b=h:O.next=E,cn(h,n.memoizedState)||(Jt=!0),n.memoizedState=h,n.baseState=b,n.baseQueue=O,o.lastRenderedState=h}if(e=o.interleaved,e!==null){m=e;do v=m.lane,ct.lanes|=v,ys|=v,m=m.next;while(m!==e)}else m===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function ac(e){var n=Ln(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var h=o.dispatch,m=o.pending,v=n.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do v=e(v,b.action),b=b.next;while(b!==m);cn(v,n.memoizedState)||(Jt=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),o.lastRenderedState=v}return[v,h]}function ed(){}function td(e,n){var o=ct,h=Ln(),m=n(),v=!cn(h.memoizedState,m);if(v&&(h.memoizedState=m,Jt=!0),h=h.queue,lc(rd.bind(null,o,h,e),[e]),h.getSnapshot!==n||v||St!==null&&St.memoizedState.tag&1){if(o.flags|=2048,wa(9,id.bind(null,o,h,m,n),void 0,null),Pt===null)throw Error(r(349));(_s&30)!==0||nd(o,n,m)}return m}function nd(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=ct.updateQueue,n===null?(n={lastEffect:null,stores:null},ct.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function id(e,n,o,h){n.value=o,n.getSnapshot=h,sd(n)&&od(e)}function rd(e,n,o){return o(function(){sd(n)&&od(e)})}function sd(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!cn(e,o)}catch{return!0}}function od(e){var n=Zi(e,1);n!==null&&Hn(n,e,1,-1)}function ad(e){var n=gi();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:e},n.queue=e,e=e.dispatch=pm.bind(null,ct,e),[n.memoizedState,e]}function wa(e,n,o,h){return e={tag:e,create:n,destroy:o,deps:h,next:null},n=ct.updateQueue,n===null?(n={lastEffect:null,stores:null},ct.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(h=o.next,o.next=e,e.next=h,n.lastEffect=e)),e}function ld(){return Ln().memoizedState}function Ol(e,n,o,h){var m=gi();ct.flags|=e,m.memoizedState=wa(1|n,o,void 0,h===void 0?null:h)}function Nl(e,n,o,h){var m=Ln();h=h===void 0?null:h;var v=void 0;if(wt!==null){var b=wt.memoizedState;if(v=b.destroy,h!==null&&ic(h,b.deps)){m.memoizedState=wa(n,o,v,h);return}}ct.flags|=e,m.memoizedState=wa(1|n,o,v,h)}function ud(e,n){return Ol(8390656,8,e,n)}function lc(e,n){return Nl(2048,8,e,n)}function cd(e,n){return Nl(4,2,e,n)}function hd(e,n){return Nl(4,4,e,n)}function dd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function fd(e,n,o){return o=o!=null?o.concat([e]):null,Nl(4,4,dd.bind(null,n,e),o)}function uc(){}function pd(e,n){var o=Ln();n=n===void 0?null:n;var h=o.memoizedState;return h!==null&&n!==null&&ic(n,h[1])?h[0]:(o.memoizedState=[e,n],e)}function md(e,n){var o=Ln();n=n===void 0?null:n;var h=o.memoizedState;return h!==null&&n!==null&&ic(n,h[1])?h[0]:(e=e(),o.memoizedState=[e,n],e)}function gd(e,n,o){return(_s&21)===0?(e.baseState&&(e.baseState=!1,Jt=!0),e.memoizedState=o):(cn(o,n)||(o=Ga(),ct.lanes|=o,ys|=o,e.baseState=!0),n)}function dm(e,n){var o=He;He=o!==0&&4>o?o:4,e(!0);var h=nc.transition;nc.transition={};try{e(!1),n()}finally{He=o,nc.transition=h}}function vd(){return Ln().memoizedState}function fm(e,n,o){var h=Lr(e);if(o={lane:h,action:o,hasEagerState:!1,eagerState:null,next:null},_d(e))yd(n,o);else if(o=Gh(e,n,o,h),o!==null){var m=Zt();Hn(o,e,h,m),wd(o,n,h)}}function pm(e,n,o){var h=Lr(e),m={lane:h,action:o,hasEagerState:!1,eagerState:null,next:null};if(_d(e))yd(n,m);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var b=n.lastRenderedState,E=v(b,o);if(m.hasEagerState=!0,m.eagerState=E,cn(E,b)){var O=n.interleaved;O===null?(m.next=m,Ju(n)):(m.next=O.next,O.next=m),n.interleaved=m;return}}catch{}finally{}o=Gh(e,n,m,h),o!==null&&(m=Zt(),Hn(o,e,h,m),wd(o,n,h))}}function _d(e){var n=e.alternate;return e===ct||n!==null&&n===ct}function yd(e,n){va=jl=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function wd(e,n,o){if((o&4194240)!==0){var h=n.lanes;h&=e.pendingLanes,o|=h,n.lanes=o,In(e,o)}}var Rl={readContext:Cn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},mm={readContext:Cn,useCallback:function(e,n){return gi().memoizedState=[e,n===void 0?null:n],e},useContext:Cn,useEffect:ud,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,Ol(4194308,4,dd.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Ol(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ol(4,2,e,n)},useMemo:function(e,n){var o=gi();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var h=gi();return n=o!==void 0?o(n):n,h.memoizedState=h.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},h.queue=e,e=e.dispatch=fm.bind(null,ct,e),[h.memoizedState,e]},useRef:function(e){var n=gi();return e={current:e},n.memoizedState=e},useState:ad,useDebugValue:uc,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=ad(!1),n=e[0];return e=dm.bind(null,e[1]),gi().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var h=ct,m=gi();if(ot){if(o===void 0)throw Error(r(407));o=o()}else{if(o=n(),Pt===null)throw Error(r(349));(_s&30)!==0||nd(h,n,o)}m.memoizedState=o;var v={value:o,getSnapshot:n};return m.queue=v,ud(rd.bind(null,h,v,e),[e]),h.flags|=2048,wa(9,id.bind(null,h,v,o,n),void 0,null),o},useId:function(){var e=gi(),n=Pt.identifierPrefix;if(ot){var o=Bi,h=Fi;o=(h&~(1<<32-Re(h)-1)).toString(32)+o,n=":"+n+"R"+o,o=_a++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=hm++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},gm={readContext:Cn,useCallback:pd,useContext:Cn,useEffect:lc,useImperativeHandle:fd,useInsertionEffect:cd,useLayoutEffect:hd,useMemo:md,useReducer:oc,useRef:ld,useState:function(){return oc(ya)},useDebugValue:uc,useDeferredValue:function(e){var n=Ln();return gd(n,wt.memoizedState,e)},useTransition:function(){var e=oc(ya)[0],n=Ln().memoizedState;return[e,n]},useMutableSource:ed,useSyncExternalStore:td,useId:vd,unstable_isNewReconciler:!1},vm={readContext:Cn,useCallback:pd,useContext:Cn,useEffect:lc,useImperativeHandle:fd,useInsertionEffect:cd,useLayoutEffect:hd,useMemo:md,useReducer:ac,useRef:ld,useState:function(){return ac(ya)},useDebugValue:uc,useDeferredValue:function(e){var n=Ln();return wt===null?n.memoizedState=e:gd(n,wt.memoizedState,e)},useTransition:function(){var e=ac(ya)[0],n=Ln().memoizedState;return[e,n]},useMutableSource:ed,useSyncExternalStore:td,useId:vd,unstable_isNewReconciler:!1};function Fn(e,n){if(e&&e.defaultProps){n=B({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function cc(e,n,o,h){n=e.memoizedState,o=o(h,n),o=o==null?n:B({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Il={isMounted:function(e){return(e=e._reactInternals)?mt(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var h=Zt(),m=Lr(e),v=Hi(h,m);v.payload=n,o!=null&&(v.callback=o),n=Sr(e,v,m),n!==null&&(Hn(n,e,m,h),Cl(n,e,m))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var h=Zt(),m=Lr(e),v=Hi(h,m);v.tag=1,v.payload=n,o!=null&&(v.callback=o),n=Sr(e,v,m),n!==null&&(Hn(n,e,m,h),Cl(n,e,m))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Zt(),h=Lr(e),m=Hi(o,h);m.tag=2,n!=null&&(m.callback=n),n=Sr(e,m,h),n!==null&&(Hn(n,e,h,o),Cl(n,e,h))}};function bd(e,n,o,h,m,v,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(h,v,b):n.prototype&&n.prototype.isPureReactComponent?!hi(o,h)||!hi(m,v):!0}function xd(e,n,o){var h=!1,m=br,v=n.contextType;return typeof v=="object"&&v!==null?v=Cn(v):(m=Gt(n)?fs:It.current,h=n.contextTypes,v=(h=h!=null)?ro(e,m):br),n=new n(o,v),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Il,e.stateNode=n,n._reactInternals=e,h&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=m,e.__reactInternalMemoizedMaskedChildContext=v),n}function kd(e,n,o,h){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,h),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,h),n.state!==e&&Il.enqueueReplaceState(n,n.state,null)}function hc(e,n,o,h){var m=e.stateNode;m.props=o,m.state=e.memoizedState,m.refs={},Qu(e);var v=n.contextType;typeof v=="object"&&v!==null?m.context=Cn(v):(v=Gt(n)?fs:It.current,m.context=ro(e,v)),m.state=e.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(cc(e,n,v,o),m.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(n=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),n!==m.state&&Il.enqueueReplaceState(m,m.state,null),Ll(e,o,m,h),m.state=e.memoizedState),typeof m.componentDidMount=="function"&&(e.flags|=4194308)}function fo(e,n){try{var o="",h=n;do o+=pe(h),h=h.return;while(h);var m=o}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:n,stack:m,digest:null}}function dc(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function fc(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var _m=typeof WeakMap=="function"?WeakMap:Map;function Sd(e,n,o){o=Hi(-1,o),o.tag=3,o.payload={element:null};var h=n.value;return o.callback=function(){Bl||(Bl=!0,Lc=h),fc(e,n)},o}function Pd(e,n,o){o=Hi(-1,o),o.tag=3;var h=e.type.getDerivedStateFromError;if(typeof h=="function"){var m=n.value;o.payload=function(){return h(m)},o.callback=function(){fc(e,n)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(o.callback=function(){fc(e,n),typeof h!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var b=n.stack;this.componentDidCatch(n.value,{componentStack:b!==null?b:""})}),o}function Ed(e,n,o){var h=e.pingCache;if(h===null){h=e.pingCache=new _m;var m=new Set;h.set(n,m)}else m=h.get(n),m===void 0&&(m=new Set,h.set(n,m));m.has(o)||(m.add(o),e=Om.bind(null,e,n,o),n.then(e,e))}function Cd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Ld(e,n,o,h,m){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=Hi(-1,1),n.tag=2,Sr(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=m,e)}var ym=Y.ReactCurrentOwner,Jt=!1;function Bt(e,n,o,h){n.child=e===null?Kh(n,null,o,h):lo(n,e.child,o,h)}function Td(e,n,o,h,m){o=o.render;var v=n.ref;return co(n,m),h=rc(e,n,o,h,v,m),o=sc(),e!==null&&!Jt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,Wi(e,n,m)):(ot&&o&&Fu(n),n.flags|=1,Bt(e,n,h,m),n.child)}function zd(e,n,o,h,m){if(e===null){var v=o.type;return typeof v=="function"&&!Ic(v)&&v.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=v,jd(e,n,v,h,m)):(e=Kl(o.type,null,h,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,(e.lanes&m)===0){var b=v.memoizedProps;if(o=o.compare,o=o!==null?o:hi,o(b,h)&&e.ref===n.ref)return Wi(e,n,m)}return n.flags|=1,e=zr(v,h),e.ref=n.ref,e.return=n,n.child=e}function jd(e,n,o,h,m){if(e!==null){var v=e.memoizedProps;if(hi(v,h)&&e.ref===n.ref)if(Jt=!1,n.pendingProps=h=v,(e.lanes&m)!==0)(e.flags&131072)!==0&&(Jt=!0);else return n.lanes=e.lanes,Wi(e,n,m)}return pc(e,n,o,h,m)}function Od(e,n,o){var h=n.pendingProps,m=h.children,v=e!==null?e.memoizedState:null;if(h.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(mo,pn),pn|=o;else{if((o&1073741824)===0)return e=v!==null?v.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,et(mo,pn),pn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:o,et(mo,pn),pn|=h}else v!==null?(h=v.baseLanes|o,n.memoizedState=null):h=o,et(mo,pn),pn|=h;return Bt(e,n,m,o),n.child}function Nd(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function pc(e,n,o,h,m){var v=Gt(o)?fs:It.current;return v=ro(n,v),co(n,m),o=rc(e,n,o,h,v,m),h=sc(),e!==null&&!Jt?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,Wi(e,n,m)):(ot&&h&&Fu(n),n.flags|=1,Bt(e,n,o,m),n.child)}function Rd(e,n,o,h,m){if(Gt(o)){var v=!0;yl(n)}else v=!1;if(co(n,m),n.stateNode===null)Ml(e,n),xd(n,o,h),hc(n,o,h,m),h=!0;else if(e===null){var b=n.stateNode,E=n.memoizedProps;b.props=E;var O=b.context,W=o.contextType;typeof W=="object"&&W!==null?W=Cn(W):(W=Gt(o)?fs:It.current,W=ro(n,W));var ee=o.getDerivedStateFromProps,ne=typeof ee=="function"||typeof b.getSnapshotBeforeUpdate=="function";ne||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==h||O!==W)&&kd(n,b,h,W),kr=!1;var X=n.memoizedState;b.state=X,Ll(n,h,b,m),O=n.memoizedState,E!==h||X!==O||Kt.current||kr?(typeof ee=="function"&&(cc(n,o,ee,h),O=n.memoizedState),(E=kr||bd(n,o,E,h,X,O,W))?(ne||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=h,n.memoizedState=O),b.props=h,b.state=O,b.context=W,h=E):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),h=!1)}else{b=n.stateNode,Jh(e,n),E=n.memoizedProps,W=n.type===n.elementType?E:Fn(n.type,E),b.props=W,ne=n.pendingProps,X=b.context,O=o.contextType,typeof O=="object"&&O!==null?O=Cn(O):(O=Gt(o)?fs:It.current,O=ro(n,O));var de=o.getDerivedStateFromProps;(ee=typeof de=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==ne||X!==O)&&kd(n,b,h,O),kr=!1,X=n.memoizedState,b.state=X,Ll(n,h,b,m);var me=n.memoizedState;E!==ne||X!==me||Kt.current||kr?(typeof de=="function"&&(cc(n,o,de,h),me=n.memoizedState),(W=kr||bd(n,o,W,h,X,me,O)||!1)?(ee||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,me,O),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,me,O)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===e.memoizedProps&&X===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&X===e.memoizedState||(n.flags|=1024),n.memoizedProps=h,n.memoizedState=me),b.props=h,b.state=me,b.context=O,h=W):(typeof b.componentDidUpdate!="function"||E===e.memoizedProps&&X===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===e.memoizedProps&&X===e.memoizedState||(n.flags|=1024),h=!1)}return mc(e,n,o,h,v,m)}function mc(e,n,o,h,m,v){Nd(e,n);var b=(n.flags&128)!==0;if(!h&&!b)return m&&Uh(n,o,!1),Wi(e,n,v);h=n.stateNode,ym.current=n;var E=b&&typeof o.getDerivedStateFromError!="function"?null:h.render();return n.flags|=1,e!==null&&b?(n.child=lo(n,e.child,null,v),n.child=lo(n,null,E,v)):Bt(e,n,E,v),n.memoizedState=h.state,m&&Uh(n,o,!0),n.child}function Id(e){var n=e.stateNode;n.pendingContext?Mh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Mh(e,n.context,!1),Yu(e,n.containerInfo)}function Ad(e,n,o,h,m){return ao(),Wu(m),n.flags|=256,Bt(e,n,o,h),n.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function vc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Md(e,n,o){var h=n.pendingProps,m=ut.current,v=!1,b=(n.flags&128)!==0,E;if((E=b)||(E=e!==null&&e.memoizedState===null?!1:(m&2)!==0),E?(v=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(m|=1),et(ut,m&1),e===null)return Hu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(b=h.children,e=h.fallback,v?(h=n.mode,v=n.child,b={mode:"hidden",children:b},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=b):v=Gl(b,h,0,null),e=ks(e,h,o,null),v.return=n,e.return=n,v.sibling=e,n.child=v,n.child.memoizedState=vc(o),n.memoizedState=gc,e):_c(n,b));if(m=e.memoizedState,m!==null&&(E=m.dehydrated,E!==null))return wm(e,n,b,h,E,m,o);if(v){v=h.fallback,b=n.mode,m=e.child,E=m.sibling;var O={mode:"hidden",children:h.children};return(b&1)===0&&n.child!==m?(h=n.child,h.childLanes=0,h.pendingProps=O,n.deletions=null):(h=zr(m,O),h.subtreeFlags=m.subtreeFlags&14680064),E!==null?v=zr(E,v):(v=ks(v,b,o,null),v.flags|=2),v.return=n,h.return=n,h.sibling=v,n.child=h,h=v,v=n.child,b=e.child.memoizedState,b=b===null?vc(o):{baseLanes:b.baseLanes|o,cachePool:null,transitions:b.transitions},v.memoizedState=b,v.childLanes=e.childLanes&~o,n.memoizedState=gc,h}return v=e.child,e=v.sibling,h=zr(v,{mode:"visible",children:h.children}),(n.mode&1)===0&&(h.lanes=o),h.return=n,h.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=h,n.memoizedState=null,h}function _c(e,n){return n=Gl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Al(e,n,o,h){return h!==null&&Wu(h),lo(n,e.child,null,o),e=_c(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wm(e,n,o,h,m,v,b){if(o)return n.flags&256?(n.flags&=-257,h=dc(Error(r(422))),Al(e,n,b,h)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(v=h.fallback,m=n.mode,h=Gl({mode:"visible",children:h.children},m,0,null),v=ks(v,m,b,null),v.flags|=2,h.return=n,v.return=n,h.sibling=v,n.child=h,(n.mode&1)!==0&&lo(n,e.child,null,b),n.child.memoizedState=vc(b),n.memoizedState=gc,v);if((n.mode&1)===0)return Al(e,n,b,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var E=h.dgst;return h=E,v=Error(r(419)),h=dc(v,h,void 0),Al(e,n,b,h)}if(E=(b&e.childLanes)!==0,Jt||E){if(h=Pt,h!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|b))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Zi(e,m),Hn(h,e,m,-1))}return Rc(),h=dc(Error(r(421))),Al(e,n,b,h)}return m.data==="$?"?(n.flags|=128,n.child=e.child,n=Nm.bind(null,e),m._reactRetry=n,null):(e=v.treeContext,fn=pi(m.nextSibling),dn=n,ot=!0,$n=null,e!==null&&(Pn[En++]=Fi,Pn[En++]=Bi,Pn[En++]=ps,Fi=e.id,Bi=e.overflow,ps=n),n=_c(n,h.children),n.flags|=4096,n)}function Dd(e,n,o){e.lanes|=n;var h=e.alternate;h!==null&&(h.lanes|=n),Gu(e.return,n,o)}function yc(e,n,o,h,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:m}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=o,v.tailMode=m)}function Ud(e,n,o){var h=n.pendingProps,m=h.revealOrder,v=h.tail;if(Bt(e,n,h.children,o),h=ut.current,(h&2)!==0)h=h&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dd(e,o,n);else if(e.tag===19)Dd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}h&=1}if(et(ut,h),(n.mode&1)===0)n.memoizedState=null;else switch(m){case"forwards":for(o=n.child,m=null;o!==null;)e=o.alternate,e!==null&&Tl(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=n.child,n.child=null):(m=o.sibling,o.sibling=null),yc(n,!1,m,o,v);break;case"backwards":for(o=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Tl(e)===null){n.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}yc(n,!0,o,null,v);break;case"together":yc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ml(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Wi(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),ys|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,o=zr(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=zr(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function bm(e,n,o){switch(n.tag){case 3:Id(n),ao();break;case 5:Xh(n);break;case 1:Gt(n.type)&&yl(n);break;case 4:Yu(n,n.stateNode.containerInfo);break;case 10:var h=n.type._context,m=n.memoizedProps.value;et(Pl,h._currentValue),h._currentValue=m;break;case 13:if(h=n.memoizedState,h!==null)return h.dehydrated!==null?(et(ut,ut.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?Md(e,n,o):(et(ut,ut.current&1),e=Wi(e,n,o),e!==null?e.sibling:null);et(ut,ut.current&1);break;case 19:if(h=(o&n.childLanes)!==0,(e.flags&128)!==0){if(h)return Ud(e,n,o);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),et(ut,ut.current),h)break;return null;case 22:case 23:return n.lanes=0,Od(e,n,o)}return Wi(e,n,o)}var $d,wc,Fd,Bd;$d=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},wc=function(){},Fd=function(e,n,o,h){var m=e.memoizedProps;if(m!==h){e=n.stateNode,vs(mi.current);var v=null;switch(o){case"input":m=wi(e,m),h=wi(e,h),v=[];break;case"select":m=B({},m,{value:void 0}),h=B({},h,{value:void 0}),v=[];break;case"textarea":m=nt(e,m),h=nt(e,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(e.onclick=Q)}Vr(o,h);var b;o=null;for(W in m)if(!h.hasOwnProperty(W)&&m.hasOwnProperty(W)&&m[W]!=null)if(W==="style"){var E=m[W];for(b in E)E.hasOwnProperty(b)&&(o||(o={}),o[b]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(u.hasOwnProperty(W)?v||(v=[]):(v=v||[]).push(W,null));for(W in h){var O=h[W];if(E=m?.[W],h.hasOwnProperty(W)&&O!==E&&(O!=null||E!=null))if(W==="style")if(E){for(b in E)!E.hasOwnProperty(b)||O&&O.hasOwnProperty(b)||(o||(o={}),o[b]="");for(b in O)O.hasOwnProperty(b)&&E[b]!==O[b]&&(o||(o={}),o[b]=O[b])}else o||(v||(v=[]),v.push(W,o)),o=O;else W==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,E=E?E.__html:void 0,O!=null&&E!==O&&(v=v||[]).push(W,O)):W==="children"?typeof O!="string"&&typeof O!="number"||(v=v||[]).push(W,""+O):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(u.hasOwnProperty(W)?(O!=null&&W==="onScroll"&&Qe("scroll",e),v||E===O||(v=[])):(v=v||[]).push(W,O))}o&&(v=v||[]).push("style",o);var W=v;(n.updateQueue=W)&&(n.flags|=4)}},Bd=function(e,n,o,h){o!==h&&(n.flags|=4)};function ba(e,n){if(!ot)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:h.sibling=null}}function Mt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,h=0;if(n)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=h,e.childLanes=o,n}function xm(e,n,o){var h=n.pendingProps;switch(Bu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(n),null;case 1:return Gt(n.type)&&_l(),Mt(n),null;case 3:return h=n.stateNode,ho(),rt(Kt),rt(It),tc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(e===null||e.child===null)&&(kl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,$n!==null&&(jc($n),$n=null))),wc(e,n),Mt(n),null;case 5:Xu(n);var m=vs(ga.current);if(o=n.type,e!==null&&n.stateNode!=null)Fd(e,n,o,h,m),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!h){if(n.stateNode===null)throw Error(r(166));return Mt(n),null}if(e=vs(mi.current),kl(n)){h=n.stateNode,o=n.type;var v=n.memoizedProps;switch(h[Sn]=n,h[_r]=v,e=(n.mode&1)!==0,o){case"dialog":Qe("cancel",h),Qe("close",h);break;case"iframe":case"object":case"embed":Qe("load",h);break;case"video":case"audio":for(m=0;m<mr.length;m++)Qe(mr[m],h);break;case"source":Qe("error",h);break;case"img":case"image":case"link":Qe("error",h),Qe("load",h);break;case"details":Qe("toggle",h);break;case"input":gn(h,v),Qe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Qe("invalid",h);break;case"textarea":Br(h,v),Qe("invalid",h)}Vr(o,v),m=null;for(var b in v)if(v.hasOwnProperty(b)){var E=v[b];b==="children"?typeof E=="string"?h.textContent!==E&&(v.suppressHydrationWarning!==!0&&H(h.textContent,E,e),m=["children",E]):typeof E=="number"&&h.textContent!==""+E&&(v.suppressHydrationWarning!==!0&&H(h.textContent,E,e),m=["children",""+E]):u.hasOwnProperty(b)&&E!=null&&b==="onScroll"&&Qe("scroll",h)}switch(o){case"input":mn(h),xi(h,v,!0);break;case"textarea":mn(h),Jn(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Q)}h=m,n.updateQueue=h,h!==null&&(n.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_n(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof h.is=="string"?e=b.createElement(o,{is:h.is}):(e=b.createElement(o),o==="select"&&(b=e,h.multiple?b.multiple=!0:h.size&&(b.size=h.size))):e=b.createElementNS(e,o),e[Sn]=n,e[_r]=h,$d(e,n,!1,!1),n.stateNode=e;e:{switch(b=On(o,h),o){case"dialog":Qe("cancel",e),Qe("close",e),m=h;break;case"iframe":case"object":case"embed":Qe("load",e),m=h;break;case"video":case"audio":for(m=0;m<mr.length;m++)Qe(mr[m],e);m=h;break;case"source":Qe("error",e),m=h;break;case"img":case"image":case"link":Qe("error",e),Qe("load",e),m=h;break;case"details":Qe("toggle",e),m=h;break;case"input":gn(e,h),m=wi(e,h),Qe("invalid",e);break;case"option":m=h;break;case"select":e._wrapperState={wasMultiple:!!h.multiple},m=B({},h,{value:void 0}),Qe("invalid",e);break;case"textarea":Br(e,h),m=nt(e,h),Qe("invalid",e);break;default:m=h}Vr(o,m),E=m;for(v in E)if(E.hasOwnProperty(v)){var O=E[v];v==="style"?ei(e,O):v==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&zs(e,O)):v==="children"?typeof O=="string"?(o!=="textarea"||O!=="")&&Yn(e,O):typeof O=="number"&&Yn(e,""+O):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(u.hasOwnProperty(v)?O!=null&&v==="onScroll"&&Qe("scroll",e):O!=null&&G(e,v,O,b))}switch(o){case"input":mn(e),xi(e,h,!1);break;case"textarea":mn(e),Jn(e);break;case"option":h.value!=null&&e.setAttribute("value",""+ye(h.value));break;case"select":e.multiple=!!h.multiple,v=h.value,v!=null?vn(e,!!h.multiple,v,!1):h.defaultValue!=null&&vn(e,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(e.onclick=Q)}switch(o){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Mt(n),null;case 6:if(e&&n.stateNode!=null)Bd(e,n,e.memoizedProps,h);else{if(typeof h!="string"&&n.stateNode===null)throw Error(r(166));if(o=vs(ga.current),vs(mi.current),kl(n)){if(h=n.stateNode,o=n.memoizedProps,h[Sn]=n,(v=h.nodeValue!==o)&&(e=dn,e!==null))switch(e.tag){case 3:H(h.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&H(h.nodeValue,o,(e.mode&1)!==0)}v&&(n.flags|=4)}else h=(o.nodeType===9?o:o.ownerDocument).createTextNode(h),h[Sn]=n,n.stateNode=h}return Mt(n),null;case 13:if(rt(ut),h=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&fn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Wh(),ao(),n.flags|=98560,v=!1;else if(v=kl(n),h!==null&&h.dehydrated!==null){if(e===null){if(!v)throw Error(r(318));if(v=n.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Sn]=n}else ao(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Mt(n),v=!1}else $n!==null&&(jc($n),$n=null),v=!0;if(!v)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(h=h!==null,h!==(e!==null&&e.memoizedState!==null)&&h&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(ut.current&1)!==0?bt===0&&(bt=3):Rc())),n.updateQueue!==null&&(n.flags|=4),Mt(n),null);case 4:return ho(),wc(e,n),e===null&&gr(n.stateNode.containerInfo),Mt(n),null;case 10:return Ku(n.type._context),Mt(n),null;case 17:return Gt(n.type)&&_l(),Mt(n),null;case 19:if(rt(ut),v=n.memoizedState,v===null)return Mt(n),null;if(h=(n.flags&128)!==0,b=v.rendering,b===null)if(h)ba(v,!1);else{if(bt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(b=Tl(e),b!==null){for(n.flags|=128,ba(v,!1),h=b.updateQueue,h!==null&&(n.updateQueue=h,n.flags|=4),n.subtreeFlags=0,h=o,o=n.child;o!==null;)v=o,e=h,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,e=b.dependencies,v.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return et(ut,ut.current&1|2),n.child}e=e.sibling}v.tail!==null&&at()>go&&(n.flags|=128,h=!0,ba(v,!1),n.lanes=4194304)}else{if(!h)if(e=Tl(b),e!==null){if(n.flags|=128,h=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),ba(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!ot)return Mt(n),null}else 2*at()-v.renderingStartTime>go&&o!==1073741824&&(n.flags|=128,h=!0,ba(v,!1),n.lanes=4194304);v.isBackwards?(b.sibling=n.child,n.child=b):(o=v.last,o!==null?o.sibling=b:n.child=b,v.last=b)}return v.tail!==null?(n=v.tail,v.rendering=n,v.tail=n.sibling,v.renderingStartTime=at(),n.sibling=null,o=ut.current,et(ut,h?o&1|2:o&1),n):(Mt(n),null);case 22:case 23:return Nc(),h=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==h&&(n.flags|=8192),h&&(n.mode&1)!==0?(pn&1073741824)!==0&&(Mt(n),n.subtreeFlags&6&&(n.flags|=8192)):Mt(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function km(e,n){switch(Bu(n),n.tag){case 1:return Gt(n.type)&&_l(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ho(),rt(Kt),rt(It),tc(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Xu(n),null;case 13:if(rt(ut),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ao()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return rt(ut),null;case 4:return ho(),null;case 10:return Ku(n.type._context),null;case 22:case 23:return Nc(),null;case 24:return null;default:return null}}var Dl=!1,Dt=!1,Sm=typeof WeakSet=="function"?WeakSet:Set,fe=null;function po(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(h){dt(e,n,h)}else o.current=null}function bc(e,n,o){try{o()}catch(h){dt(e,n,h)}}var Zd=!1;function Pm(e,n){if(le=ss,e=ra(),sa(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var b=0,E=-1,O=-1,W=0,ee=0,ne=e,X=null;t:for(;;){for(var de;ne!==o||m!==0&&ne.nodeType!==3||(E=b+m),ne!==v||h!==0&&ne.nodeType!==3||(O=b+h),ne.nodeType===3&&(b+=ne.nodeValue.length),(de=ne.firstChild)!==null;)X=ne,ne=de;for(;;){if(ne===e)break t;if(X===o&&++W===m&&(E=b),X===v&&++ee===h&&(O=b),(de=ne.nextSibling)!==null)break;ne=X,X=ne.parentNode}ne=de}o=E===-1||O===-1?null:{start:E,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(ke={focusedElem:e,selectionRange:o},ss=!1,fe=n;fe!==null;)if(n=fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,fe=e;else for(;fe!==null;){n=fe;try{var me=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var _e=me.memoizedProps,ft=me.memoizedState,U=n.stateNode,N=U.getSnapshotBeforeUpdate(n.elementType===n.type?_e:Fn(n.type,_e),ft);U.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var F=n.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(re){dt(n,n.return,re)}if(e=n.sibling,e!==null){e.return=n.return,fe=e;break}fe=n.return}return me=Zd,Zd=!1,me}function xa(e,n,o){var h=n.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&e)===e){var v=m.destroy;m.destroy=void 0,v!==void 0&&bc(n,o,v)}m=m.next}while(m!==h)}}function Ul(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var h=o.create;o.destroy=h()}o=o.next}while(o!==n)}}function xc(e){var n=e.ref;if(n!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof n=="function"?n(e):n.current=e}}function Hd(e){var n=e.alternate;n!==null&&(e.alternate=null,Hd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Sn],delete n[_r],delete n[yr],delete n[Mu],delete n[Du])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wd(e){return e.tag===5||e.tag===3||e.tag===4}function Vd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kc(e,n,o){var h=e.tag;if(h===5||h===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Q));else if(h!==4&&(e=e.child,e!==null))for(kc(e,n,o),e=e.sibling;e!==null;)kc(e,n,o),e=e.sibling}function Sc(e,n,o){var h=e.tag;if(h===5||h===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(h!==4&&(e=e.child,e!==null))for(Sc(e,n,o),e=e.sibling;e!==null;)Sc(e,n,o),e=e.sibling}var Tt=null,Bn=!1;function Pr(e,n,o){for(o=o.child;o!==null;)qd(e,n,o),o=o.sibling}function qd(e,n,o){if(rn&&typeof rn.onCommitFiberUnmount=="function")try{rn.onCommitFiberUnmount(Xr,o)}catch{}switch(o.tag){case 5:Dt||po(o,n);case 6:var h=Tt,m=Bn;Tt=null,Pr(e,n,o),Tt=h,Bn=m,Tt!==null&&(Bn?(e=Tt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):Tt.removeChild(o.stateNode));break;case 18:Tt!==null&&(Bn?(e=Tt,o=o.stateNode,e.nodeType===8?da(e.parentNode,o):e.nodeType===1&&da(e,o),an(e)):da(Tt,o.stateNode));break;case 4:h=Tt,m=Bn,Tt=o.stateNode.containerInfo,Bn=!0,Pr(e,n,o),Tt=h,Bn=m;break;case 0:case 11:case 14:case 15:if(!Dt&&(h=o.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,b=v.destroy;v=v.tag,b!==void 0&&((v&2)!==0||(v&4)!==0)&&bc(o,n,b),m=m.next}while(m!==h)}Pr(e,n,o);break;case 1:if(!Dt&&(po(o,n),h=o.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=o.memoizedProps,h.state=o.memoizedState,h.componentWillUnmount()}catch(E){dt(o,n,E)}Pr(e,n,o);break;case 21:Pr(e,n,o);break;case 22:o.mode&1?(Dt=(h=Dt)||o.memoizedState!==null,Pr(e,n,o),Dt=h):Pr(e,n,o);break;default:Pr(e,n,o)}}function Kd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new Sm),n.forEach(function(h){var m=Rm.bind(null,e,h);o.has(h)||(o.add(h),h.then(m,m))})}}function Zn(e,n){var o=n.deletions;if(o!==null)for(var h=0;h<o.length;h++){var m=o[h];try{var v=e,b=n,E=b;e:for(;E!==null;){switch(E.tag){case 5:Tt=E.stateNode,Bn=!1;break e;case 3:Tt=E.stateNode.containerInfo,Bn=!0;break e;case 4:Tt=E.stateNode.containerInfo,Bn=!0;break e}E=E.return}if(Tt===null)throw Error(r(160));qd(v,b,m),Tt=null,Bn=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(W){dt(m,n,W)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Gd(n,e),n=n.sibling}function Gd(e,n){var o=e.alternate,h=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Zn(n,e),vi(e),h&4){try{xa(3,e,e.return),Ul(3,e)}catch(_e){dt(e,e.return,_e)}try{xa(5,e,e.return)}catch(_e){dt(e,e.return,_e)}}break;case 1:Zn(n,e),vi(e),h&512&&o!==null&&po(o,o.return);break;case 5:if(Zn(n,e),vi(e),h&512&&o!==null&&po(o,o.return),e.flags&32){var m=e.stateNode;try{Yn(m,"")}catch(_e){dt(e,e.return,_e)}}if(h&4&&(m=e.stateNode,m!=null)){var v=e.memoizedProps,b=o!==null?o.memoizedProps:v,E=e.type,O=e.updateQueue;if(e.updateQueue=null,O!==null)try{E==="input"&&v.type==="radio"&&v.name!=null&&Fr(m,v),On(E,b);var W=On(E,v);for(b=0;b<O.length;b+=2){var ee=O[b],ne=O[b+1];ee==="style"?ei(m,ne):ee==="dangerouslySetInnerHTML"?zs(m,ne):ee==="children"?Yn(m,ne):G(m,ee,ne,W)}switch(E){case"input":bi(m,v);break;case"textarea":Gn(m,v);break;case"select":var X=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var de=v.value;de!=null?vn(m,!!v.multiple,de,!1):X!==!!v.multiple&&(v.defaultValue!=null?vn(m,!!v.multiple,v.defaultValue,!0):vn(m,!!v.multiple,v.multiple?[]:"",!1))}m[_r]=v}catch(_e){dt(e,e.return,_e)}}break;case 6:if(Zn(n,e),vi(e),h&4){if(e.stateNode===null)throw Error(r(162));m=e.stateNode,v=e.memoizedProps;try{m.nodeValue=v}catch(_e){dt(e,e.return,_e)}}break;case 3:if(Zn(n,e),vi(e),h&4&&o!==null&&o.memoizedState.isDehydrated)try{an(n.containerInfo)}catch(_e){dt(e,e.return,_e)}break;case 4:Zn(n,e),vi(e);break;case 13:Zn(n,e),vi(e),m=e.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Cc=at())),h&4&&Kd(e);break;case 22:if(ee=o!==null&&o.memoizedState!==null,e.mode&1?(Dt=(W=Dt)||ee,Zn(n,e),Dt=W):Zn(n,e),vi(e),h&8192){if(W=e.memoizedState!==null,(e.stateNode.isHidden=W)&&!ee&&(e.mode&1)!==0)for(fe=e,ee=e.child;ee!==null;){for(ne=fe=ee;fe!==null;){switch(X=fe,de=X.child,X.tag){case 0:case 11:case 14:case 15:xa(4,X,X.return);break;case 1:po(X,X.return);var me=X.stateNode;if(typeof me.componentWillUnmount=="function"){h=X,o=X.return;try{n=h,me.props=n.memoizedProps,me.state=n.memoizedState,me.componentWillUnmount()}catch(_e){dt(h,o,_e)}}break;case 5:po(X,X.return);break;case 22:if(X.memoizedState!==null){Yd(ne);continue}}de!==null?(de.return=X,fe=de):Yd(ne)}ee=ee.sibling}e:for(ee=null,ne=e;;){if(ne.tag===5){if(ee===null){ee=ne;try{m=ne.stateNode,W?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(E=ne.stateNode,O=ne.memoizedProps.style,b=O!=null&&O.hasOwnProperty("display")?O.display:null,E.style.display=Hr("display",b))}catch(_e){dt(e,e.return,_e)}}}else if(ne.tag===6){if(ee===null)try{ne.stateNode.nodeValue=W?"":ne.memoizedProps}catch(_e){dt(e,e.return,_e)}}else if((ne.tag!==22&&ne.tag!==23||ne.memoizedState===null||ne===e)&&ne.child!==null){ne.child.return=ne,ne=ne.child;continue}if(ne===e)break e;for(;ne.sibling===null;){if(ne.return===null||ne.return===e)break e;ee===ne&&(ee=null),ne=ne.return}ee===ne&&(ee=null),ne.sibling.return=ne.return,ne=ne.sibling}}break;case 19:Zn(n,e),vi(e),h&4&&Kd(e);break;case 21:break;default:Zn(n,e),vi(e)}}function vi(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(Wd(o)){var h=o;break e}o=o.return}throw Error(r(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(Yn(m,""),h.flags&=-33);var v=Vd(e);Sc(e,v,m);break;case 3:case 4:var b=h.stateNode.containerInfo,E=Vd(e);kc(e,E,b);break;default:throw Error(r(161))}}catch(O){dt(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Em(e,n,o){fe=e,Jd(e)}function Jd(e,n,o){for(var h=(e.mode&1)!==0;fe!==null;){var m=fe,v=m.child;if(m.tag===22&&h){var b=m.memoizedState!==null||Dl;if(!b){var E=m.alternate,O=E!==null&&E.memoizedState!==null||Dt;E=Dl;var W=Dt;if(Dl=b,(Dt=O)&&!W)for(fe=m;fe!==null;)b=fe,O=b.child,b.tag===22&&b.memoizedState!==null?Xd(m):O!==null?(O.return=b,fe=O):Xd(m);for(;v!==null;)fe=v,Jd(v),v=v.sibling;fe=m,Dl=E,Dt=W}Qd(e)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,fe=v):Qd(e)}}function Qd(e){for(;fe!==null;){var n=fe;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Dt||Ul(5,n);break;case 1:var h=n.stateNode;if(n.flags&4&&!Dt)if(o===null)h.componentDidMount();else{var m=n.elementType===n.type?o.memoizedProps:Fn(n.type,o.memoizedProps);h.componentDidUpdate(m,o.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=n.updateQueue;v!==null&&Yh(n,v,h);break;case 3:var b=n.updateQueue;if(b!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Yh(n,b,o)}break;case 5:var E=n.stateNode;if(o===null&&n.flags&4){o=E;var O=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&o.focus();break;case"img":O.src&&(o.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var W=n.alternate;if(W!==null){var ee=W.memoizedState;if(ee!==null){var ne=ee.dehydrated;ne!==null&&an(ne)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Dt||n.flags&512&&xc(n)}catch(X){dt(n,n.return,X)}}if(n===e){fe=null;break}if(o=n.sibling,o!==null){o.return=n.return,fe=o;break}fe=n.return}}function Yd(e){for(;fe!==null;){var n=fe;if(n===e){fe=null;break}var o=n.sibling;if(o!==null){o.return=n.return,fe=o;break}fe=n.return}}function Xd(e){for(;fe!==null;){var n=fe;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{Ul(4,n)}catch(O){dt(n,o,O)}break;case 1:var h=n.stateNode;if(typeof h.componentDidMount=="function"){var m=n.return;try{h.componentDidMount()}catch(O){dt(n,m,O)}}var v=n.return;try{xc(n)}catch(O){dt(n,v,O)}break;case 5:var b=n.return;try{xc(n)}catch(O){dt(n,b,O)}}}catch(O){dt(n,n.return,O)}if(n===e){fe=null;break}var E=n.sibling;if(E!==null){E.return=n.return,fe=E;break}fe=n.return}}var Cm=Math.ceil,$l=Y.ReactCurrentDispatcher,Pc=Y.ReactCurrentOwner,Tn=Y.ReactCurrentBatchConfig,Ve=0,Pt=null,vt=null,zt=0,pn=0,mo=wr(0),bt=0,ka=null,ys=0,Fl=0,Ec=0,Sa=null,Qt=null,Cc=0,go=1/0,Vi=null,Bl=!1,Lc=null,Er=null,Zl=!1,Cr=null,Hl=0,Pa=0,Tc=null,Wl=-1,Vl=0;function Zt(){return(Ve&6)!==0?at():Wl!==-1?Wl:Wl=at()}function Lr(e){return(e.mode&1)===0?1:(Ve&2)!==0&&zt!==0?zt&-zt:cm.transition!==null?(Vl===0&&(Vl=Ga()),Vl):(e=He,e!==0||(e=window.event,e=e===void 0?16:Fe(e.type)),e)}function Hn(e,n,o,h){if(50<Pa)throw Pa=0,Tc=null,Error(r(185));sn(e,o,h),((Ve&2)===0||e!==Pt)&&(e===Pt&&((Ve&2)===0&&(Fl|=o),bt===4&&Tr(e,zt)),Yt(e,h),o===1&&Ve===0&&(n.mode&1)===0&&(go=at()+500,wl&&xr()))}function Yt(e,n){var o=e.callbackNode;Is(e,n);var h=Xe(e,e===Pt?zt:0);if(h===0)o!==null&&oi(o),e.callbackNode=null,e.callbackPriority=0;else if(n=h&-h,e.callbackPriority!==n){if(o!=null&&oi(o),n===1)e.tag===0?um(tf.bind(null,e)):$h(tf.bind(null,e)),Rt(function(){(Ve&6)===0&&xr()}),o=null;else{switch(ir(h)){case 1:o=Fo;break;case 4:o=Ka;break;case 16:o=Ns;break;case 536870912:o=Xi;break;default:o=Ns}o=cf(o,ef.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function ef(e,n){if(Wl=-1,Vl=0,(Ve&6)!==0)throw Error(r(327));var o=e.callbackNode;if(vo()&&e.callbackNode!==o)return null;var h=Xe(e,e===Pt?zt:0);if(h===0)return null;if((h&30)!==0||(h&e.expiredLanes)!==0||n)n=ql(e,h);else{n=h;var m=Ve;Ve|=2;var v=rf();(Pt!==e||zt!==n)&&(Vi=null,go=at()+500,bs(e,n));do try{zm();break}catch(E){nf(e,E)}while(!0);qu(),$l.current=v,Ve=m,vt!==null?n=0:(Pt=null,zt=0,n=bt)}if(n!==0){if(n===2&&(m=Ot(e),m!==0&&(h=m,n=zc(e,m))),n===1)throw o=ka,bs(e,0),Tr(e,h),Yt(e,at()),o;if(n===6)Tr(e,h);else{if(m=e.current.alternate,(h&30)===0&&!Lm(m)&&(n=ql(e,h),n===2&&(v=Ot(e),v!==0&&(h=v,n=zc(e,v))),n===1))throw o=ka,bs(e,0),Tr(e,h),Yt(e,at()),o;switch(e.finishedWork=m,e.finishedLanes=h,n){case 0:case 1:throw Error(r(345));case 2:xs(e,Qt,Vi);break;case 3:if(Tr(e,h),(h&130023424)===h&&(n=Cc+500-at(),10<n)){if(Xe(e,0)!==0)break;if(m=e.suspendedLanes,(m&h)!==h){Zt(),e.pingedLanes|=e.suspendedLanes&m;break}e.timeoutHandle=yt(xs.bind(null,e,Qt,Vi),n);break}xs(e,Qt,Vi);break;case 4:if(Tr(e,h),(h&4194240)===h)break;for(n=e.eventTimes,m=-1;0<h;){var b=31-Re(h);v=1<<b,b=n[b],b>m&&(m=b),h&=~v}if(h=m,h=at()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Cm(h/1960))-h,10<h){e.timeoutHandle=yt(xs.bind(null,e,Qt,Vi),h);break}xs(e,Qt,Vi);break;case 5:xs(e,Qt,Vi);break;default:throw Error(r(329))}}}return Yt(e,at()),e.callbackNode===o?ef.bind(null,e):null}function zc(e,n){var o=Sa;return e.current.memoizedState.isDehydrated&&(bs(e,n).flags|=256),e=ql(e,n),e!==2&&(n=Qt,Qt=o,n!==null&&jc(n)),e}function jc(e){Qt===null?Qt=e:Qt.push.apply(Qt,e)}function Lm(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var h=0;h<o.length;h++){var m=o[h],v=m.getSnapshot;m=m.value;try{if(!cn(v(),m))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Tr(e,n){for(n&=~Ec,n&=~Fl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-Re(n),h=1<<o;e[o]=-1,n&=~h}}function tf(e){if((Ve&6)!==0)throw Error(r(327));vo();var n=Xe(e,0);if((n&1)===0)return Yt(e,at()),null;var o=ql(e,n);if(e.tag!==0&&o===2){var h=Ot(e);h!==0&&(n=h,o=zc(e,h))}if(o===1)throw o=ka,bs(e,0),Tr(e,n),Yt(e,at()),o;if(o===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,xs(e,Qt,Vi),Yt(e,at()),null}function Oc(e,n){var o=Ve;Ve|=1;try{return e(n)}finally{Ve=o,Ve===0&&(go=at()+500,wl&&xr())}}function ws(e){Cr!==null&&Cr.tag===0&&(Ve&6)===0&&vo();var n=Ve;Ve|=1;var o=Tn.transition,h=He;try{if(Tn.transition=null,He=1,e)return e()}finally{He=h,Tn.transition=o,Ve=n,(Ve&6)===0&&xr()}}function Nc(){pn=mo.current,rt(mo)}function bs(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,gt(o)),vt!==null)for(o=vt.return;o!==null;){var h=o;switch(Bu(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&_l();break;case 3:ho(),rt(Kt),rt(It),tc();break;case 5:Xu(h);break;case 4:ho();break;case 13:rt(ut);break;case 19:rt(ut);break;case 10:Ku(h.type._context);break;case 22:case 23:Nc()}o=o.return}if(Pt=e,vt=e=zr(e.current,null),zt=pn=n,bt=0,ka=null,Ec=Fl=ys=0,Qt=Sa=null,gs!==null){for(n=0;n<gs.length;n++)if(o=gs[n],h=o.interleaved,h!==null){o.interleaved=null;var m=h.next,v=o.pending;if(v!==null){var b=v.next;v.next=m,h.next=b}o.pending=h}gs=null}return e}function nf(e,n){do{var o=vt;try{if(qu(),zl.current=Rl,jl){for(var h=ct.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}jl=!1}if(_s=0,St=wt=ct=null,va=!1,_a=0,Pc.current=null,o===null||o.return===null){bt=1,ka=n,vt=null;break}e:{var v=e,b=o.return,E=o,O=n;if(n=zt,E.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var W=O,ee=E,ne=ee.tag;if((ee.mode&1)===0&&(ne===0||ne===11||ne===15)){var X=ee.alternate;X?(ee.updateQueue=X.updateQueue,ee.memoizedState=X.memoizedState,ee.lanes=X.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var de=Cd(b);if(de!==null){de.flags&=-257,Ld(de,b,E,v,n),de.mode&1&&Ed(v,W,n),n=de,O=W;var me=n.updateQueue;if(me===null){var _e=new Set;_e.add(O),n.updateQueue=_e}else me.add(O);break e}else{if((n&1)===0){Ed(v,W,n),Rc();break e}O=Error(r(426))}}else if(ot&&E.mode&1){var ft=Cd(b);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Ld(ft,b,E,v,n),Wu(fo(O,E));break e}}v=O=fo(O,E),bt!==4&&(bt=2),Sa===null?Sa=[v]:Sa.push(v),v=b;do{switch(v.tag){case 3:v.flags|=65536,n&=-n,v.lanes|=n;var U=Sd(v,O,n);Qh(v,U);break e;case 1:E=O;var N=v.type,F=v.stateNode;if((v.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Er===null||!Er.has(F)))){v.flags|=65536,n&=-n,v.lanes|=n;var re=Pd(v,E,n);Qh(v,re);break e}}v=v.return}while(v!==null)}of(o)}catch(we){n=we,vt===o&&o!==null&&(vt=o=o.return);continue}break}while(!0)}function rf(){var e=$l.current;return $l.current=Rl,e===null?Rl:e}function Rc(){(bt===0||bt===3||bt===2)&&(bt=4),Pt===null||(ys&268435455)===0&&(Fl&268435455)===0||Tr(Pt,zt)}function ql(e,n){var o=Ve;Ve|=2;var h=rf();(Pt!==e||zt!==n)&&(Vi=null,bs(e,n));do try{Tm();break}catch(m){nf(e,m)}while(!0);if(qu(),Ve=o,$l.current=h,vt!==null)throw Error(r(261));return Pt=null,zt=0,bt}function Tm(){for(;vt!==null;)sf(vt)}function zm(){for(;vt!==null&&!Wt();)sf(vt)}function sf(e){var n=uf(e.alternate,e,pn);e.memoizedProps=e.pendingProps,n===null?of(e):vt=n,Pc.current=null}function of(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=xm(o,n,pn),o!==null){vt=o;return}}else{if(o=km(o,n),o!==null){o.flags&=32767,vt=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{bt=6,vt=null;return}}if(n=n.sibling,n!==null){vt=n;return}vt=n=e}while(n!==null);bt===0&&(bt=5)}function xs(e,n,o){var h=He,m=Tn.transition;try{Tn.transition=null,He=1,jm(e,n,o,h)}finally{Tn.transition=m,He=h}return null}function jm(e,n,o,h){do vo();while(Cr!==null);if((Ve&6)!==0)throw Error(r(327));o=e.finishedWork;var m=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var v=o.lanes|o.childLanes;if(ht(e,v),e===Pt&&(vt=Pt=null,zt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Zl||(Zl=!0,cf(Ns,function(){return vo(),null})),v=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||v){v=Tn.transition,Tn.transition=null;var b=He;He=1;var E=Ve;Ve|=4,Pc.current=null,Pm(e,o),Gd(o,e),xn(ke),ss=!!le,ke=le=null,e.current=o,Em(o),Ci(),Ve=E,He=b,Tn.transition=v}else e.current=o;if(Zl&&(Zl=!1,Cr=e,Hl=m),v=e.pendingLanes,v===0&&(Er=null),es(o.stateNode),Yt(e,at()),n!==null)for(h=e.onRecoverableError,o=0;o<n.length;o++)m=n[o],h(m.value,{componentStack:m.stack,digest:m.digest});if(Bl)throw Bl=!1,e=Lc,Lc=null,e;return(Hl&1)!==0&&e.tag!==0&&vo(),v=e.pendingLanes,(v&1)!==0?e===Tc?Pa++:(Pa=0,Tc=e):Pa=0,xr(),null}function vo(){if(Cr!==null){var e=ir(Hl),n=Tn.transition,o=He;try{if(Tn.transition=null,He=16>e?16:e,Cr===null)var h=!1;else{if(e=Cr,Cr=null,Hl=0,(Ve&6)!==0)throw Error(r(331));var m=Ve;for(Ve|=4,fe=e.current;fe!==null;){var v=fe,b=v.child;if((fe.flags&16)!==0){var E=v.deletions;if(E!==null){for(var O=0;O<E.length;O++){var W=E[O];for(fe=W;fe!==null;){var ee=fe;switch(ee.tag){case 0:case 11:case 15:xa(8,ee,v)}var ne=ee.child;if(ne!==null)ne.return=ee,fe=ne;else for(;fe!==null;){ee=fe;var X=ee.sibling,de=ee.return;if(Hd(ee),ee===W){fe=null;break}if(X!==null){X.return=de,fe=X;break}fe=de}}}var me=v.alternate;if(me!==null){var _e=me.child;if(_e!==null){me.child=null;do{var ft=_e.sibling;_e.sibling=null,_e=ft}while(_e!==null)}}fe=v}}if((v.subtreeFlags&2064)!==0&&b!==null)b.return=v,fe=b;else e:for(;fe!==null;){if(v=fe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:xa(9,v,v.return)}var U=v.sibling;if(U!==null){U.return=v.return,fe=U;break e}fe=v.return}}var N=e.current;for(fe=N;fe!==null;){b=fe;var F=b.child;if((b.subtreeFlags&2064)!==0&&F!==null)F.return=b,fe=F;else e:for(b=N;fe!==null;){if(E=fe,(E.flags&2048)!==0)try{switch(E.tag){case 0:case 11:case 15:Ul(9,E)}}catch(we){dt(E,E.return,we)}if(E===b){fe=null;break e}var re=E.sibling;if(re!==null){re.return=E.return,fe=re;break e}fe=E.return}}if(Ve=m,xr(),rn&&typeof rn.onPostCommitFiberRoot=="function")try{rn.onPostCommitFiberRoot(Xr,e)}catch{}h=!0}return h}finally{He=o,Tn.transition=n}}return!1}function af(e,n,o){n=fo(o,n),n=Sd(e,n,1),e=Sr(e,n,1),n=Zt(),e!==null&&(sn(e,1,n),Yt(e,n))}function dt(e,n,o){if(e.tag===3)af(e,e,o);else for(;n!==null;){if(n.tag===3){af(n,e,o);break}else if(n.tag===1){var h=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Er===null||!Er.has(h))){e=fo(o,e),e=Pd(n,e,1),n=Sr(n,e,1),e=Zt(),n!==null&&(sn(n,1,e),Yt(n,e));break}}n=n.return}}function Om(e,n,o){var h=e.pingCache;h!==null&&h.delete(n),n=Zt(),e.pingedLanes|=e.suspendedLanes&o,Pt===e&&(zt&o)===o&&(bt===4||bt===3&&(zt&130023424)===zt&&500>at()-Cc?bs(e,0):Ec|=o),Yt(e,n)}function lf(e,n){n===0&&((e.mode&1)===0?n=1:(n=tr,tr<<=1,(tr&130023424)===0&&(tr=4194304)));var o=Zt();e=Zi(e,n),e!==null&&(sn(e,n,o),Yt(e,o))}function Nm(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),lf(e,o)}function Rm(e,n){var o=0;switch(e.tag){case 13:var h=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:h=e.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(n),lf(e,o)}var uf;uf=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||Kt.current)Jt=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return Jt=!1,bm(e,n,o);Jt=(e.flags&131072)!==0}else Jt=!1,ot&&(n.flags&1048576)!==0&&Fh(n,xl,n.index);switch(n.lanes=0,n.tag){case 2:var h=n.type;Ml(e,n),e=n.pendingProps;var m=ro(n,It.current);co(n,o),m=rc(null,n,h,e,m,o);var v=sc();return n.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Gt(h)?(v=!0,yl(n)):v=!1,n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Qu(n),m.updater=Il,n.stateNode=m,m._reactInternals=n,hc(n,h,e,o),n=mc(null,n,h,!0,v,o)):(n.tag=0,ot&&v&&Fu(n),Bt(null,n,m,o),n=n.child),n;case 16:h=n.elementType;e:{switch(Ml(e,n),e=n.pendingProps,m=h._init,h=m(h._payload),n.type=h,m=n.tag=Am(h),e=Fn(h,e),m){case 0:n=pc(null,n,h,e,o);break e;case 1:n=Rd(null,n,h,e,o);break e;case 11:n=Td(null,n,h,e,o);break e;case 14:n=zd(null,n,h,Fn(h.type,e),o);break e}throw Error(r(306,h,""))}return n;case 0:return h=n.type,m=n.pendingProps,m=n.elementType===h?m:Fn(h,m),pc(e,n,h,m,o);case 1:return h=n.type,m=n.pendingProps,m=n.elementType===h?m:Fn(h,m),Rd(e,n,h,m,o);case 3:e:{if(Id(n),e===null)throw Error(r(387));h=n.pendingProps,v=n.memoizedState,m=v.element,Jh(e,n),Ll(n,h,null,o);var b=n.memoizedState;if(h=b.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){m=fo(Error(r(423)),n),n=Ad(e,n,h,o,m);break e}else if(h!==m){m=fo(Error(r(424)),n),n=Ad(e,n,h,o,m);break e}else for(fn=pi(n.stateNode.containerInfo.firstChild),dn=n,ot=!0,$n=null,o=Kh(n,null,h,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ao(),h===m){n=Wi(e,n,o);break e}Bt(e,n,h,o)}n=n.child}return n;case 5:return Xh(n),e===null&&Hu(n),h=n.type,m=n.pendingProps,v=e!==null?e.memoizedProps:null,b=m.children,Ie(h,m)?b=null:v!==null&&Ie(h,v)&&(n.flags|=32),Nd(e,n),Bt(e,n,b,o),n.child;case 6:return e===null&&Hu(n),null;case 13:return Md(e,n,o);case 4:return Yu(n,n.stateNode.containerInfo),h=n.pendingProps,e===null?n.child=lo(n,null,h,o):Bt(e,n,h,o),n.child;case 11:return h=n.type,m=n.pendingProps,m=n.elementType===h?m:Fn(h,m),Td(e,n,h,m,o);case 7:return Bt(e,n,n.pendingProps,o),n.child;case 8:return Bt(e,n,n.pendingProps.children,o),n.child;case 12:return Bt(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(h=n.type._context,m=n.pendingProps,v=n.memoizedProps,b=m.value,et(Pl,h._currentValue),h._currentValue=b,v!==null)if(cn(v.value,b)){if(v.children===m.children&&!Kt.current){n=Wi(e,n,o);break e}}else for(v=n.child,v!==null&&(v.return=n);v!==null;){var E=v.dependencies;if(E!==null){b=v.child;for(var O=E.firstContext;O!==null;){if(O.context===h){if(v.tag===1){O=Hi(-1,o&-o),O.tag=2;var W=v.updateQueue;if(W!==null){W=W.shared;var ee=W.pending;ee===null?O.next=O:(O.next=ee.next,ee.next=O),W.pending=O}}v.lanes|=o,O=v.alternate,O!==null&&(O.lanes|=o),Gu(v.return,o,n),E.lanes|=o;break}O=O.next}}else if(v.tag===10)b=v.type===n.type?null:v.child;else if(v.tag===18){if(b=v.return,b===null)throw Error(r(341));b.lanes|=o,E=b.alternate,E!==null&&(E.lanes|=o),Gu(b,o,n),b=v.sibling}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===n){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}Bt(e,n,m.children,o),n=n.child}return n;case 9:return m=n.type,h=n.pendingProps.children,co(n,o),m=Cn(m),h=h(m),n.flags|=1,Bt(e,n,h,o),n.child;case 14:return h=n.type,m=Fn(h,n.pendingProps),m=Fn(h.type,m),zd(e,n,h,m,o);case 15:return jd(e,n,n.type,n.pendingProps,o);case 17:return h=n.type,m=n.pendingProps,m=n.elementType===h?m:Fn(h,m),Ml(e,n),n.tag=1,Gt(h)?(e=!0,yl(n)):e=!1,co(n,o),xd(n,h,m),hc(n,h,m,o),mc(null,n,h,!0,e,o);case 19:return Ud(e,n,o);case 22:return Od(e,n,o)}throw Error(r(156,n.tag))};function cf(e,n){return si(e,n)}function Im(e,n,o,h){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,n,o,h){return new Im(e,n,o,h)}function Ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Am(e){if(typeof e=="function")return Ic(e)?1:0;if(e!=null){if(e=e.$$typeof,e===We)return 11;if(e===Ye)return 14}return 2}function zr(e,n){var o=e.alternate;return o===null?(o=zn(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function Kl(e,n,o,h,m,v){var b=2;if(h=e,typeof e=="function")Ic(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case ue:return ks(o.children,m,v,n);case ve:b=8,m|=8;break;case De:return e=zn(12,o,n,m|2),e.elementType=De,e.lanes=v,e;case Me:return e=zn(13,o,n,m),e.elementType=Me,e.lanes=v,e;case Ue:return e=zn(19,o,n,m),e.elementType=Ue,e.lanes=v,e;case Ce:return Gl(o,m,v,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ae:b=10;break e;case xe:b=9;break e;case We:b=11;break e;case Ye:b=14;break e;case ze:b=16,h=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=zn(b,o,n,m),n.elementType=e,n.type=h,n.lanes=v,n}function ks(e,n,o,h){return e=zn(7,e,h,n),e.lanes=o,e}function Gl(e,n,o,h){return e=zn(22,e,h,n),e.elementType=Ce,e.lanes=o,e.stateNode={isHidden:!1},e}function Ac(e,n,o){return e=zn(6,e,null,n),e.lanes=o,e}function Mc(e,n,o){return n=zn(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Mm(e,n,o,h,m){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nr(0),this.expirationTimes=nr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nr(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Dc(e,n,o,h,m,v,b,E,O){return e=new Mm(e,n,o,E,O),n===1?(n=1,v===!0&&(n|=8)):n=0,v=zn(3,null,null,n),e.current=v,v.stateNode=e,v.memoizedState={element:h,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qu(v),e}function Dm(e,n,o){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:h==null?null:""+h,children:e,containerInfo:n,implementation:o}}function hf(e){if(!e)return br;e=e._reactInternals;e:{if(mt(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Gt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var o=e.type;if(Gt(o))return Dh(e,o,n)}return n}function df(e,n,o,h,m,v,b,E,O){return e=Dc(o,h,!0,e,m,v,b,E,O),e.context=hf(null),o=e.current,h=Zt(),m=Lr(o),v=Hi(h,m),v.callback=n??null,Sr(o,v,m),e.current.lanes=m,sn(e,m,h),Yt(e,h),e}function Jl(e,n,o,h){var m=n.current,v=Zt(),b=Lr(m);return o=hf(o),n.context===null?n.context=o:n.pendingContext=o,n=Hi(v,b),n.payload={element:e},h=h===void 0?null:h,h!==null&&(n.callback=h),e=Sr(m,n,b),e!==null&&(Hn(e,m,b,v),Cl(e,m,b)),b}function Ql(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ff(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Uc(e,n){ff(e,n),(e=e.alternate)&&ff(e,n)}function Um(){return null}var pf=typeof reportError=="function"?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}Yl.prototype.render=$c.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));Jl(e,n,null,null)},Yl.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ws(function(){Jl(null,e,null,null)}),n[Ge]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ds();e={blockedOn:null,target:e,priority:n};for(var o=0;o<_t.length&&n!==0&&n<_t[o].priority;o++);_t.splice(o,0,e),o===0&&Us(e)}};function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mf(){}function $m(e,n,o,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var W=Ql(b);v.call(W)}}var b=df(n,h,e,0,null,!1,!1,"",mf);return e._reactRootContainer=b,e[Ge]=b.current,gr(e.nodeType===8?e.parentNode:e),ws(),b}for(;m=e.lastChild;)e.removeChild(m);if(typeof h=="function"){var E=h;h=function(){var W=Ql(O);E.call(W)}}var O=Dc(e,0,!1,null,null,!1,!1,"",mf);return e._reactRootContainer=O,e[Ge]=O.current,gr(e.nodeType===8?e.parentNode:e),ws(function(){Jl(n,O,o,h)}),O}function eu(e,n,o,h,m){var v=o._reactRootContainer;if(v){var b=v;if(typeof m=="function"){var E=m;m=function(){var O=Ql(b);E.call(O)}}Jl(n,b,e,m)}else b=$m(o,n,e,m,h);return Ql(b)}As=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=Oe(n.pendingLanes);o!==0&&(In(n,o|1),Yt(n,at()),(Ve&6)===0&&(go=at()+500,xr()))}break;case 13:ws(function(){var h=Zi(e,1);if(h!==null){var m=Zt();Hn(h,e,1,m)}}),Uc(e,1)}},Li=function(e){if(e.tag===13){var n=Zi(e,134217728);if(n!==null){var o=Zt();Hn(n,e,134217728,o)}Uc(e,134217728)}},Ms=function(e){if(e.tag===13){var n=Lr(e),o=Zi(e,n);if(o!==null){var h=Zt();Hn(o,e,n,h)}Uc(e,n)}},Ds=function(){return He},ts=function(e,n){var o=He;try{return He=e,n()}finally{He=o}},Gi=function(e,n,o){switch(n){case"input":if(bi(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var h=o[n];if(h!==e&&h.form===e.form){var m=no(h);if(!m)throw Error(r(90));qn(h),bi(h,m)}}}break;case"textarea":Gn(e,o);break;case"select":n=o.value,n!=null&&vn(e,!!o.multiple,n,!1)}},Gr=Oc,Jr=ws;var Fm={usingClientEntryPoint:!1,Events:[Di,Ui,no,js,Ji,Oc]},Ea={findFiberByHostInstance:Mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bm={bundleType:Ea.bundleType,version:Ea.version,rendererPackageName:Ea.rendererPackageName,rendererConfig:Ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ii(e),e===null?null:e.stateNode},findFiberByHostInstance:Ea.findFiberByHostInstance||Um,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Xr=tu.inject(Bm),rn=tu}catch{}}return Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fm,Xt.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fc(n))throw Error(r(200));return Dm(e,n,null,o)},Xt.createRoot=function(e,n){if(!Fc(e))throw Error(r(299));var o=!1,h="",m=pf;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),n=Dc(e,1,!1,null,null,o,!1,h,m),e[Ge]=n.current,gr(e.nodeType===8?e.parentNode:e),new $c(n)},Xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=ii(n),e=e===null?null:e.stateNode,e},Xt.flushSync=function(e){return ws(e)},Xt.hydrate=function(e,n,o){if(!Xl(n))throw Error(r(200));return eu(null,e,n,!0,o)},Xt.hydrateRoot=function(e,n,o){if(!Fc(e))throw Error(r(405));var h=o!=null&&o.hydratedSources||null,m=!1,v="",b=pf;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),n=df(n,null,e,1,o??null,m,!1,v,b),e[Ge]=n.current,gr(e),h)for(e=0;e<h.length;e++)o=h[e],m=o._getVersion,m=m(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,m]:n.mutableSourceEagerHydrationData.push(o,m);return new Yl(n)},Xt.render=function(e,n,o){if(!Xl(n))throw Error(r(200));return eu(null,e,n,!1,o)},Xt.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(r(40));return e._reactRootContainer?(ws(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[Ge]=null})}),!0):!1},Xt.unstable_batchedUpdates=Oc,Xt.unstable_renderSubtreeIntoContainer=function(e,n,o,h){if(!Xl(o))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return eu(e,n,o,!1,h)},Xt.version="18.3.1-next-f1338f8080-20240426",Xt}var kf;function wp(){if(kf)return Hc.exports;kf=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),Hc.exports=Ym(),Hc.exports}var Sf;function Xm(){if(Sf)return nu;Sf=1;var l=wp();return nu.createRoot=l.createRoot,nu.hydrateRoot=l.hydrateRoot,nu}var eg=Xm();const tg=vu(eg);var ng=wp();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ma(){return Ma=Object.assign?Object.assign.bind():function(l){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])}return l},Ma.apply(this,arguments)}var Ir;(function(l){l.Pop="POP",l.Push="PUSH",l.Replace="REPLACE"})(Ir||(Ir={}));const Pf="popstate";function ig(l){l===void 0&&(l={});function i(a,u){let{pathname:d,search:f,hash:g}=a.location;return ih("",{pathname:d,search:f,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(a,u){return typeof u=="string"?u:cu(u)}return sg(i,r,null,l)}function pt(l,i){if(l===!1||l===null||typeof l>"u")throw new Error(i)}function bp(l,i){if(!l){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function rg(){return Math.random().toString(36).substr(2,8)}function Ef(l,i){return{usr:l.state,key:l.key,idx:i}}function ih(l,i,r,a){return r===void 0&&(r=null),Ma({pathname:typeof l=="string"?l:l.pathname,search:"",hash:""},typeof i=="string"?Io(i):i,{state:r,key:i&&i.key||a||rg()})}function cu(l){let{pathname:i="/",search:r="",hash:a=""}=l;return r&&r!=="?"&&(i+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function Io(l){let i={};if(l){let r=l.indexOf("#");r>=0&&(i.hash=l.substr(r),l=l.substr(0,r));let a=l.indexOf("?");a>=0&&(i.search=l.substr(a),l=l.substr(0,a)),l&&(i.pathname=l)}return i}function sg(l,i,r,a){a===void 0&&(a={});let{window:u=document.defaultView,v5Compat:d=!1}=a,f=u.history,g=Ir.Pop,_=null,w=S();w==null&&(w=0,f.replaceState(Ma({},f.state,{idx:w}),""));function S(){return(f.state||{idx:null}).idx}function x(){g=Ir.Pop;let $=S(),te=$==null?null:$-w;w=$,_&&_({action:g,location:D.location,delta:te})}function j($,te){g=Ir.Push;let ie=ih(D.location,$,te);w=S()+1;let G=Ef(ie,w),Y=D.createHref(ie);try{f.pushState(G,"",Y)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;u.location.assign(Y)}d&&_&&_({action:g,location:D.location,delta:1})}function R($,te){g=Ir.Replace;let ie=ih(D.location,$,te);w=S();let G=Ef(ie,w),Y=D.createHref(ie);f.replaceState(G,"",Y),d&&_&&_({action:g,location:D.location,delta:0})}function A($){let te=u.location.origin!=="null"?u.location.origin:u.location.href,ie=typeof $=="string"?$:cu($);return ie=ie.replace(/ $/,"%20"),pt(te,"No window.location.(origin|href) available to create URL for href: "+ie),new URL(ie,te)}let D={get action(){return g},get location(){return l(u,f)},listen($){if(_)throw new Error("A history only accepts one active listener");return u.addEventListener(Pf,x),_=$,()=>{u.removeEventListener(Pf,x),_=null}},createHref($){return i(u,$)},createURL:A,encodeLocation($){let te=A($);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:j,replace:R,go($){return f.go($)}};return D}var Cf;(function(l){l.data="data",l.deferred="deferred",l.redirect="redirect",l.error="error"})(Cf||(Cf={}));function og(l,i,r){return r===void 0&&(r="/"),ag(l,i,r)}function ag(l,i,r,a){let u=typeof i=="string"?Io(i):i,d=Sh(u.pathname||"/",r);if(d==null)return null;let f=xp(l);lg(f);let g=null;for(let _=0;g==null&&_<f.length;++_){let w=wg(d);g=vg(f[_],w)}return g}function xp(l,i,r,a){i===void 0&&(i=[]),r===void 0&&(r=[]),a===void 0&&(a="");let u=(d,f,g)=>{let _={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};_.relativePath.startsWith("/")&&(pt(_.relativePath.startsWith(a),'Absolute route path "'+_.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),_.relativePath=_.relativePath.slice(a.length));let w=Ar([a,_.relativePath]),S=r.concat(_);d.children&&d.children.length>0&&(pt(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),xp(d.children,i,S,w)),!(d.path==null&&!d.index)&&i.push({path:w,score:mg(w,d.index),routesMeta:S})};return l.forEach((d,f)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))u(d,f);else for(let _ of kp(d.path))u(d,f,_)}),i}function kp(l){let i=l.split("/");if(i.length===0)return[];let[r,...a]=i,u=r.endsWith("?"),d=r.replace(/\?$/,"");if(a.length===0)return u?[d,""]:[d];let f=kp(a.join("/")),g=[];return g.push(...f.map(_=>_===""?d:[d,_].join("/"))),u&&g.push(...f),g.map(_=>l.startsWith("/")&&_===""?"/":_)}function lg(l){l.sort((i,r)=>i.score!==r.score?r.score-i.score:gg(i.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const ug=/^:[\w-]+$/,cg=3,hg=2,dg=1,fg=10,pg=-2,Lf=l=>l==="*";function mg(l,i){let r=l.split("/"),a=r.length;return r.some(Lf)&&(a+=pg),i&&(a+=hg),r.filter(u=>!Lf(u)).reduce((u,d)=>u+(ug.test(d)?cg:d===""?dg:fg),a)}function gg(l,i){return l.length===i.length&&l.slice(0,-1).every((a,u)=>a===i[u])?l[l.length-1]-i[i.length-1]:0}function vg(l,i,r){let{routesMeta:a}=l,u={},d="/",f=[];for(let g=0;g<a.length;++g){let _=a[g],w=g===a.length-1,S=d==="/"?i:i.slice(d.length)||"/",x=_g({path:_.relativePath,caseSensitive:_.caseSensitive,end:w},S),j=_.route;if(!x)return null;Object.assign(u,x.params),f.push({params:u,pathname:Ar([d,x.pathname]),pathnameBase:Sg(Ar([d,x.pathnameBase])),route:j}),x.pathnameBase!=="/"&&(d=Ar([d,x.pathnameBase]))}return f}function _g(l,i){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[r,a]=yg(l.path,l.caseSensitive,l.end),u=i.match(r);if(!u)return null;let d=u[0],f=d.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:a.reduce((w,S,x)=>{let{paramName:j,isOptional:R}=S;if(j==="*"){let D=g[x]||"";f=d.slice(0,d.length-D.length).replace(/(.)\/+$/,"$1")}const A=g[x];return R&&!A?w[j]=void 0:w[j]=(A||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:f,pattern:l}}function yg(l,i,r){i===void 0&&(i=!1),r===void 0&&(r=!0),bp(l==="*"||!l.endsWith("*")||l.endsWith("/*"),'Route path "'+l+'" will be treated as if it were '+('"'+l.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+l.replace(/\*$/,"/*")+'".'));let a=[],u="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,_)=>(a.push({paramName:g,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(a.push({paramName:"*"}),u+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":l!==""&&l!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,i?void 0:"i"),a]}function wg(l){try{return l.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return bp(!1,'The URL path "'+l+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),l}}function Sh(l,i){if(i==="/")return l;if(!l.toLowerCase().startsWith(i.toLowerCase()))return null;let r=i.endsWith("/")?i.length-1:i.length,a=l.charAt(r);return a&&a!=="/"?null:l.slice(r)||"/"}function bg(l,i){i===void 0&&(i="/");let{pathname:r,search:a="",hash:u=""}=typeof l=="string"?Io(l):l;return{pathname:r?r.startsWith("/")?r:xg(r,i):i,search:Pg(a),hash:Eg(u)}}function xg(l,i){let r=i.replace(/\/+$/,"").split("/");return l.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function qc(l,i,r,a){return"Cannot include a '"+l+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kg(l){return l.filter((i,r)=>r===0||i.route.path&&i.route.path.length>0)}function Ph(l,i){let r=kg(l);return i?r.map((a,u)=>u===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Eh(l,i,r,a){a===void 0&&(a=!1);let u;typeof l=="string"?u=Io(l):(u=Ma({},l),pt(!u.pathname||!u.pathname.includes("?"),qc("?","pathname","search",u)),pt(!u.pathname||!u.pathname.includes("#"),qc("#","pathname","hash",u)),pt(!u.search||!u.search.includes("#"),qc("#","search","hash",u)));let d=l===""||u.pathname==="",f=d?"/":u.pathname,g;if(f==null)g=r;else{let x=i.length-1;if(!a&&f.startsWith("..")){let j=f.split("/");for(;j[0]==="..";)j.shift(),x-=1;u.pathname=j.join("/")}g=x>=0?i[x]:"/"}let _=bg(u,g),w=f&&f!=="/"&&f.endsWith("/"),S=(d||f===".")&&r.endsWith("/");return!_.pathname.endsWith("/")&&(w||S)&&(_.pathname+="/"),_}const Ar=l=>l.join("/").replace(/\/\/+/g,"/"),Sg=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),Pg=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Eg=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function Cg(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}const Sp=["post","put","patch","delete"];new Set(Sp);const Lg=["get",...Sp];new Set(Lg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Da(){return Da=Object.assign?Object.assign.bind():function(l){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])}return l},Da.apply(this,arguments)}const Ch=I.createContext(null),Tg=I.createContext(null),Mr=I.createContext(null),_u=I.createContext(null),Dr=I.createContext({outlet:null,matches:[],isDataRoute:!1}),Pp=I.createContext(null);function zg(l,i){let{relative:r}=i===void 0?{}:i;Ao()||pt(!1);let{basename:a,navigator:u}=I.useContext(Mr),{hash:d,pathname:f,search:g}=Lp(l,{relative:r}),_=f;return a!=="/"&&(_=f==="/"?a:Ar([a,f])),u.createHref({pathname:_,search:g,hash:d})}function Ao(){return I.useContext(_u)!=null}function Ba(){return Ao()||pt(!1),I.useContext(_u).location}function Ep(l){I.useContext(Mr).static||I.useLayoutEffect(l)}function Cp(){let{isDataRoute:l}=I.useContext(Dr);return l?Zg():jg()}function jg(){Ao()||pt(!1);let l=I.useContext(Ch),{basename:i,future:r,navigator:a}=I.useContext(Mr),{matches:u}=I.useContext(Dr),{pathname:d}=Ba(),f=JSON.stringify(Ph(u,r.v7_relativeSplatPath)),g=I.useRef(!1);return Ep(()=>{g.current=!0}),I.useCallback(function(w,S){if(S===void 0&&(S={}),!g.current)return;if(typeof w=="number"){a.go(w);return}let x=Eh(w,JSON.parse(f),d,S.relative==="path");l==null&&i!=="/"&&(x.pathname=x.pathname==="/"?i:Ar([i,x.pathname])),(S.replace?a.replace:a.push)(x,S.state,S)},[i,a,f,d,l])}function Lp(l,i){let{relative:r}=i===void 0?{}:i,{future:a}=I.useContext(Mr),{matches:u}=I.useContext(Dr),{pathname:d}=Ba(),f=JSON.stringify(Ph(u,a.v7_relativeSplatPath));return I.useMemo(()=>Eh(l,JSON.parse(f),d,r==="path"),[l,f,d,r])}function Og(l,i){return Ng(l,i)}function Ng(l,i,r,a){Ao()||pt(!1);let{navigator:u}=I.useContext(Mr),{matches:d}=I.useContext(Dr),f=d[d.length-1],g=f?f.params:{};f&&f.pathname;let _=f?f.pathnameBase:"/";f&&f.route;let w=Ba(),S;if(i){var x;let $=typeof i=="string"?Io(i):i;_==="/"||(x=$.pathname)!=null&&x.startsWith(_)||pt(!1),S=$}else S=w;let j=S.pathname||"/",R=j;if(_!=="/"){let $=_.replace(/^\//,"").split("/");R="/"+j.replace(/^\//,"").split("/").slice($.length).join("/")}let A=og(l,{pathname:R}),D=Dg(A&&A.map($=>Object.assign({},$,{params:Object.assign({},g,$.params),pathname:Ar([_,u.encodeLocation?u.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?_:Ar([_,u.encodeLocation?u.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),d,r,a);return i&&D?I.createElement(_u.Provider,{value:{location:Da({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:Ir.Pop}},D):D}function Rg(){let l=Bg(),i=Cg(l)?l.status+" "+l.statusText:l instanceof Error?l.message:JSON.stringify(l),r=l instanceof Error?l.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},i),r?I.createElement("pre",{style:u},r):null,null)}const Ig=I.createElement(Rg,null);class Ag extends I.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,r){return r.location!==i.location||r.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:r.error,location:r.location,revalidation:i.revalidation||r.revalidation}}componentDidCatch(i,r){console.error("React Router caught the following error during render",i,r)}render(){return this.state.error!==void 0?I.createElement(Dr.Provider,{value:this.props.routeContext},I.createElement(Pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Mg(l){let{routeContext:i,match:r,children:a}=l,u=I.useContext(Ch);return u&&u.static&&u.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(Dr.Provider,{value:i},a)}function Dg(l,i,r,a){var u;if(i===void 0&&(i=[]),r===void 0&&(r=null),a===void 0&&(a=null),l==null){var d;if(!r)return null;if(r.errors)l=r.matches;else if((d=a)!=null&&d.v7_partialHydration&&i.length===0&&!r.initialized&&r.matches.length>0)l=r.matches;else return null}let f=l,g=(u=r)==null?void 0:u.errors;if(g!=null){let S=f.findIndex(x=>x.route.id&&g?.[x.route.id]!==void 0);S>=0||pt(!1),f=f.slice(0,Math.min(f.length,S+1))}let _=!1,w=-1;if(r&&a&&a.v7_partialHydration)for(let S=0;S<f.length;S++){let x=f[S];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(w=S),x.route.id){let{loaderData:j,errors:R}=r,A=x.route.loader&&j[x.route.id]===void 0&&(!R||R[x.route.id]===void 0);if(x.route.lazy||A){_=!0,w>=0?f=f.slice(0,w+1):f=[f[0]];break}}}return f.reduceRight((S,x,j)=>{let R,A=!1,D=null,$=null;r&&(R=g&&x.route.id?g[x.route.id]:void 0,D=x.route.errorElement||Ig,_&&(w<0&&j===0?(Hg("route-fallback"),A=!0,$=null):w===j&&(A=!0,$=x.route.hydrateFallbackElement||null)));let te=i.concat(f.slice(0,j+1)),ie=()=>{let G;return R?G=D:A?G=$:x.route.Component?G=I.createElement(x.route.Component,null):x.route.element?G=x.route.element:G=S,I.createElement(Mg,{match:x,routeContext:{outlet:S,matches:te,isDataRoute:r!=null},children:G})};return r&&(x.route.ErrorBoundary||x.route.errorElement||j===0)?I.createElement(Ag,{location:r.location,revalidation:r.revalidation,component:D,error:R,children:ie(),routeContext:{outlet:null,matches:te,isDataRoute:!0}}):ie()},null)}var Tp=(function(l){return l.UseBlocker="useBlocker",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l})(Tp||{}),zp=(function(l){return l.UseBlocker="useBlocker",l.UseLoaderData="useLoaderData",l.UseActionData="useActionData",l.UseRouteError="useRouteError",l.UseNavigation="useNavigation",l.UseRouteLoaderData="useRouteLoaderData",l.UseMatches="useMatches",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l.UseRouteId="useRouteId",l})(zp||{});function Ug(l){let i=I.useContext(Ch);return i||pt(!1),i}function $g(l){let i=I.useContext(Tg);return i||pt(!1),i}function Fg(l){let i=I.useContext(Dr);return i||pt(!1),i}function jp(l){let i=Fg(),r=i.matches[i.matches.length-1];return r.route.id||pt(!1),r.route.id}function Bg(){var l;let i=I.useContext(Pp),r=$g(),a=jp();return i!==void 0?i:(l=r.errors)==null?void 0:l[a]}function Zg(){let{router:l}=Ug(Tp.UseNavigateStable),i=jp(zp.UseNavigateStable),r=I.useRef(!1);return Ep(()=>{r.current=!0}),I.useCallback(function(u,d){d===void 0&&(d={}),r.current&&(typeof u=="number"?l.navigate(u):l.navigate(u,Da({fromRouteId:i},d)))},[l,i])}const Tf={};function Hg(l,i,r){Tf[l]||(Tf[l]=!0)}function Wg(l,i){l?.v7_startTransition,l?.v7_relativeSplatPath}function Vg(l){let{to:i,replace:r,state:a,relative:u}=l;Ao()||pt(!1);let{future:d,static:f}=I.useContext(Mr),{matches:g}=I.useContext(Dr),{pathname:_}=Ba(),w=Cp(),S=Eh(i,Ph(g,d.v7_relativeSplatPath),_,u==="path"),x=JSON.stringify(S);return I.useEffect(()=>w(JSON.parse(x),{replace:r,state:a,relative:u}),[w,x,u,r,a]),null}function To(l){pt(!1)}function qg(l){let{basename:i="/",children:r=null,location:a,navigationType:u=Ir.Pop,navigator:d,static:f=!1,future:g}=l;Ao()&&pt(!1);let _=i.replace(/^\/*/,"/"),w=I.useMemo(()=>({basename:_,navigator:d,static:f,future:Da({v7_relativeSplatPath:!1},g)}),[_,g,d,f]);typeof a=="string"&&(a=Io(a));let{pathname:S="/",search:x="",hash:j="",state:R=null,key:A="default"}=a,D=I.useMemo(()=>{let $=Sh(S,_);return $==null?null:{location:{pathname:$,search:x,hash:j,state:R,key:A},navigationType:u}},[_,S,x,j,R,A,u]);return D==null?null:I.createElement(Mr.Provider,{value:w},I.createElement(_u.Provider,{children:r,value:D}))}function Kg(l){let{children:i,location:r}=l;return Og(rh(i),r)}new Promise(()=>{});function rh(l,i){i===void 0&&(i=[]);let r=[];return I.Children.forEach(l,(a,u)=>{if(!I.isValidElement(a))return;let d=[...i,u];if(a.type===I.Fragment){r.push.apply(r,rh(a.props.children,d));return}a.type!==To&&pt(!1),!a.props.index||!a.props.children||pt(!1);let f={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=rh(a.props.children,d)),r.push(f)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sh(){return sh=Object.assign?Object.assign.bind():function(l){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])}return l},sh.apply(this,arguments)}function Gg(l,i){if(l==null)return{};var r={},a=Object.keys(l),u,d;for(d=0;d<a.length;d++)u=a[d],!(i.indexOf(u)>=0)&&(r[u]=l[u]);return r}function Jg(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Qg(l,i){return l.button===0&&(!i||i==="_self")&&!Jg(l)}const Yg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xg="6";try{window.__reactRouterVersion=Xg}catch{}const ev="startTransition",zf=Gm[ev];function tv(l){let{basename:i,children:r,future:a,window:u}=l,d=I.useRef();d.current==null&&(d.current=ig({window:u,v5Compat:!0}));let f=d.current,[g,_]=I.useState({action:f.action,location:f.location}),{v7_startTransition:w}=a||{},S=I.useCallback(x=>{w&&zf?zf(()=>_(x)):_(x)},[_,w]);return I.useLayoutEffect(()=>f.listen(S),[f,S]),I.useEffect(()=>Wg(a),[a]),I.createElement(qg,{basename:i,children:r,location:g.location,navigationType:g.action,navigator:f,future:a})}const nv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iu=I.forwardRef(function(i,r){let{onClick:a,relative:u,reloadDocument:d,replace:f,state:g,target:_,to:w,preventScrollReset:S,viewTransition:x}=i,j=Gg(i,Yg),{basename:R}=I.useContext(Mr),A,D=!1;if(typeof w=="string"&&iv.test(w)&&(A=w,nv))try{let G=new URL(window.location.href),Y=w.startsWith("//")?new URL(G.protocol+w):new URL(w),se=Sh(Y.pathname,R);Y.origin===G.origin&&se!=null?w=se+Y.search+Y.hash:D=!0}catch{}let $=zg(w,{relative:u}),te=rv(w,{replace:f,state:g,target:_,preventScrollReset:S,relative:u,viewTransition:x});function ie(G){a&&a(G),G.defaultPrevented||te(G)}return I.createElement("a",sh({},j,{href:A||$,onClick:D||d?a:ie,ref:r,target:_}))});var jf;(function(l){l.UseScrollRestoration="useScrollRestoration",l.UseSubmit="useSubmit",l.UseSubmitFetcher="useSubmitFetcher",l.UseFetcher="useFetcher",l.useViewTransitionState="useViewTransitionState"})(jf||(jf={}));var Of;(function(l){l.UseFetcher="useFetcher",l.UseFetchers="useFetchers",l.UseScrollRestoration="useScrollRestoration"})(Of||(Of={}));function rv(l,i){let{target:r,replace:a,state:u,preventScrollReset:d,relative:f,viewTransition:g}=i===void 0?{}:i,_=Cp(),w=Ba(),S=Lp(l,{relative:f});return I.useCallback(x=>{if(Qg(x,r)){x.preventDefault();let j=a!==void 0?a:cu(w)===cu(S);_(l,{replace:j,state:u,preventScrollReset:d,relative:f,viewTransition:g})}},[w,_,S,a,u,r,l,d,f,g])}const sv=(l,i,r,a)=>{const u=[r,{code:i,...a||{}}];if(l?.services?.logger?.forward)return l.services.logger.forward(u,"warn","react-i18next::",!0);Ls(u[0])&&(u[0]=`react-i18next:: ${u[0]}`),l?.services?.logger?.warn?l.services.logger.warn(...u):console?.warn&&console.warn(...u)},Nf={},oh=(l,i,r,a)=>{Ls(r)&&Nf[r]||(Ls(r)&&(Nf[r]=new Date),sv(l,i,r,a))},Op=(l,i)=>()=>{if(l.isInitialized)i();else{const r=()=>{setTimeout(()=>{l.off("initialized",r)},0),i()};l.on("initialized",r)}},ah=(l,i,r)=>{l.loadNamespaces(i,Op(l,r))},Rf=(l,i,r,a)=>{if(Ls(r)&&(r=[r]),l.options.preload&&l.options.preload.indexOf(i)>-1)return ah(l,r,a);r.forEach(u=>{l.options.ns.indexOf(u)<0&&l.options.ns.push(u)}),l.loadLanguages(i,Op(l,a))},ov=(l,i,r={})=>!i.languages||!i.languages.length?(oh(i,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:i.languages}),!0):i.hasLoadedNamespace(l,{lng:r.lng,precheck:(a,u)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!u(a.isLanguageChangingTo,l))return!1}}),Ls=l=>typeof l=="string",av=l=>typeof l=="object"&&l!==null,lv=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,uv={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},cv=l=>uv[l],hv=l=>l.replace(lv,cv);let lh={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:hv};const dv=(l={})=>{lh={...lh,...l}},fv=()=>lh;let Np;const pv=l=>{Np=l},mv=()=>Np,gv={type:"3rdParty",init(l){dv(l.options.react),pv(l)}},vv=I.createContext();class _v{constructor(){this.usedNamespaces={}}addUsedNamespaces(i){i.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const yv=(l,i)=>{const r=I.useRef();return I.useEffect(()=>{r.current=l},[l,i]),r.current},Rp=(l,i,r,a)=>l.getFixedT(i,r,a),wv=(l,i,r,a)=>I.useCallback(Rp(l,i,r,a),[l,i,r,a]),Mo=(l,i={})=>{const{i18n:r}=i,{i18n:a,defaultNS:u}=I.useContext(vv)||{},d=r||a||mv();if(d&&!d.reportNamespaces&&(d.reportNamespaces=new _v),!d){oh(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const Y=(oe,ue)=>Ls(ue)?ue:av(ue)&&Ls(ue.defaultValue)?ue.defaultValue:Array.isArray(oe)?oe[oe.length-1]:oe,se=[Y,{},!1];return se.t=Y,se.i18n={},se.ready=!1,se}d.options.react?.wait&&oh(d,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const f={...fv(),...d.options.react,...i},{useSuspense:g,keyPrefix:_}=f;let w=u||d.options?.defaultNS;w=Ls(w)?[w]:w||["translation"],d.reportNamespaces.addUsedNamespaces?.(w);const S=(d.isInitialized||d.initializedStoreOnce)&&w.every(Y=>ov(Y,d,f)),x=wv(d,i.lng||null,f.nsMode==="fallback"?w:w[0],_),j=()=>x,R=()=>Rp(d,i.lng||null,f.nsMode==="fallback"?w:w[0],_),[A,D]=I.useState(j);let $=w.join();i.lng&&($=`${i.lng}${$}`);const te=yv($),ie=I.useRef(!0);I.useEffect(()=>{const{bindI18n:Y,bindI18nStore:se}=f;ie.current=!0,!S&&!g&&(i.lng?Rf(d,i.lng,w,()=>{ie.current&&D(R)}):ah(d,w,()=>{ie.current&&D(R)})),S&&te&&te!==$&&ie.current&&D(R);const oe=()=>{ie.current&&D(R)};return Y&&d?.on(Y,oe),se&&d?.store.on(se,oe),()=>{ie.current=!1,d&&Y&&Y?.split(" ").forEach(ue=>d.off(ue,oe)),se&&d&&se.split(" ").forEach(ue=>d.store.off(ue,oe))}},[d,$]),I.useEffect(()=>{ie.current&&S&&D(j)},[d,_,S]);const G=[A,d,S];if(G.t=A,G.i18n=d,G.ready=S,S||!S&&!g)return G;throw new Promise(Y=>{i.lng?Rf(d,i.lng,w,()=>Y()):ah(d,w,()=>Y())})},bv="modulepreload",xv=function(l){return"/rescue-admin/"+l},If={},Za=function(i,r,a){let u=Promise.resolve();if(r&&r.length>0){let w=function(S){return Promise.all(S.map(x=>Promise.resolve(x).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};var f=w;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),_=g?.nonce||g?.getAttribute("nonce");u=w(r.map(S=>{if(S=xv(S),S in If)return;If[S]=!0;const x=S.endsWith(".css"),j=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${S}"]${j}`))return;const R=document.createElement("link");if(R.rel=x?"stylesheet":bv,x||(R.as="script"),R.crossOrigin="",R.href=S,_&&R.setAttribute("nonce",_),document.head.appendChild(R),x)return new Promise((A,D)=>{R.addEventListener("load",A),R.addEventListener("error",()=>D(new Error(`Unable to preload CSS for ${S}`)))})}))}function d(g){const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=g,window.dispatchEvent(_),!_.defaultPrevented)throw g}return u.then(g=>{for(const _ of g||[])_.status==="rejected"&&d(_.reason);return i().catch(d)})},kv=l=>{let i;return l?i=l:typeof fetch>"u"?i=(...r)=>Za(async()=>{const{default:a}=await Promise.resolve().then(()=>Do);return{default:a}},void 0).then(({default:a})=>a(...r)):i=fetch,(...r)=>i(...r)};class Lh extends Error{constructor(i,r="FunctionsError",a){super(i),this.name=r,this.context=a}}class Sv extends Lh{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class Af extends Lh{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class Mf extends Lh{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var uh;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(uh||(uh={}));var Pv=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};class Ev{constructor(i,{headers:r={},customFetch:a,region:u=uh.Any}={}){this.url=i,this.headers=r,this.region=u,this.fetch=kv(a)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,r={}){var a;return Pv(this,void 0,void 0,function*(){try{const{headers:u,method:d,body:f}=r;let g={},{region:_}=r;_||(_=this.region);const w=new URL(`${this.url}/${i}`);_&&_!=="any"&&(g["x-region"]=_,w.searchParams.set("forceFunctionRegion",_));let S;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(g["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(g["Content-Type"]="application/json",S=JSON.stringify(f)));const x=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:S}).catch(D=>{throw new Sv(D)}),j=x.headers.get("x-relay-error");if(j&&j==="true")throw new Af(x);if(!x.ok)throw new Mf(x);let R=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),A;return R==="application/json"?A=yield x.json():R==="application/octet-stream"?A=yield x.blob():R==="text/event-stream"?A=x:R==="multipart/form-data"?A=yield x.formData():A=yield x.text(),{data:A,error:null,response:x}}catch(u){return{data:null,error:u,response:u instanceof Mf||u instanceof Af?u.context:void 0}}})}}var Ct={},_o={},yo={},wo={},bo={},xo={},Cv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ro=Cv();const Lv=Ro.fetch,Ip=Ro.fetch.bind(Ro),Ap=Ro.Headers,Tv=Ro.Request,zv=Ro.Response,Do=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ap,Request:Tv,Response:zv,default:Ip,fetch:Lv},Symbol.toStringTag,{value:"Module"})),jv=Wm(Do);var ru={},Df;function Mp(){if(Df)return ru;Df=1,Object.defineProperty(ru,"__esModule",{value:!0});class l extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ru.default=l,ru}var Uf;function Dp(){if(Uf)return xo;Uf=1;var l=xo&&xo.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(xo,"__esModule",{value:!0});const i=l(jv),r=l(Mp());class a{constructor(d){var f,g;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(f=d.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=d.signal,this.isMaybeSingle=(g=d.isMaybeSingle)!==null&&g!==void 0?g:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=new Headers(this.headers),this.headers.set(d,f),this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const g=this.fetch;let _=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async w=>{var S,x,j,R;let A=null,D=null,$=null,te=w.status,ie=w.statusText;if(w.ok){if(this.method!=="HEAD"){const oe=await w.text();oe===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((S=this.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?D=oe:D=JSON.parse(oe))}const Y=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),se=(j=w.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");Y&&se&&se.length>1&&($=parseInt(se[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(D)&&(D.length>1?(A={code:"PGRST116",details:`Results contain ${D.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},D=null,$=null,te=406,ie="Not Acceptable"):D.length===1?D=D[0]:D=null)}else{const Y=await w.text();try{A=JSON.parse(Y),Array.isArray(A)&&w.status===404&&(D=[],A=null,te=200,ie="OK")}catch{w.status===404&&Y===""?(te=204,ie="No Content"):A={message:Y}}if(A&&this.isMaybeSingle&&(!((R=A?.details)===null||R===void 0)&&R.includes("0 rows"))&&(A=null,te=200,ie="OK"),A&&this.shouldThrowOnError)throw new r.default(A)}return{error:A,data:D,count:$,status:te,statusText:ie}});return this.shouldThrowOnError||(_=_.catch(w=>{var S,x,j;return{error:{message:`${(S=w?.name)!==null&&S!==void 0?S:"FetchError"}: ${w?.message}`,details:`${(x=w?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(j=w?.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),_.then(d,f)}returns(){return this}overrideTypes(){return this}}return xo.default=a,xo}var $f;function Up(){if($f)return bo;$f=1;var l=bo&&bo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(bo,"__esModule",{value:!0});const i=l(Dp());class r extends i.default{select(u){let d=!1;const f=(u??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:d=!0,nullsFirst:f,foreignTable:g,referencedTable:_=g}={}){const w=_?`${_}.order`:"order",S=this.url.searchParams.get(w);return this.url.searchParams.set(w,`${S?`${S},`:""}${u}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:d,referencedTable:f=d}={}){const g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${u}`),this}range(u,d,{foreignTable:f,referencedTable:g=f}={}){const _=typeof g>"u"?"offset":`${g}.offset`,w=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(_,`${u}`),this.url.searchParams.set(w,`${d-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:d=!1,settings:f=!1,buffers:g=!1,wal:_=!1,format:w="text"}={}){var S;const x=[u?"analyze":null,d?"verbose":null,f?"settings":null,g?"buffers":null,_?"wal":null].filter(Boolean).join("|"),j=(S=this.headers.get("Accept"))!==null&&S!==void 0?S:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${w}; for="${j}"; options=${x};`),w==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return bo.default=r,bo}var Ff;function Th(){if(Ff)return wo;Ff=1;var l=wo&&wo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(wo,"__esModule",{value:!0});const i=l(Up());class r extends i.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}in(u,d){const f=Array.from(new Set(d)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:f,type:g}={}){let _="";g==="plain"?_="pl":g==="phrase"?_="ph":g==="websearch"&&(_="w");const w=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${_}fts${w}.${d}`),this}match(u){return Object.entries(u).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(u,d,f){return this.url.searchParams.append(u,`not.${d}.${f}`),this}or(u,{foreignTable:d,referencedTable:f=d}={}){const g=f?`${f}.or`:"or";return this.url.searchParams.append(g,`(${u})`),this}filter(u,d,f){return this.url.searchParams.append(u,`${d}.${f}`),this}}return wo.default=r,wo}var Bf;function $p(){if(Bf)return yo;Bf=1;var l=yo&&yo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(yo,"__esModule",{value:!0});const i=l(Th());class r{constructor(u,{headers:d={},schema:f,fetch:g}){this.url=u,this.headers=new Headers(d),this.schema=f,this.fetch=g}select(u,{head:d=!1,count:f}={}){const g=d?"HEAD":"GET";let _=!1;const w=(u??"*").split("").map(S=>/\s/.test(S)&&!_?"":(S==='"'&&(_=!_),S)).join("");return this.url.searchParams.set("select",w),f&&this.headers.append("Prefer",`count=${f}`),new i.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:d,defaultToNull:f=!0}={}){var g;const _="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const w=u.reduce((S,x)=>S.concat(Object.keys(x)),[]);if(w.length>0){const S=[...new Set(w)].map(x=>`"${x}"`);this.url.searchParams.set("columns",S.join(","))}}return new i.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(u,{onConflict:d,ignoreDuplicates:f=!1,count:g,defaultToNull:_=!0}={}){var w;const S="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),g&&this.headers.append("Prefer",`count=${g}`),_||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const x=u.reduce((j,R)=>j.concat(Object.keys(R)),[]);if(x.length>0){const j=[...new Set(x)].map(R=>`"${R}"`);this.url.searchParams.set("columns",j.join(","))}}return new i.default({method:S,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(w=this.fetch)!==null&&w!==void 0?w:fetch})}update(u,{count:d}={}){var f;const g="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new i.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var d;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new i.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return yo.default=r,yo}var Zf;function Ov(){if(Zf)return _o;Zf=1;var l=_o&&_o.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(_o,"__esModule",{value:!0});const i=l($p()),r=l(Th());class a{constructor(d,{headers:f={},schema:g,fetch:_}={}){this.url=d,this.headers=new Headers(f),this.schemaName=g,this.fetch=_}from(d){const f=new URL(`${this.url}/${d}`);return new i.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new a(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:g=!1,get:_=!1,count:w}={}){var S;let x;const j=new URL(`${this.url}/rpc/${d}`);let R;g||_?(x=g?"HEAD":"GET",Object.entries(f).filter(([D,$])=>$!==void 0).map(([D,$])=>[D,Array.isArray($)?`{${$.join(",")}}`:`${$}`]).forEach(([D,$])=>{j.searchParams.append(D,$)})):(x="POST",R=f);const A=new Headers(this.headers);return w&&A.set("Prefer",`count=${w}`),new r.default({method:x,url:j,headers:A,schema:this.schemaName,body:R,fetch:(S=this.fetch)!==null&&S!==void 0?S:fetch})}}return _o.default=a,_o}var Hf;function Nv(){if(Hf)return Ct;Hf=1;var l=Ct&&Ct.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.PostgrestError=Ct.PostgrestBuilder=Ct.PostgrestTransformBuilder=Ct.PostgrestFilterBuilder=Ct.PostgrestQueryBuilder=Ct.PostgrestClient=void 0;const i=l(Ov());Ct.PostgrestClient=i.default;const r=l($p());Ct.PostgrestQueryBuilder=r.default;const a=l(Th());Ct.PostgrestFilterBuilder=a.default;const u=l(Up());Ct.PostgrestTransformBuilder=u.default;const d=l(Dp());Ct.PostgrestBuilder=d.default;const f=l(Mp());return Ct.PostgrestError=f.default,Ct.default={PostgrestClient:i.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:d.default,PostgrestError:f.default},Ct}var Rv=Nv();const Iv=vu(Rv),{PostgrestClient:Av,PostgrestQueryBuilder:bw,PostgrestFilterBuilder:xw,PostgrestTransformBuilder:kw,PostgrestBuilder:Sw,PostgrestError:Pw}=Iv;class Mv{static detectEnvironment(){var i;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((i=navigator.userAgent)===null||i===void 0)&&i.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const i=this.detectEnvironment();if(i.constructor)return i.constructor;let r=i.error||"WebSocket not supported in this environment.";throw i.workaround&&(r+=`

Suggested solution: ${i.workaround}`),new Error(r)}static createWebSocket(i,r){const a=this.getWebSocketConstructor();return new a(i,r)}static isWebSocketSupported(){try{const i=this.detectEnvironment();return i.type==="native"||i.type==="ws"}catch{return!1}}}const Dv="2.15.4",Uv=`realtime-js/${Dv}`,$v="1.0.0",ch=1e4,Fv=1e3,Bv=100;var ja;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(ja||(ja={}));var xt;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(xt||(xt={}));var Vn;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Vn||(Vn={}));var hh;(function(l){l.websocket="websocket"})(hh||(hh={}));var Cs;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(Cs||(Cs={}));class Zv{constructor(){this.HEADER_LENGTH=1}decode(i,r){return i.constructor===ArrayBuffer?r(this._binaryDecode(i)):r(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const r=new DataView(i),a=new TextDecoder;return this._decodeBroadcast(i,r,a)}_decodeBroadcast(i,r,a){const u=r.getUint8(1),d=r.getUint8(2);let f=this.HEADER_LENGTH+2;const g=a.decode(i.slice(f,f+u));f=f+u;const _=a.decode(i.slice(f,f+d));f=f+d;const w=JSON.parse(a.decode(i.slice(f,i.byteLength)));return{ref:null,topic:g,event:_,payload:w}}}class Fp{constructor(i,r){this.callback=i,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(tt||(tt={}));const Wf=(l,i,r={})=>{var a;const u=(a=r.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(i).reduce((d,f)=>(d[f]=Hv(f,l,i,u),d),{})},Hv=(l,i,r,a)=>{const u=i.find(g=>g.name===l),d=u?.type,f=r[l];return d&&!a.includes(d)?Bp(d,f):dh(f)},Bp=(l,i)=>{if(l.charAt(0)==="_"){const r=l.slice(1,l.length);return Kv(i,r)}switch(l){case tt.bool:return Wv(i);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return Vv(i);case tt.json:case tt.jsonb:return qv(i);case tt.timestamp:return Gv(i);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return dh(i);default:return dh(i)}},dh=l=>l,Wv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Vv=l=>{if(typeof l=="string"){const i=parseFloat(l);if(!Number.isNaN(i))return i}return l},qv=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(i){return console.log(`JSON parse error: ${i}`),l}return l},Kv=(l,i)=>{if(typeof l!="string")return l;const r=l.length-1,a=l[r];if(l[0]==="{"&&a==="}"){let d;const f=l.slice(1,r);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(g=>Bp(i,g))}return l},Gv=l=>typeof l=="string"?l.replace(" ","T"):l,Zp=l=>{let i=l;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")+"/api/broadcast"};class Kc{constructor(i,r,a={},u=ch){this.channel=i,this.event=r,this.payload=a,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,r){var a;return this._hasReceived(i)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:i,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:r}){this.recHooks.filter(a=>a.status===i).forEach(a=>a.callback(r))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var Vf;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Vf||(Vf={}));class Oa{constructor(i,r){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},u=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Oa.syncState(this.state,u,d,f),this.pendingDiffs.forEach(_=>{this.state=Oa.syncDiff(this.state,_,d,f)}),this.pendingDiffs=[],g()}),this.channel._on(a.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Oa.syncDiff(this.state,u,d,f),g())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,r,a,u){const d=this.cloneDeep(i),f=this.transformState(r),g={},_={};return this.map(d,(w,S)=>{f[w]||(_[w]=S)}),this.map(f,(w,S)=>{const x=d[w];if(x){const j=S.map($=>$.presence_ref),R=x.map($=>$.presence_ref),A=S.filter($=>R.indexOf($.presence_ref)<0),D=x.filter($=>j.indexOf($.presence_ref)<0);A.length>0&&(g[w]=A),D.length>0&&(_[w]=D)}else g[w]=S}),this.syncDiff(d,{joins:g,leaves:_},a,u)}static syncDiff(i,r,a,u){const{joins:d,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),u||(u=()=>{}),this.map(d,(g,_)=>{var w;const S=(w=i[g])!==null&&w!==void 0?w:[];if(i[g]=this.cloneDeep(_),S.length>0){const x=i[g].map(R=>R.presence_ref),j=S.filter(R=>x.indexOf(R.presence_ref)<0);i[g].unshift(...j)}a(g,S,_)}),this.map(f,(g,_)=>{let w=i[g];if(!w)return;const S=_.map(x=>x.presence_ref);w=w.filter(x=>S.indexOf(x.presence_ref)<0),i[g]=w,u(g,w,_),w.length===0&&delete i[g]}),i}static map(i,r){return Object.getOwnPropertyNames(i).map(a=>r(a,i[a]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((r,a)=>{const u=i[a];return"metas"in u?r[a]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):r[a]=u,r},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qf;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(qf||(qf={}));var Na;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Na||(Na={}));var Ki;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Ki||(Ki={}));class zh{constructor(i,r={config:{}},a){this.topic=i,this.params=r,this.socket=a,this.bindings={},this.state=xt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Kc(this,Vn.join,this.params,this.timeout),this.rejoinTimer=new Fp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xt.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=xt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vn.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Oa(this),this.broadcastEndpointURL=Zp(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(i,r=this.timeout){var a,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==xt.closed){const{config:{broadcast:f,presence:g,private:_}}=this.params,w=(u=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(R=>R.filter))!==null&&u!==void 0?u:[],S=!!this.bindings[Na.PRESENCE]&&this.bindings[Na.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,x={},j={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:S}),postgres_changes:w,private:_};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(R=>i?.(Ki.CHANNEL_ERROR,R)),this._onClose(()=>i?.(Ki.CLOSED)),this.updateJoinPayload(Object.assign({config:j},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:R})=>{var A;if(this.socket.setAuth(),R===void 0){i?.(Ki.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,$=(A=D?.length)!==null&&A!==void 0?A:0,te=[];for(let ie=0;ie<$;ie++){const G=D[ie],{filter:{event:Y,schema:se,table:oe,filter:ue}}=G,ve=R&&R[ie];if(ve&&ve.event===Y&&ve.schema===se&&ve.table===oe&&ve.filter===ue)te.push(Object.assign(Object.assign({},G),{id:ve.id}));else{this.unsubscribe(),this.state=xt.errored,i?.(Ki.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=te,i&&i(Ki.SUBSCRIBED);return}}).receive("error",R=>{this.state=xt.errored,i?.(Ki.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(R).join(", ")||"error")))}).receive("timeout",()=>{i?.(Ki.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,r={}){return await this.send({type:"presence",event:"track",payload:i},r.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,r,a){return this.state===xt.joined&&i===Na.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(i,r,a)}async send(i,r={}){var a,u;if(!this._canPush()&&i.type==="broadcast"){const{event:d,payload:f}=i,_={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const w=await this._fetchWithTimeout(this.broadcastEndpointURL,_,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((u=w.body)===null||u===void 0?void 0:u.cancel()),w.ok?"ok":"error"}catch(w){return w.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,g,_;const w=this._push(i.type,i,r.timeout||this.timeout);i.type==="broadcast"&&!(!((_=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||_===void 0)&&_.ack)&&d("ok"),w.receive("ok",()=>d("ok")),w.receive("error",()=>d("error")),w.receive("timeout",()=>d("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=xt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(u=>{a=new Kc(this,Vn.leave,{},i),a.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(i=>i.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xt.closed,this.bindings={}}async _fetchWithTimeout(i,r,a){const u=new AbortController,d=setTimeout(()=>u.abort(),a),f=await this.socket.fetch(i,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(d),f}_push(i,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Kc(this,i,r,a);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(i){if(i.startTimeout(),this.pushBuffer.push(i),this.pushBuffer.length>Bv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(i,r,a){return r}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,r,a){var u,d;const f=i.toLocaleLowerCase(),{close:g,error:_,leave:w,join:S}=Vn;if(a&&[g,_,w,S].indexOf(f)>=0&&a!==this._joinRef())return;let j=this._onMessage(f,r,a);if(r&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(R=>{var A,D,$;return((A=R.filter)===null||A===void 0?void 0:A.event)==="*"||(($=(D=R.filter)===null||D===void 0?void 0:D.event)===null||$===void 0?void 0:$.toLocaleLowerCase())===f}).map(R=>R.callback(j,a)):(d=this.bindings[f])===null||d===void 0||d.filter(R=>{var A,D,$,te,ie,G;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in R){const Y=R.id,se=(A=R.filter)===null||A===void 0?void 0:A.event;return Y&&((D=r.ids)===null||D===void 0?void 0:D.includes(Y))&&(se==="*"||se?.toLocaleLowerCase()===(($=r.data)===null||$===void 0?void 0:$.type.toLocaleLowerCase()))}else{const Y=(ie=(te=R?.filter)===null||te===void 0?void 0:te.event)===null||ie===void 0?void 0:ie.toLocaleLowerCase();return Y==="*"||Y===((G=r?.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return R.type.toLocaleLowerCase()===f}).map(R=>{if(typeof j=="object"&&"ids"in j){const A=j.data,{schema:D,table:$,commit_timestamp:te,type:ie,errors:G}=A;j=Object.assign(Object.assign({},{schema:D,table:$,commit_timestamp:te,eventType:ie,new:{},old:{},errors:G}),this._getPayloadRecords(A))}R.callback(j,a)})}_isClosed(){return this.state===xt.closed}_isJoined(){return this.state===xt.joined}_isJoining(){return this.state===xt.joining}_isLeaving(){return this.state===xt.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,r,a){const u=i.toLocaleLowerCase(),d={type:u,filter:r,callback:a};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(i,r){const a=i.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===a&&zh.isEqual(u.filter,r))})),this}static isEqual(i,r){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(const a in i)if(i[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(Vn.close,{},i)}_onError(i){this._on(Vn.error,{},r=>i(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xt.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const r={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(r.new=Wf(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(r.old=Wf(i.columns,i.old_record)),r}}const Gc=()=>{},su={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Jv=[1e3,2e3,5e3,1e4],Qv=1e4,Yv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Xv{constructor(i,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ch,this.transport=null,this.heartbeatIntervalMs=su.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gc,this.ref=0,this.reconnectTimer=null,this.logger=Gc,this.conn=null,this.sendBuffer=[],this.serializer=new Zv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...f)=>Za(async()=>{const{default:g}=await Promise.resolve().then(()=>Do);return{default:g}},void 0).then(({default:g})=>g(...f)).catch(g=>{throw new Error(`Failed to load @supabase/node-fetch: ${g.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...f)=>d(...f)},!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${i}/${hh.websocket}`,this.httpEndpoint=Zp(i),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mv.createWebSocket(this.endpointURL())}catch(i){this._setConnectionState("disconnected");const r=i.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$v}))}disconnect(i,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},i?this.conn.close(i,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(i){const r=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const i=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),i}log(i,r,a){this.logger(i,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ja.connecting:return Cs.Connecting;case ja.open:return Cs.Open;case ja.closing:return Cs.Closing;default:return Cs.Closed}}isConnected(){return this.connectionState()===Cs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(i,r={config:{}}){const a=`realtime:${i}`,u=this.getChannels().find(d=>d.topic===a);if(u)return u;{const d=new zh(`realtime:${i}`,r,this);return this.channels.push(d),d}}push(i){const{topic:r,event:a,payload:u,ref:d}=i,f=()=>{this.encode(i,g=>{var _;(_=this.conn)===null||_===void 0||_.send(g)})};this.log("push",`${r} ${a} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(i=null){this._authPromise=this._performAuth(i);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var i;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(i=this.conn)===null||i===void 0||i.close(Fv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},su.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(i){this.heartbeatCallback=i}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let r=this.channels.find(a=>a.topic===i&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${i}"`),r.unsubscribe())}_remove(i){this.channels=this.channels.filter(r=>r.topic!==i.topic)}_onConnMessage(i){this.decode(i.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(w){this.log("error","error in heartbeat callback",w)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:u,payload:d,ref:f}=r,g=f?`(${f})`:"",_=d.status||"";this.log("receive",`${_} ${a} ${u} ${g}`.trim(),d),this.channels.filter(w=>w._isMember(a)).forEach(w=>w._trigger(u,d,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(i){var r;i==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):i==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(i=>i.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(i){var r;this._setConnectionState("disconnected"),this.log("transport","close",i),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",i)}_onConnError(i){this._setConnectionState("disconnected"),this.log("transport",`${i}`),this._triggerChanError(),this._triggerStateCallbacks("error",i)}_triggerChanError(){this.channels.forEach(i=>i._trigger(Vn.error))}_appendParams(i,r){if(Object.keys(r).length===0)return i;const a=i.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${i}${a}${u}`}_workerObjectUrl(i){let r;if(i)r=i;else{const a=new Blob([Yv],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(i,r=!1){this._connectionState=i,i==="connecting"?this._wasManualDisconnect=!1:i==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(i=null){let r;i?r=i:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const u={access_token:r,version:Uv};r&&a.updateJoinPayload(u),a.joinedOnce&&a._isJoined()&&a._push(Vn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(i="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${i}`,r)})}_triggerStateCallbacks(i,r){try{this.stateChangeCallbacks[i].forEach(a=>{try{a(r)}catch(u){this.log("error",`error in ${i} callback`,u)}})}catch(a){this.log("error",`error triggering ${i} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Fp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},su.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(i){var r,a,u,d,f,g,_,w,S;if(this.transport=(r=i?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=i?.timeout)!==null&&a!==void 0?a:ch,this.heartbeatIntervalMs=(u=i?.heartbeatIntervalMs)!==null&&u!==void 0?u:su.HEARTBEAT_INTERVAL,this.worker=(d=i?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=i?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=i?.heartbeatCallback)!==null&&g!==void 0?g:Gc,i?.params&&(this.params=i.params),i?.logger&&(this.logger=i.logger),(i?.logLevel||i?.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(_=i?.reconnectAfterMs)!==null&&_!==void 0?_:(x=>Jv[x-1]||Qv),this.encode=(w=i?.encode)!==null&&w!==void 0?w:((x,j)=>j(JSON.stringify(x))),this.decode=(S=i?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=i?.workerUrl}}}class jh extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function kt(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class e_ extends jh{constructor(i,r,a){super(i),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fh extends jh{constructor(i,r){super(i),this.name="StorageUnknownError",this.originalError=r}}var t_=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};const Hp=l=>{let i;return l?i=l:typeof fetch>"u"?i=(...r)=>Za(async()=>{const{default:a}=await Promise.resolve().then(()=>Do);return{default:a}},void 0).then(({default:a})=>a(...r)):i=fetch,(...r)=>i(...r)},n_=()=>t_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Za(()=>Promise.resolve().then(()=>Do),void 0)).Response:Response}),ph=l=>{if(Array.isArray(l))return l.map(r=>ph(r));if(typeof l=="function"||l!==Object(l))return l;const i={};return Object.entries(l).forEach(([r,a])=>{const u=r.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));i[u]=ph(a)}),i},i_=l=>{if(typeof l!="object"||l===null)return!1;const i=Object.getPrototypeOf(l);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)};var Ts=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};const Jc=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),r_=(l,i,r)=>Ts(void 0,void 0,void 0,function*(){const a=yield n_();l instanceof a&&!r?.noResolveJson?l.json().then(u=>{const d=l.status||500,f=u?.statusCode||d+"";i(new e_(Jc(u),d,f))}).catch(u=>{i(new fh(Jc(u),u))}):i(new fh(Jc(l),l))}),s_=(l,i,r,a)=>{const u={method:l,headers:i?.headers||{}};return l==="GET"||!a?u:(i_(a)?(u.headers=Object.assign({"Content-Type":"application/json"},i?.headers),u.body=JSON.stringify(a)):u.body=a,i?.duplex&&(u.duplex=i.duplex),Object.assign(Object.assign({},u),r))};function Ha(l,i,r,a,u,d){return Ts(this,void 0,void 0,function*(){return new Promise((f,g)=>{l(r,s_(i,a,u,d)).then(_=>{if(!_.ok)throw _;return a?.noResolveJson?_:_.json()}).then(_=>f(_)).catch(_=>r_(_,g,a))})})}function hu(l,i,r,a){return Ts(this,void 0,void 0,function*(){return Ha(l,"GET",i,r,a)})}function _i(l,i,r,a,u){return Ts(this,void 0,void 0,function*(){return Ha(l,"POST",i,a,u,r)})}function mh(l,i,r,a,u){return Ts(this,void 0,void 0,function*(){return Ha(l,"PUT",i,a,u,r)})}function o_(l,i,r,a){return Ts(this,void 0,void 0,function*(){return Ha(l,"HEAD",i,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Wp(l,i,r,a,u){return Ts(this,void 0,void 0,function*(){return Ha(l,"DELETE",i,a,u,r)})}var Ht=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};const a_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class l_{constructor(i,r={},a,u){this.url=i,this.headers=r,this.bucketId=a,this.fetch=Hp(u)}uploadOrUpdate(i,r,a,u){return Ht(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},Kf),u);let g=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const _=f.metadata;typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),_&&d.append("metadata",this.encodeMetadata(_)),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.append("cacheControl",f.cacheControl),_&&d.append("metadata",this.encodeMetadata(_))):(d=a,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,_&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(_)))),u?.headers&&(g=Object.assign(Object.assign({},g),u.headers));const w=this._removeEmptyFolders(r),S=this._getFinalPath(w),x=yield(i=="PUT"?mh:_i)(this.fetch,`${this.url}/object/${S}`,d,Object.assign({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:w,id:x.Id,fullPath:x.Key},error:null}}catch(d){if(kt(d))return{data:null,error:d};throw d}})}upload(i,r,a){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,r,a)})}uploadToSignedUrl(i,r,a,u){return Ht(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(i),f=this._getFinalPath(d),g=new URL(this.url+`/object/upload/sign/${f}`);g.searchParams.set("token",r);try{let _;const w=Object.assign({upsert:Kf.upsert},u),S=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&a instanceof Blob?(_=new FormData,_.append("cacheControl",w.cacheControl),_.append("",a)):typeof FormData<"u"&&a instanceof FormData?(_=a,_.append("cacheControl",w.cacheControl)):(_=a,S["cache-control"]=`max-age=${w.cacheControl}`,S["content-type"]=w.contentType);const x=yield mh(this.fetch,g.toString(),_,{headers:S});return{data:{path:d,fullPath:x.Key},error:null}}catch(_){if(kt(_))return{data:null,error:_};throw _}})}createSignedUploadUrl(i,r){return Ht(this,void 0,void 0,function*(){try{let a=this._getFinalPath(i);const u=Object.assign({},this.headers);r?.upsert&&(u["x-upsert"]="true");const d=yield _i(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:u}),f=new URL(this.url+d.url),g=f.searchParams.get("token");if(!g)throw new jh("No token returned by API");return{data:{signedUrl:f.toString(),path:i,token:g},error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}update(i,r,a){return Ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,r,a)})}move(i,r,a){return Ht(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(kt(u))return{data:null,error:u};throw u}})}copy(i,r,a){return Ht(this,void 0,void 0,function*(){try{return{data:{path:(yield _i(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(kt(u))return{data:null,error:u};throw u}})}createSignedUrl(i,r,a){return Ht(this,void 0,void 0,function*(){try{let u=this._getFinalPath(i),d=yield _i(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const f=a?.download?`&download=${a.download===!0?"":a.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(u){if(kt(u))return{data:null,error:u};throw u}})}createSignedUrls(i,r,a){return Ht(this,void 0,void 0,function*(){try{const u=yield _i(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:i},{headers:this.headers}),d=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(u){if(kt(u))return{data:null,error:u};throw u}})}download(i,r){return Ht(this,void 0,void 0,function*(){const u=typeof r?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(r?.transform||{}),f=d?`?${d}`:"";try{const g=this._getFinalPath(i);return{data:yield(yield hu(this.fetch,`${this.url}/${u}/${g}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(kt(g))return{data:null,error:g};throw g}})}info(i){return Ht(this,void 0,void 0,function*(){const r=this._getFinalPath(i);try{const a=yield hu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ph(a),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}exists(i){return Ht(this,void 0,void 0,function*(){const r=this._getFinalPath(i);try{return yield o_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(kt(a)&&a instanceof fh){const u=a.originalError;if([400,404].includes(u?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(i,r){const a=this._getFinalPath(i),u=[],d=r?.download?`download=${r.download===!0?"":r.download}`:"";d!==""&&u.push(d);const g=typeof r?.transform<"u"?"render/image":"object",_=this.transformOptsToQueryString(r?.transform||{});_!==""&&u.push(_);let w=u.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${a}${w}`)}}}remove(i){return Ht(this,void 0,void 0,function*(){try{return{data:yield Wp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}list(i,r,a){return Ht(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},a_),r),{prefix:i||""});return{data:yield _i(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},a),error:null}}catch(u){if(kt(u))return{data:null,error:u};throw u}})}listV2(i,r){return Ht(this,void 0,void 0,function*(){try{const a=Object.assign({},i);return{data:yield _i(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const r=[];return i.width&&r.push(`width=${i.width}`),i.height&&r.push(`height=${i.height}`),i.resize&&r.push(`resize=${i.resize}`),i.format&&r.push(`format=${i.format}`),i.quality&&r.push(`quality=${i.quality}`),r.join("&")}}const u_="2.11.0",c_={"X-Client-Info":`storage-js/${u_}`};var ko=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};class h_{constructor(i,r={},a,u){const d=new URL(i);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},c_),r),this.fetch=Hp(a)}listBuckets(){return ko(this,void 0,void 0,function*(){try{return{data:yield hu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}getBucket(i){return ko(this,void 0,void 0,function*(){try{return{data:yield hu(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}createBucket(i,r={public:!1}){return ko(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}updateBucket(i,r){return ko(this,void 0,void 0,function*(){try{return{data:yield mh(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}emptyBucket(i){return ko(this,void 0,void 0,function*(){try{return{data:yield _i(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}deleteBucket(i){return ko(this,void 0,void 0,function*(){try{return{data:yield Wp(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}})}}class d_ extends h_{constructor(i,r={},a,u){super(i,r,a,u)}from(i){return new l_(this.url,this.headers,i,this.fetch)}}const f_="2.56.1";let Ta="";typeof Deno<"u"?Ta="deno":typeof document<"u"?Ta="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ta="react-native":Ta="node";const p_={"X-Client-Info":`supabase-js-${Ta}/${f_}`},m_={headers:p_},g_={schema:"public"},v_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},__={};var y_=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};const w_=l=>{let i;return l?i=l:typeof fetch>"u"?i=Ip:i=fetch,(...r)=>i(...r)},b_=()=>typeof Headers>"u"?Ap:Headers,x_=(l,i,r)=>{const a=w_(r),u=b_();return(d,f)=>y_(void 0,void 0,void 0,function*(){var g;const _=(g=yield i())!==null&&g!==void 0?g:l;let w=new u(f?.headers);return w.has("apikey")||w.set("apikey",l),w.has("Authorization")||w.set("Authorization",`Bearer ${_}`),a(d,Object.assign(Object.assign({},f),{headers:w}))})};var k_=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};function S_(l){return l.endsWith("/")?l:l+"/"}function P_(l,i){var r,a;const{db:u,auth:d,realtime:f,global:g}=l,{db:_,auth:w,realtime:S,global:x}=i,j={db:Object.assign(Object.assign({},_),u),auth:Object.assign(Object.assign({},w),d),realtime:Object.assign(Object.assign({},S),f),storage:{},global:Object.assign(Object.assign(Object.assign({},x),g),{headers:Object.assign(Object.assign({},(r=x?.headers)!==null&&r!==void 0?r:{}),(a=g?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>k_(this,void 0,void 0,function*(){return""})};return l.accessToken?j.accessToken=l.accessToken:delete j.accessToken,j}const Vp="2.71.1",zo=30*1e3,gh=3,Qc=gh*zo,E_="http://localhost:9999",C_="supabase.auth.token",L_={"X-Client-Info":`gotrue-js/${Vp}`},vh="X-Supabase-Api-Version",qp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},T_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,z_=600*1e3;class Oh extends Error{constructor(i,r,a){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function Ae(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class j_ extends Oh{constructor(i,r,a){super(i,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function O_(l){return Ae(l)&&l.name==="AuthApiError"}class Kp extends Oh{constructor(i,r){super(i),this.name="AuthUnknownError",this.originalError=r}}class Ur extends Oh{constructor(i,r,a,u){super(i,a,u),this.name=r,this.status=a}}class Nr extends Ur{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function N_(l){return Ae(l)&&l.name==="AuthSessionMissingError"}class ou extends Ur{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class au extends Ur{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class lu extends Ur{constructor(i,r=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function R_(l){return Ae(l)&&l.name==="AuthImplicitGrantRedirectError"}class Gf extends Ur{constructor(i,r=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _h extends Ur{constructor(i,r){super(i,"AuthRetryableFetchError",r,void 0)}}function Yc(l){return Ae(l)&&l.name==="AuthRetryableFetchError"}class Jf extends Ur{constructor(i,r,a){super(i,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class yh extends Ur{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}}const du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qf=` 	
\r=`.split(""),I_=(()=>{const l=new Array(128);for(let i=0;i<l.length;i+=1)l[i]=-1;for(let i=0;i<Qf.length;i+=1)l[Qf[i].charCodeAt(0)]=-2;for(let i=0;i<du.length;i+=1)l[du[i].charCodeAt(0)]=i;return l})();function Yf(l,i,r){if(l!==null)for(i.queue=i.queue<<8|l,i.queuedBits+=8;i.queuedBits>=6;){const a=i.queue>>i.queuedBits-6&63;r(du[a]),i.queuedBits-=6}else if(i.queuedBits>0)for(i.queue=i.queue<<6-i.queuedBits,i.queuedBits=6;i.queuedBits>=6;){const a=i.queue>>i.queuedBits-6&63;r(du[a]),i.queuedBits-=6}}function Gp(l,i,r){const a=I_[l];if(a>-1)for(i.queue=i.queue<<6|a,i.queuedBits+=6;i.queuedBits>=8;)r(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Xf(l){const i=[],r=f=>{i.push(String.fromCodePoint(f))},a={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{D_(f,a,r)};for(let f=0;f<l.length;f+=1)Gp(l.charCodeAt(f),u,d);return i.join("")}function A_(l,i){if(l<=127){i(l);return}else if(l<=2047){i(192|l>>6),i(128|l&63);return}else if(l<=65535){i(224|l>>12),i(128|l>>6&63),i(128|l&63);return}else if(l<=1114111){i(240|l>>18),i(128|l>>12&63),i(128|l>>6&63),i(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function M_(l,i){for(let r=0;r<l.length;r+=1){let a=l.charCodeAt(r);if(a>55295&&a<=56319){const u=(a-55296)*1024&65535;a=(l.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}A_(a,i)}}function D_(l,i,r){if(i.utf8seq===0){if(l<=127){r(l);return}for(let a=1;a<6;a+=1)if((l>>7-a&1)===0){i.utf8seq=a;break}if(i.utf8seq===2)i.codepoint=l&31;else if(i.utf8seq===3)i.codepoint=l&15;else if(i.utf8seq===4)i.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|l&63,i.utf8seq-=1,i.utf8seq===0&&r(i.codepoint)}}function U_(l){const i=[],r={queue:0,queuedBits:0},a=u=>{i.push(u)};for(let u=0;u<l.length;u+=1)Gp(l.charCodeAt(u),r,a);return new Uint8Array(i)}function $_(l){const i=[];return M_(l,r=>i.push(r)),new Uint8Array(i)}function F_(l){const i=[],r={queue:0,queuedBits:0},a=u=>{i.push(u)};return l.forEach(u=>Yf(u,r,a)),Yf(null,r,a),i.join("")}function B_(l){return Math.round(Date.now()/1e3)+l}function Z_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const i=Math.random()*16|0;return(l=="x"?i:i&3|8).toString(16)})}const Wn=()=>typeof window<"u"&&typeof document<"u",Ss={tested:!1,writable:!1},Jp=()=>{if(!Wn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ss.tested)return Ss.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Ss.tested=!0,Ss.writable=!0}catch{Ss.tested=!0,Ss.writable=!1}return Ss.writable};function H_(l){const i={},r=new URL(l);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,d)=>{i[d]=u})}catch{}return r.searchParams.forEach((a,u)=>{i[u]=a}),i}const Qp=l=>{let i;return l?i=l:typeof fetch>"u"?i=(...r)=>Za(async()=>{const{default:a}=await Promise.resolve().then(()=>Do);return{default:a}},void 0).then(({default:a})=>a(...r)):i=fetch,(...r)=>i(...r)},W_=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",jo=async(l,i,r)=>{await l.setItem(i,JSON.stringify(r))},Ps=async(l,i)=>{const r=await l.getItem(i);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Or=async(l,i)=>{await l.removeItem(i)};class yu{constructor(){this.promise=new yu.promiseConstructor((i,r)=>{this.resolve=i,this.reject=r})}}yu.promiseConstructor=Promise;function Xc(l){const i=l.split(".");if(i.length!==3)throw new yh("Invalid JWT structure");for(let a=0;a<i.length;a++)if(!T_.test(i[a]))throw new yh("JWT not in base64url format");return{header:JSON.parse(Xf(i[0])),payload:JSON.parse(Xf(i[1])),signature:U_(i[2]),raw:{header:i[0],payload:i[1]}}}async function V_(l){return await new Promise(i=>{setTimeout(()=>i(null),l)})}function q_(l,i){return new Promise((a,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await l(d);if(!i(d,null,f)){a(f);return}}catch(f){if(!i(d,f)){u(f);return}}})()})}function K_(l){return("0"+l.toString(16)).substr(-2)}function G_(){const i=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let u="";for(let d=0;d<56;d++)u+=r.charAt(Math.floor(Math.random()*a));return u}return crypto.getRandomValues(i),Array.from(i,K_).join("")}async function J_(l){const r=new TextEncoder().encode(l),a=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(a);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function Q_(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const r=await J_(l);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function So(l,i,r=!1){const a=G_();let u=a;r&&(u+="/PASSWORD_RECOVERY"),await jo(l,`${i}-code-verifier`,u);const d=await Q_(a);return[d,a===d?"plain":"s256"]}const Y_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function X_(l){const i=l.headers.get(vh);if(!i||!i.match(Y_))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function ey(l){if(!l)throw new Error("Missing exp claim");const i=Math.floor(Date.now()/1e3);if(l<=i)throw new Error("JWT has expired")}function ty(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ny=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Po(l){if(!ny.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function eh(){const l={};return new Proxy(l,{get:(i,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(i,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(i,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ep(l){return JSON.parse(JSON.stringify(l))}var iy=function(l,i){var r={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&i.indexOf(a)<0&&(r[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(l);u<a.length;u++)i.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(l,a[u])&&(r[a[u]]=l[a[u]]);return r};const Es=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),ry=[502,503,504];async function tp(l){var i;if(!W_(l))throw new _h(Es(l),0);if(ry.includes(l.status))throw new _h(Es(l),l.status);let r;try{r=await l.json()}catch(d){throw new Kp(Es(d),d)}let a;const u=X_(l);if(u&&u.getTime()>=qp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new Jf(Es(r),l.status,((i=r.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(a==="session_not_found")throw new Nr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Jf(Es(r),l.status,r.weak_password.reasons);throw new j_(Es(r),l.status||500,a)}const sy=(l,i,r,a)=>{const u={method:l,headers:i?.headers||{}};return l==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),u.body=JSON.stringify(a),Object.assign(Object.assign({},u),r))};async function Be(l,i,r,a){var u;const d=Object.assign({},a?.headers);d[vh]||(d[vh]=qp["2024-01-01"].name),a?.jwt&&(d.Authorization=`Bearer ${a.jwt}`);const f=(u=a?.query)!==null&&u!==void 0?u:{};a?.redirectTo&&(f.redirect_to=a.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",_=await oy(l,i,r+g,{headers:d,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(_):{data:Object.assign({},_),error:null}}async function oy(l,i,r,a,u,d){const f=sy(i,a,u,d);let g;try{g=await l(r,Object.assign({},f))}catch(_){throw console.error(_),new _h(Es(_),0)}if(g.ok||await tp(g),a?.noResolveJson)return g;try{return await g.json()}catch(_){await tp(_)}}function qi(l){var i;let r=null;cy(l)&&(r=Object.assign({},l),l.expires_at||(r.expires_at=B_(l.expires_in)));const a=(i=l.user)!==null&&i!==void 0?i:l;return{data:{session:r,user:a},error:null}}function np(l){const i=qi(l);return!i.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(i.data.weak_password=l.weak_password),i}function Rr(l){var i;return{data:{user:(i=l.user)!==null&&i!==void 0?i:l},error:null}}function ay(l){return{data:l,error:null}}function ly(l){const{action_link:i,email_otp:r,hashed_token:a,redirect_to:u,verification_type:d}=l,f=iy(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:i,email_otp:r,hashed_token:a,redirect_to:u,verification_type:d},_=Object.assign({},f);return{data:{properties:g,user:_},error:null}}function uy(l){return l}function cy(l){return l.access_token&&l.refresh_token&&l.expires_in}const th=["global","local","others"];var hy=function(l,i){var r={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&i.indexOf(a)<0&&(r[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(l);u<a.length;u++)i.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(l,a[u])&&(r[a[u]]=l[a[u]]);return r};class dy{constructor({url:i="",headers:r={},fetch:a}){this.url=i,this.headers=r,this.fetch=Qp(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,r=th[0]){if(th.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${th.join(", ")}`);try{return await Be(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ae(a))return{data:null,error:a};throw a}}async inviteUserByEmail(i,r={}){try{return await Be(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rr})}catch(a){if(Ae(a))return{data:{user:null},error:a};throw a}}async generateLink(i){try{const{options:r}=i,a=hy(i,["options"]),u=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(u.new_email=a?.newEmail,delete u.newEmail),await Be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:ly,redirectTo:r?.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(i){try{return await Be(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Rr})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(i){var r,a,u,d,f,g,_;try{const w={nextPage:null,lastPage:0,total:0},S=await Be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=i?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(d=(u=i?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:uy});if(S.error)throw S.error;const x=await S.json(),j=(f=S.headers.get("x-total-count"))!==null&&f!==void 0?f:0,R=(_=(g=S.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&_!==void 0?_:[];return R.length>0&&(R.forEach(A=>{const D=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),$=JSON.parse(A.split(";")[1].split("=")[1]);w[`${$}Page`]=D}),w.total=parseInt(j)),{data:Object.assign(Object.assign({},x),w),error:null}}catch(w){if(Ae(w))return{data:{users:[]},error:w};throw w}}async getUserById(i){Po(i);try{return await Be(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Rr})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(i,r){Po(i);try{return await Be(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:r,headers:this.headers,xform:Rr})}catch(a){if(Ae(a))return{data:{user:null},error:a};throw a}}async deleteUser(i,r=!1){Po(i);try{return await Be(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rr})}catch(a){if(Ae(a))return{data:{user:null},error:a};throw a}}async _listFactors(i){Po(i.userId);try{const{data:r,error:a}=await Be(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:a}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(i){Po(i.userId),Po(i.id);try{return{data:await Be(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}function ip(l={}){return{getItem:i=>l[i]||null,setItem:(i,r)=>{l[i]=r},removeItem:i=>{delete l[i]}}}function fy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Eo={debug:!!(globalThis&&Jp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yp extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class py extends Yp{}async function my(l,i,r){Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,i);const a=new globalThis.AbortController;return i>0&&setTimeout(()=>{a.abort(),Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async u=>{if(u){Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,u.name);try{return await r()}finally{Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,u.name)}}else{if(i===0)throw Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new py(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Eo.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}fy();const gy={url:E_,storageKey:C_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:L_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rp(l,i,r){return await r()}const Co={};class Ua{constructor(i){var r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ua.nextInstanceID,Ua.nextInstanceID+=1,this.instanceID>0&&Wn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},gy),i);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new dy({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Qp(u.fetch),this.lock=u.lock||rp,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:Wn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=my:this.lock=rp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Jp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ip(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=ip(this.memoryStorage)),Wn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var i,r;return(r=(i=Co[this.storageKey])===null||i===void 0?void 0:i.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(i){Co[this.storageKey]=Object.assign(Object.assign({},Co[this.storageKey]),{jwks:i})}get jwks_cached_at(){var i,r;return(r=(i=Co[this.storageKey])===null||i===void 0?void 0:i.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(i){Co[this.storageKey]=Object.assign(Object.assign({},Co[this.storageKey]),{cachedAt:i})}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vp}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const r=H_(window.location.href);let a="none";if(this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce"),Wn()&&this.detectSessionInUrl&&a!=="none"){const{data:u,error:d}=await this._getSessionFromURL(r,a);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),R_(d)){const _=(i=d.details)===null||i===void 0?void 0:i.code;if(_==="identity_already_exists"||_==="identity_not_found"||_==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:g}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?{error:r}:{error:new Kp("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var r,a,u;try{const d=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=i?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(u=i?.options)===null||u===void 0?void 0:u.captchaToken}},xform:qi}),{data:f,error:g}=d;if(g||!f)return{data:{user:null,session:null},error:g};const _=f.session,w=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",_)),{data:{user:w,session:_},error:null}}catch(d){if(Ae(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(i){var r,a,u;try{let d;if("email"in i){const{email:S,password:x,options:j}=i;let R=null,A=null;this.flowType==="pkce"&&([R,A]=await So(this.storage,this.storageKey)),d=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:S,password:x,data:(r=j?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:R,code_challenge_method:A},xform:qi})}else if("phone"in i){const{phone:S,password:x,options:j}=i;d=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:x,data:(a=j?.data)!==null&&a!==void 0?a:{},channel:(u=j?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:qi})}else throw new au("You must provide either an email or phone number and a password");const{data:f,error:g}=d;if(g||!f)return{data:{user:null,session:null},error:g};const _=f.session,w=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",_)),{data:{user:w,session:_},error:null}}catch(d){if(Ae(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(i){try{let r;if("email"in i){const{email:d,password:f,options:g}=i;r=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:np})}else if("phone"in i){const{phone:d,password:f,options:g}=i;r=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:np})}else throw new au("You must provide either an email or phone number and a password");const{data:a,error:u}=r;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ou}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:u})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(i){var r,a,u,d;return await this._handleProviderSignIn(i.provider,{redirectTo:(r=i.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=i.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=i.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=i.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async signInWithWeb3(i){const{chain:r}=i;if(r==="solana")return await this.signInWithSolana(i);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(i){var r,a,u,d,f,g,_,w,S,x,j,R;let A,D;if("message"in i)A=i.message,D=i.signature;else{const{chain:$,wallet:te,statement:ie,options:G}=i;let Y;if(Wn())if(typeof te=="object")Y=te;else{const oe=window;if("solana"in oe&&typeof oe.solana=="object"&&("signIn"in oe.solana&&typeof oe.solana.signIn=="function"||"signMessage"in oe.solana&&typeof oe.solana.signMessage=="function"))Y=oe.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof te!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Y=te}const se=new URL((r=G?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Y&&Y.signIn){const oe=await Y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G?.signInWithSolana),{version:"1",domain:se.host,uri:se.href}),ie?{statement:ie}:null));let ue;if(Array.isArray(oe)&&oe[0]&&typeof oe[0]=="object")ue=oe[0];else if(oe&&typeof oe=="object"&&"signedMessage"in oe&&"signature"in oe)ue=oe;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ue&&"signature"in ue&&(typeof ue.signedMessage=="string"||ue.signedMessage instanceof Uint8Array)&&ue.signature instanceof Uint8Array)A=typeof ue.signedMessage=="string"?ue.signedMessage:new TextDecoder().decode(ue.signedMessage),D=ue.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Y)||typeof Y.signMessage!="function"||!("publicKey"in Y)||typeof Y!="object"||!Y.publicKey||!("toBase58"in Y.publicKey)||typeof Y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${se.host} wants you to sign in with your Solana account:`,Y.publicKey.toBase58(),...ie?["",ie,""]:[""],"Version: 1",`URI: ${se.href}`,`Issued At: ${(u=(a=G?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=G?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((f=G?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((g=G?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((_=G?.signInWithSolana)===null||_===void 0)&&_.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((w=G?.signInWithSolana)===null||w===void 0)&&w.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((x=(S=G?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||x===void 0)&&x.length?["Resources",...G.signInWithSolana.resources.map(ue=>`- ${ue}`)]:[]].join(`
`);const oe=await Y.signMessage(new TextEncoder().encode(A),"utf8");if(!oe||!(oe instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=oe}}try{const{data:$,error:te}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:F_(D)},!((j=i.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(R=i.options)===null||R===void 0?void 0:R.captchaToken}}:null),xform:qi});if(te)throw te;return!$||!$.session||!$.user?{data:{user:null,session:null},error:new ou}:($.session&&(await this._saveSession($.session),await this._notifyAllSubscribers("SIGNED_IN",$.session)),{data:Object.assign({},$),error:te})}catch($){if(Ae($))return{data:{user:null,session:null},error:$};throw $}}async _exchangeCodeForSession(i){const r=await Ps(this.storage,`${this.storageKey}-code-verifier`),[a,u]=(r??"").split("/");try{const{data:d,error:f}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:a},xform:qi});if(await Or(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new ou}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(Ae(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(i){try{const{options:r,provider:a,token:u,access_token:d,nonce:f}=i,g=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:qi}),{data:_,error:w}=g;return w?{data:{user:null,session:null},error:w}:!_||!_.session||!_.user?{data:{user:null,session:null},error:new ou}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:_,error:w})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(i){var r,a,u,d,f;try{if("email"in i){const{email:g,options:_}=i;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await So(this.storage,this.storageKey));const{error:x}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(r=_?.data)!==null&&r!==void 0?r:{},create_user:(a=_?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:w,code_challenge_method:S},redirectTo:_?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in i){const{phone:g,options:_}=i,{data:w,error:S}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(u=_?.data)!==null&&u!==void 0?u:{},create_user:(d=_?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:_?.captchaToken},channel:(f=_?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:w?.message_id},error:S}}throw new au("You must provide either an email or phone number.")}catch(g){if(Ae(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(i){var r,a;try{let u,d;"options"in i&&(u=(r=i.options)===null||r===void 0?void 0:r.redirectTo,d=(a=i.options)===null||a===void 0?void 0:a.captchaToken);const{data:f,error:g}=await Be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:qi});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const _=f.session,w=f.user;return _?.access_token&&(await this._saveSession(_),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",_)),{data:{user:w,session:_},error:null}}catch(u){if(Ae(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(i){var r,a,u;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await So(this.storage,this.storageKey)),await Be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(a=(r=i.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((u=i?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:ay})}catch(d){if(Ae(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:r},error:a}=i;if(a)throw a;if(!r)throw new Nr;const{error:u}=await Be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:u}})}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const r=`${this.url}/resend`;if("email"in i){const{email:a,type:u,options:d}=i,{error:f}=await Be(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in i){const{phone:a,type:u,options:d}=i,{data:f,error:g}=await Be(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:g}}throw new au("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(i,r){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await i(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const r=await Ps(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?i=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const a=i.expires_at?i.expires_at*1e3-Date.now()<Qc:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",i.expires_at),!a){if(this.userStorage){const f=await Ps(this.userStorage,this.storageKey+"-user");f?.user?i.user=f.user:i.user=eh()}if(this.storage.isServer&&i.user){let f=this.suppressGetSessionWarning;i=new Proxy(i,{get:(_,w,S)=>(!f&&w==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(_,w,S))})}return{data:{session:i},error:null}}const{session:u,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{session:null},error:d}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Rr}):await this._useSession(async r=>{var a,u,d;const{data:f,error:g}=r;if(g)throw g;return!(!((a=f.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nr}:await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:Rr})})}catch(r){if(Ae(r))return N_(r)&&(await this._removeSession(),await Or(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(i,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,r))}async _updateUser(i,r={}){try{return await this._useSession(async a=>{const{data:u,error:d}=a;if(d)throw d;if(!u.session)throw new Nr;const f=u.session;let g=null,_=null;this.flowType==="pkce"&&i.email!=null&&([g,_]=await So(this.storage,this.storageKey));const{data:w,error:S}=await Be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:g,code_challenge_method:_}),jwt:f.access_token,xform:Rr});if(S)throw S;return f.user=w.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(a){if(Ae(a))return{data:{user:null},error:a};throw a}}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Nr;const r=Date.now()/1e3;let a=r,u=!0,d=null;const{payload:f}=Xc(i.access_token);if(f.exp&&(a=f.exp,u=a<=r),u){const{session:g,error:_}=await this._callRefreshToken(i.refresh_token);if(_)return{data:{user:null,session:null},error:_};if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:_}=await this._getUser(i.access_token);if(_)throw _;d={access_token:i.access_token,refresh_token:i.refresh_token,user:g.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(r){if(Ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async r=>{var a;if(!i){const{data:f,error:g}=r;if(g)throw g;i=(a=f.session)!==null&&a!==void 0?a:void 0}if(!i?.refresh_token)throw new Nr;const{session:u,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{user:null,session:null},error:d}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(i,r){try{if(!Wn())throw new lu("No browser detected.");if(i.error||i.error_description||i.error_code)throw new lu(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Gf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new Gf("No code detected.");const{data:ie,error:G}=await this._exchangeCodeForSession(i.code);if(G)throw G;const Y=new URL(window.location.href);return Y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Y.toString()),{data:{session:ie.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:g,expires_at:_,token_type:w}=i;if(!d||!g||!f||!w)throw new lu("No session defined in URL");const S=Math.round(Date.now()/1e3),x=parseInt(g);let j=S+x;_&&(j=parseInt(_));const R=j-S;R*1e3<=zo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${R}s, should have been closer to ${x}s`);const A=j-x;S-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,j,S):S-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,j,S);const{data:D,error:$}=await this._getUser(d);if($)throw $;const te={provider_token:a,provider_refresh_token:u,access_token:d,expires_in:x,expires_at:j,refresh_token:f,token_type:w,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:te,redirectType:i.type},error:null}}catch(a){if(Ae(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const r=await Ps(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&r)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:u,error:d}=r;if(d)return{error:d};const f=(a=u.session)===null||a===void 0?void 0:a.access_token;if(f){const{error:g}=await this.admin.signOut(f,i);if(g&&!(O_(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return i!=="others"&&(await this._removeSession(),await Or(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const r=Z_(),a={id:r,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(i){return await this._useSession(async r=>{var a,u;try{const{data:{session:d},error:f}=r;if(f)throw f;await((a=this.stateChangeEmitters.get(i))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",i,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(i))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",d),console.error(d)}})}async resetPasswordForEmail(i,r={}){let a=null,u=null;this.flowType==="pkce"&&([a,u]=await So(this.storage,this.storageKey,!0));try{return await Be(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:a,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(d){if(Ae(d))return{data:null,error:d};throw d}}async getUserIdentities(){var i;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(i=r.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async linkIdentity(i){var r;try{const{data:a,error:u}=await this._useSession(async d=>{var f,g,_,w,S;const{data:x,error:j}=d;if(j)throw j;const R=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(f=i.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=i.options)===null||g===void 0?void 0:g.scopes,queryParams:(_=i.options)===null||_===void 0?void 0:_.queryParams,skipBrowserRedirect:!0});return await Be(this.fetch,"GET",R,{headers:this.headers,jwt:(S=(w=x.session)===null||w===void 0?void 0:w.access_token)!==null&&S!==void 0?S:void 0})});if(u)throw u;return Wn()&&!(!((r=i.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:i.provider,url:a?.url},error:null}}catch(a){if(Ae(a))return{data:{provider:i.provider,url:null},error:a};throw a}}async unlinkIdentity(i){try{return await this._useSession(async r=>{var a,u;const{data:d,error:f}=r;if(f)throw f;return await Be(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(u=(a=d.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(i){const r=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await q_(async u=>(u>0&&await V_(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await Be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:qi})),(u,d)=>{const f=200*Math.pow(2,u);return d&&Yc(d)&&Date.now()+f-a<zo})}catch(a){if(this._debug(r,"error",a),Ae(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(r,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",r,"url",a),Wn()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:i,url:a},error:null}}async _recoverAndRefresh(){var i,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const u=await Ps(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Ps(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await jo(this.userStorage,this.storageKey+"-user",f)),u.user=(i=f?.user)!==null&&i!==void 0?i:eh()}else if(u&&!u.user&&!u.user){const f=await Ps(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await Or(this.storage,this.storageKey+"-user"),await jo(this.storage,this.storageKey,u)):u.user=eh()}if(this._debug(a,"session from storage",u),!this._isValidSession(u)){this._debug(a,"session is not valid"),u!==null&&await this._removeSession();return}const d=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Qc;if(this._debug(a,`session has${d?"":" not"} expired with margin of ${Qc}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Yc(f)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(u.access_token);!g&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(a,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(a,"error",u),console.error(u);return}finally{this._debug(a,"end")}}async _callRefreshToken(i){var r,a;if(!i)throw new Nr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new yu;const{data:d,error:f}=await this._refreshAccessToken(i);if(f)throw f;if(!d.session)throw new Nr;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={session:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(u,"error",d),Ae(d)){const f={session:null,error:d};return Yc(d)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(i,r,a=!0){const u=`#_notifyAllSubscribers(${i})`;this._debug(u,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:i,session:r});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(i,r)}catch(_){d.push(_)}});if(await Promise.all(f),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0;const r=Object.assign({},i),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await jo(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const d=ep(u);await jo(this.storage,this.storageKey,d)}else{const u=ep(r);await jo(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Or(this.storage,this.storageKey),await Or(this.storage,this.storageKey+"-code-verifier"),await Or(this.storage,this.storageKey+"-user"),this.userStorage&&await Or(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&Wn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),zo);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((a.expires_at*1e3-i)/zo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${zo}ms, refresh threshold is ${gh} ticks`),u<=gh&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof Yp)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const r=`#_onVisibilityChanged(${i})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,r,a){const u=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&u.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[d,f]=await So(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(g.toString())}if(a?.queryParams){const d=new URLSearchParams(a.queryParams);u.push(d.toString())}return a?.skipBrowserRedirect&&u.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${i}?${u.join("&")}`}async _unenroll(i){try{return await this._useSession(async r=>{var a;const{data:u,error:d}=r;return d?{data:null,error:d}:await Be(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _enroll(i){try{return await this._useSession(async r=>{var a,u;const{data:d,error:f}=r;if(f)return{data:null,error:f};const g=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:{issuer:i.issuer}),{data:_,error:w}=await Be(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(a=d?.session)===null||a===void 0?void 0:a.access_token});return w?{data:null,error:w}:(i.factorType==="totp"&&(!((u=_?.totp)===null||u===void 0)&&u.qr_code)&&(_.totp.qr_code=`data:image/svg+xml;utf-8,${_.totp.qr_code}`),{data:_,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:u,error:d}=r;if(d)return{data:null,error:d};const{data:f,error:g}=await Be(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:u,error:d}=r;return d?{data:null,error:d}:await Be(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:{channel:i.channel},headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(i){const{data:r,error:a}=await this._challenge({factorId:i.factorId});return a?{data:null,error:a}:await this._verify({factorId:i.factorId,challengeId:r.id,code:i.code})}async _listFactors(){const{data:{user:i},error:r}=await this.getUser();if(r)return{data:null,error:r};const a=i?.factors||[],u=a.filter(f=>f.factor_type==="totp"&&f.status==="verified"),d=a.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:a,totp:u,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var r,a;const{data:{session:u},error:d}=i;if(d)return{data:null,error:d};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Xc(u.access_token);let g=null;f.aal&&(g=f.aal);let _=g;((a=(r=u.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(_="aal2");const S=f.amr||[];return{data:{currentLevel:g,nextLevel:_,currentAuthenticationMethods:S},error:null}}))}async fetchJwk(i,r={keys:[]}){let a=r.keys.find(g=>g.kid===i);if(a)return a;const u=Date.now();if(a=this.jwks.keys.find(g=>g.kid===i),a&&this.jwks_cached_at+z_>u)return a;const{data:d,error:f}=await Be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,a=d.keys.find(g=>g.kid===i),!a)?null:a}async getClaims(i,r={}){try{let a=i;if(!a){const{data:R,error:A}=await this.getSession();if(A||!R.session)return{data:null,error:A};a=R.session.access_token}const{header:u,payload:d,signature:f,raw:{header:g,payload:_}}=Xc(a);r?.allowExpired||ey(d.exp);const w=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!w){const{error:R}=await this.getUser(a);if(R)throw R;return{data:{claims:d,header:u,signature:f},error:null}}const S=ty(u.alg),x=await crypto.subtle.importKey("jwk",w,S,!0,["verify"]);if(!await crypto.subtle.verify(S,x,f,$_(`${g}.${_}`)))throw new yh("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(a){if(Ae(a))return{data:null,error:a};throw a}}}Ua.nextInstanceID=0;const vy=Ua;class _y extends vy{constructor(i){super(i)}}var yy=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};class wy{constructor(i,r,a){var u,d,f;if(this.supabaseUrl=i,this.supabaseKey=r,!i)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const g=S_(i),_=new URL(g);this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const w=`sb-${_.hostname.split(".")[0]}-auth-token`,S={db:g_,realtime:__,auth:Object.assign(Object.assign({},v_),{storageKey:w}),global:m_},x=P_(a??{},S);this.storageKey=(u=x.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(d=x.global.headers)!==null&&d!==void 0?d:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(j,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=x.auth)!==null&&f!==void 0?f:{},this.headers,x.global.fetch),this.fetch=x_(r,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new Av(new URL("rest/v1",_).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new d_(this.storageUrl.href,this.headers,this.fetch,a?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new Ev(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,r={},a={}){return this.rest.rpc(i,r,a)}channel(i,r={config:{}}){return this.realtime.channel(i,r)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,r;return yy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(r=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:r,detectSessionInUrl:a,storage:u,storageKey:d,flowType:f,lock:g,debug:_},w,S){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _y({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),w),storageKey:d,autoRefreshToken:i,persistSession:r,detectSessionInUrl:a,storage:u,flowType:f,lock:g,debug:_,fetch:S,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(i){return new Xv(this.realtimeUrl.href,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a?.access_token)})}_handleTokenChanged(i,r,a){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:i==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const by=(l,i,r)=>new wy(l,i,r);function xy(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const i=l.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}xy()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ky="https://opwwrcfsbqlcxnuhxshp.supabase.co",Sy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9wd3dyY2ZzYnFsY3hudWh4c2hwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU2NzMxNTIsImV4cCI6MjA3MTI0OTE1Mn0.wehFwM69ob0rAj0MteWLueKVrq9Rq2bh_HYvKs448lw",Se=by(ky,Sy,{db:{schema:"public"}}),Py=()=>{const{t:l}=Mo(),[i,r]=I.useState([]),[a,u]=I.useState(null),[d,f]=I.useState(""),[g,_]=I.useState(""),[w,S]=I.useState(""),[x,j]=I.useState(""),[R,A]=I.useState("searcher"),[D,$]=I.useState(!0),[te,ie]=I.useState(null),[G,Y]=I.useState(!0),[se,oe]=I.useState(null),[ue,ve]=I.useState({});I.useEffect(()=>{De()},[]);const De=async()=>{const{data:{user:Z}}=await Se.auth.getUser();if(Z){const B=Z.user_metadata?.role;ie(B),["admin","coordinator"].includes(B)&&ae()}Y(!1)},ae=async()=>{try{const{data:Z,error:B}=await Se.from("users").select("*");if(B)throw B;r(Z||[])}catch(Z){alert("Error: "+Z.message)}},xe=async Z=>{if(Z.preventDefault(),!["admin","coordinator"].includes(te)){alert(l("permission-denied"));return}try{const{data:B,error:T}=await Se.auth.signUp({email:w,password:x,options:{data:{full_name:d,phone_number:g,role:R}}});if(T)throw T;const{error:V}=await Se.from("users").insert({id:B.user.id,full_name:d,phone_number:g,role:R,email:w,active:D});if(V)throw V;alert(l("user-create-success")),ae(),ze()}catch(B){alert(`${l("user-create-fail")} ${B.message}`)}},We=async Z=>{if(Z.preventDefault(),!["admin","coordinator"].includes(te)){alert(l("permission-denied"));return}try{const B={full_name:d,phone_number:g,role:R,active:D};if(x){const{error:V}=await Se.auth.updateUser({password:x});if(V)throw V}const{error:T}=await Se.from("users").update(B).eq("id",a.id);if(T)throw T;alert(l("user-update-success")),ae(),ze()}catch(B){alert(`${l("user-update-fail")} ${B.message}`)}},Me=async Z=>{if(!["admin","coordinator"].includes(te)){alert(l("permission-denied"));return}try{const B={full_name:ue[Z]?.full_name||i.find(V=>V.id===Z).full_name,phone_number:ue[Z]?.phone_number||i.find(V=>V.id===Z).phone_number,role:ue[Z]?.role||i.find(V=>V.id===Z).role,active:ue[Z]?.active??i.find(V=>V.id===Z).active},{error:T}=await Se.from("users").update(B).eq("id",Z);if(T)throw T;alert(l("user-update-success")),ae(),oe(null),ve(V=>{const ce={...V};return delete ce[Z],ce})}catch(B){alert(`${l("user-update-fail")} ${B.message}`)}},Ue=async Z=>{if(!["admin","coordinator"].includes(te)){alert(l("permission-denied"));return}if(window.confirm(l("confirm-delete")))try{const{error:B}=await Se.from("users").delete().eq("id",Z);if(B)throw B;alert(l("user-delete-success")),ae()}catch(B){alert(`${l("user-delete-fail")} ${B.message}`)}},Ye=Z=>{u(Z),f(Z.full_name),_(Z.phone_number),S(Z.email),A(Z.role),$(Z.active),j("")},ze=()=>{u(null),f(""),_(""),S(""),j(""),A("searcher"),$(!0)},Ce=Z=>{oe(Z.id),ve({...ue,[Z.id]:{full_name:Z.full_name,phone_number:Z.phone_number,role:Z.role,active:Z.active}})},K=(Z,B,T)=>{ve({...ue,[Z]:{...ue[Z],[B]:T}})};return G?P.jsx("div",{children:l("loading")}):["admin","coordinator"].includes(te)?P.jsxs("section",{children:[P.jsx("h2",{children:l("users-manager-h2")}),P.jsxs("table",{children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:l("user-table-id")}),P.jsx("th",{children:l("user-table-email")}),P.jsx("th",{children:l("user-table-fullname")}),P.jsx("th",{children:l("user-table-phone")}),P.jsx("th",{children:l("user-table-role")}),P.jsx("th",{children:l("user-table-active")}),P.jsx("th",{children:l("actions-label")})]})}),P.jsx("tbody",{children:i.map(Z=>P.jsxs("tr",{children:[P.jsx("td",{children:Z.id}),P.jsx("td",{children:Z.email}),P.jsx("td",{children:se===Z.id?P.jsx("input",{value:ue[Z.id]?.full_name||Z.full_name,onChange:B=>K(Z.id,"full_name",B.target.value)}):Z.full_name}),P.jsx("td",{children:se===Z.id?P.jsx("input",{value:ue[Z.id]?.phone_number||Z.phone_number,onChange:B=>K(Z.id,"phone_number",B.target.value)}):Z.phone_number}),P.jsx("td",{children:se===Z.id?P.jsxs("select",{value:ue[Z.id]?.role||Z.role,onChange:B=>K(Z.id,"role",B.target.value),children:[P.jsx("option",{value:"searcher",children:l("role-searcher")}),P.jsx("option",{value:"coordinator",children:l("role-coordinator")}),P.jsx("option",{value:"admin",children:l("role-admin")})]}):Z.role}),P.jsx("td",{children:se===Z.id?P.jsxs("select",{value:ue[Z.id]?.active??Z.active,onChange:B=>K(Z.id,"active",B.target.value==="true"),children:[P.jsx("option",{value:!0,children:l("yes")}),P.jsx("option",{value:!1,children:l("no")})]}):Z.active?l("yes"):l("no")}),P.jsx("td",{children:se===Z.id?P.jsxs(P.Fragment,{children:[P.jsx("button",{onClick:()=>Me(Z.id),children:l("save-btn")}),P.jsx("button",{onClick:()=>oe(null),children:l("cancel-btn")})]}):P.jsxs(P.Fragment,{children:[P.jsx("button",{onClick:()=>Ce(Z),children:l("edit-btn")}),P.jsx("button",{onClick:()=>Ye(Z),children:l("update-user-btn")}),P.jsx("button",{className:"delete-btn",onClick:()=>Ue(Z.id),children:l("discard-btn")})]})})]},Z.id))})]}),P.jsx("h3",{children:l(a?"update-user-h3":"create-user-h3")}),P.jsxs("form",{onSubmit:a?We:xe,children:[P.jsx("label",{children:l("full-name-label")}),P.jsx("input",{value:d,onChange:Z=>f(Z.target.value),required:!0}),P.jsx("label",{children:l("phone-label")}),P.jsx("input",{value:g,onChange:Z=>_(Z.target.value),required:!0}),P.jsx("label",{children:l("email-label")}),P.jsx("input",{type:"email",value:w,onChange:Z=>S(Z.target.value),required:!a,disabled:!!a}),P.jsx("label",{children:l("password-label")}),P.jsx("input",{type:"password",value:x,onChange:Z=>j(Z.target.value),required:!a}),P.jsx("label",{children:l("role-label")}),P.jsxs("select",{value:R,onChange:Z=>A(Z.target.value),children:[P.jsx("option",{value:"searcher",children:l("role-searcher")}),P.jsx("option",{value:"coordinator",children:l("role-coordinator")}),P.jsx("option",{value:"admin",children:l("role-admin")})]}),P.jsx("label",{children:l("active-label")}),P.jsxs("select",{value:D,onChange:Z=>$(Z.target.value==="true"),children:[P.jsx("option",{value:!0,children:l("yes")}),P.jsx("option",{value:!1,children:l("no")})]}),P.jsx("button",{type:"submit",children:l(a?"update-user-btn":"create-user-btn")}),a&&P.jsx("button",{type:"button",onClick:ze,children:l("cancel-btn")})]})]}):P.jsx("p",{children:l("permission-denied")})};function Xp(l,i){const r=I.useRef(i);I.useEffect(function(){i!==r.current&&l.attributionControl!=null&&(r.current!=null&&l.attributionControl.removeAttribution(r.current),i!=null&&l.attributionControl.addAttribution(i)),r.current=i},[l,i])}const Ey=1;function Cy(l){return Object.freeze({__version:Ey,map:l})}function Wa(l,i){return Object.freeze({...l,...i})}const em=I.createContext(null),Nh=em.Provider;function Uo(){const l=I.useContext(em);if(l==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return l}function Rh(l){function i(r,a){const{instance:u,context:d}=l(r).current;return I.useImperativeHandle(a,()=>u),r.children==null?null:No.createElement(Nh,{value:d},r.children)}return I.forwardRef(i)}function Ly(l){function i(r,a){const[u,d]=I.useState(!1),{instance:f}=l(r,d).current;I.useImperativeHandle(a,()=>f),I.useEffect(function(){u&&f.update()},[f,u,r.children]);const g=f._contentNode;return g?ng.createPortal(r.children,g):null}return I.forwardRef(i)}function Ty(l){function i(r,a){const{instance:u}=l(r).current;return I.useImperativeHandle(a,()=>u),null}return I.forwardRef(i)}function zy(l){return function(r){const a=Uo(),u=l(r,a),{instance:d}=u.current,f=I.useRef(r.position),{position:g}=r;return I.useEffect(function(){return d.addTo(a.map),function(){d.remove()}},[a.map,d]),I.useEffect(function(){g!=null&&g!==f.current&&(d.setPosition(g),f.current=g)},[d,g]),u}}function Ih(l,i){const r=I.useRef();I.useEffect(function(){return i!=null&&l.instance.on(i),r.current=i,function(){r.current!=null&&l.instance.off(r.current),r.current=null}},[l,i])}function wu(l,i){const r=l.pane??i.pane;return r?{...l,pane:r}:l}function jy(l,i){return function(a,u){const d=Uo(),f=l(wu(a,d),d);return Xp(d.map,a.attribution),Ih(f.current,a.eventHandlers),i(f.current,d,a,u),f}}var za={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Oy=za.exports,sp;function Ny(){return sp||(sp=1,(function(l,i){(function(r,a){a(i)})(Oy,(function(r){var a="1.9.4";function u(t){var s,c,p,y;for(c=1,p=arguments.length;c<p;c++){y=arguments[c];for(s in y)t[s]=y[s]}return t}var d=Object.create||(function(){function t(){}return function(s){return t.prototype=s,new t}})();function f(t,s){var c=Array.prototype.slice;if(t.bind)return t.bind.apply(t,c.call(arguments,1));var p=c.call(arguments,2);return function(){return t.apply(s,p.length?p.concat(c.call(arguments)):arguments)}}var g=0;function _(t){return"_leaflet_id"in t||(t._leaflet_id=++g),t._leaflet_id}function w(t,s,c){var p,y,k,z;return z=function(){p=!1,y&&(k.apply(c,y),y=!1)},k=function(){p?y=arguments:(t.apply(c,arguments),setTimeout(z,s),p=!0)},k}function S(t,s,c){var p=s[1],y=s[0],k=p-y;return t===p&&c?t:((t-y)%k+k)%k+y}function x(){return!1}function j(t,s){if(s===!1)return t;var c=Math.pow(10,s===void 0?6:s);return Math.round(t*c)/c}function R(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function A(t){return R(t).split(/\s+/)}function D(t,s){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?d(t.options):{});for(var c in s)t.options[c]=s[c];return t.options}function $(t,s,c){var p=[];for(var y in t)p.push(encodeURIComponent(c?y.toUpperCase():y)+"="+encodeURIComponent(t[y]));return(!s||s.indexOf("?")===-1?"?":"&")+p.join("&")}var te=/\{ *([\w_ -]+) *\}/g;function ie(t,s){return t.replace(te,function(c,p){var y=s[p];if(y===void 0)throw new Error("No value provided for variable "+c);return typeof y=="function"&&(y=y(s)),y})}var G=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function Y(t,s){for(var c=0;c<t.length;c++)if(t[c]===s)return c;return-1}var se="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function oe(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var ue=0;function ve(t){var s=+new Date,c=Math.max(0,16-(s-ue));return ue=s+c,window.setTimeout(t,c)}var De=window.requestAnimationFrame||oe("RequestAnimationFrame")||ve,ae=window.cancelAnimationFrame||oe("CancelAnimationFrame")||oe("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function xe(t,s,c){if(c&&De===ve)t.call(s);else return De.call(window,f(t,s))}function We(t){t&&ae.call(window,t)}var Me={__proto__:null,extend:u,create:d,bind:f,get lastId(){return g},stamp:_,throttle:w,wrapNum:S,falseFn:x,formatNum:j,trim:R,splitWords:A,setOptions:D,getParamString:$,template:ie,isArray:G,indexOf:Y,emptyImageUrl:se,requestFn:De,cancelFn:ae,requestAnimFrame:xe,cancelAnimFrame:We};function Ue(){}Ue.extend=function(t){var s=function(){D(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=s.__super__=this.prototype,p=d(c);p.constructor=s,s.prototype=p;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(s[y]=this[y]);return t.statics&&u(s,t.statics),t.includes&&(Ye(t.includes),u.apply(null,[p].concat(t.includes))),u(p,t),delete p.statics,delete p.includes,p.options&&(p.options=c.options?d(c.options):{},u(p.options,t.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,z=p._initHooks.length;k<z;k++)p._initHooks[k].call(this)}},s},Ue.include=function(t){var s=this.prototype.options;return u(this.prototype,t),t.options&&(this.prototype.options=s,this.mergeOptions(t.options)),this},Ue.mergeOptions=function(t){return u(this.prototype.options,t),this},Ue.addInitHook=function(t){var s=Array.prototype.slice.call(arguments,1),c=typeof t=="function"?t:function(){this[t].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function Ye(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=G(t)?t:[t];for(var s=0;s<t.length;s++)t[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ze={on:function(t,s,c){if(typeof t=="object")for(var p in t)this._on(p,t[p],s);else{t=A(t);for(var y=0,k=t.length;y<k;y++)this._on(t[y],s,c)}return this},off:function(t,s,c){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var p in t)this._off(p,t[p],s);else{t=A(t);for(var y=arguments.length===1,k=0,z=t.length;k<z;k++)y?this._off(t[k]):this._off(t[k],s,c)}return this},_on:function(t,s,c,p){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(t,s,c)===!1){c===this&&(c=void 0);var y={fn:s,ctx:c};p&&(y.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(y)}},_off:function(t,s,c){var p,y,k;if(this._events&&(p=this._events[t],!!p)){if(arguments.length===1){if(this._firingCount)for(y=0,k=p.length;y<k;y++)p[y].fn=x;delete this._events[t];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var z=this._listens(t,s,c);if(z!==!1){var M=p[z];this._firingCount&&(M.fn=x,this._events[t]=p=p.slice()),p.splice(z,1)}}},fire:function(t,s,c){if(!this.listens(t,c))return this;var p=u({},s,{type:t,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var y=this._events[t];if(y){this._firingCount=this._firingCount+1||1;for(var k=0,z=y.length;k<z;k++){var M=y[k],H=M.fn;M.once&&this.off(t,H,M.ctx),H.call(M.ctx||this,p)}this._firingCount--}}return c&&this._propagateEvent(p),this},listens:function(t,s,c,p){typeof t!="string"&&console.warn('"string" type argument expected');var y=s;typeof s!="function"&&(p=!!s,y=void 0,c=void 0);var k=this._events&&this._events[t];if(k&&k.length&&this._listens(t,y,c)!==!1)return!0;if(p){for(var z in this._eventParents)if(this._eventParents[z].listens(t,s,c,p))return!0}return!1},_listens:function(t,s,c){if(!this._events)return!1;var p=this._events[t]||[];if(!s)return!!p.length;c===this&&(c=void 0);for(var y=0,k=p.length;y<k;y++)if(p[y].fn===s&&p[y].ctx===c)return y;return!1},once:function(t,s,c){if(typeof t=="object")for(var p in t)this._on(p,t[p],s,!0);else{t=A(t);for(var y=0,k=t.length;y<k;y++)this._on(t[y],s,c,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[_(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[_(t)],this},_propagateEvent:function(t){for(var s in this._eventParents)this._eventParents[s].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),!0)}};ze.addEventListener=ze.on,ze.removeEventListener=ze.clearAllEventListeners=ze.off,ze.addOneTimeEventListener=ze.once,ze.fireEvent=ze.fire,ze.hasEventListeners=ze.listens;var Ce=Ue.extend(ze);function K(t,s,c){this.x=c?Math.round(t):t,this.y=c?Math.round(s):s}var Z=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(t){return this.clone()._add(B(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(B(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new K(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new K(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(t){t=B(t);var s=t.x-this.x,c=t.y-this.y;return Math.sqrt(s*s+c*c)},equals:function(t){return t=B(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=B(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+j(this.x)+", "+j(this.y)+")"}};function B(t,s,c){return t instanceof K?t:G(t)?new K(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new K(t.x,t.y):new K(t,s,c)}function T(t,s){if(t)for(var c=s?[t,s]:t,p=0,y=c.length;p<y;p++)this.extend(c[p])}T.prototype={extend:function(t){var s,c;if(!t)return this;if(t instanceof K||typeof t[0]=="number"||"x"in t)s=c=B(t);else if(t=V(t),s=t.min,c=t.max,!s||!c)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=c.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(t){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var s,c;return typeof t[0]=="number"||t instanceof K?t=B(t):t=V(t),t instanceof T?(s=t.min,c=t.max):s=c=t,s.x>=this.min.x&&c.x<=this.max.x&&s.y>=this.min.y&&c.y<=this.max.y},intersects:function(t){t=V(t);var s=this.min,c=this.max,p=t.min,y=t.max,k=y.x>=s.x&&p.x<=c.x,z=y.y>=s.y&&p.y<=c.y;return k&&z},overlaps:function(t){t=V(t);var s=this.min,c=this.max,p=t.min,y=t.max,k=y.x>s.x&&p.x<c.x,z=y.y>s.y&&p.y<c.y;return k&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var s=this.min,c=this.max,p=Math.abs(s.x-c.x)*t,y=Math.abs(s.y-c.y)*t;return V(B(s.x-p,s.y-y),B(c.x+p,c.y+y))},equals:function(t){return t?(t=V(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function V(t,s){return!t||t instanceof T?t:new T(t,s)}function ce(t,s){if(t)for(var c=s?[t,s]:t,p=0,y=c.length;p<y;p++)this.extend(c[p])}ce.prototype={extend:function(t){var s=this._southWest,c=this._northEast,p,y;if(t instanceof pe)p=t,y=t;else if(t instanceof ce){if(p=t._southWest,y=t._northEast,!p||!y)return this}else return t?this.extend(he(t)||ge(t)):this;return!s&&!c?(this._southWest=new pe(p.lat,p.lng),this._northEast=new pe(y.lat,y.lng)):(s.lat=Math.min(p.lat,s.lat),s.lng=Math.min(p.lng,s.lng),c.lat=Math.max(y.lat,c.lat),c.lng=Math.max(y.lng,c.lng)),this},pad:function(t){var s=this._southWest,c=this._northEast,p=Math.abs(s.lat-c.lat)*t,y=Math.abs(s.lng-c.lng)*t;return new ce(new pe(s.lat-p,s.lng-y),new pe(c.lat+p,c.lng+y))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof pe||"lat"in t?t=he(t):t=ge(t);var s=this._southWest,c=this._northEast,p,y;return t instanceof ce?(p=t.getSouthWest(),y=t.getNorthEast()):p=y=t,p.lat>=s.lat&&y.lat<=c.lat&&p.lng>=s.lng&&y.lng<=c.lng},intersects:function(t){t=ge(t);var s=this._southWest,c=this._northEast,p=t.getSouthWest(),y=t.getNorthEast(),k=y.lat>=s.lat&&p.lat<=c.lat,z=y.lng>=s.lng&&p.lng<=c.lng;return k&&z},overlaps:function(t){t=ge(t);var s=this._southWest,c=this._northEast,p=t.getSouthWest(),y=t.getNorthEast(),k=y.lat>s.lat&&p.lat<c.lat,z=y.lng>s.lng&&p.lng<c.lng;return k&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,s){return t?(t=ge(t),this._southWest.equals(t.getSouthWest(),s)&&this._northEast.equals(t.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ge(t,s){return t instanceof ce?t:new ce(t,s)}function pe(t,s,c){if(isNaN(t)||isNaN(s))throw new Error("Invalid LatLng object: ("+t+", "+s+")");this.lat=+t,this.lng=+s,c!==void 0&&(this.alt=+c)}pe.prototype={equals:function(t,s){if(!t)return!1;t=he(t);var c=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return c<=(s===void 0?1e-9:s)},toString:function(t){return"LatLng("+j(this.lat,t)+", "+j(this.lng,t)+")"},distanceTo:function(t){return ye.distance(this,he(t))},wrap:function(){return ye.wrapLatLng(this)},toBounds:function(t){var s=180*t/40075017,c=s/Math.cos(Math.PI/180*this.lat);return ge([this.lat-s,this.lng-c],[this.lat+s,this.lng+c])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function he(t,s,c){return t instanceof pe?t:G(t)&&typeof t[0]!="object"?t.length===3?new pe(t[0],t[1],t[2]):t.length===2?new pe(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new pe(t.lat,"lng"in t?t.lng:t.lon,t.alt):s===void 0?null:new pe(t,s,c)}var Le={latLngToPoint:function(t,s){var c=this.projection.project(t),p=this.scale(s);return this.transformation._transform(c,p)},pointToLatLng:function(t,s){var c=this.scale(s),p=this.transformation.untransform(t,c);return this.projection.unproject(p)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var s=this.projection.bounds,c=this.scale(t),p=this.transformation.transform(s.min,c),y=this.transformation.transform(s.max,c);return new T(p,y)},infinite:!1,wrapLatLng:function(t){var s=this.wrapLng?S(t.lng,this.wrapLng,!0):t.lng,c=this.wrapLat?S(t.lat,this.wrapLat,!0):t.lat,p=t.alt;return new pe(c,s,p)},wrapLatLngBounds:function(t){var s=t.getCenter(),c=this.wrapLatLng(s),p=s.lat-c.lat,y=s.lng-c.lng;if(p===0&&y===0)return t;var k=t.getSouthWest(),z=t.getNorthEast(),M=new pe(k.lat-p,k.lng-y),H=new pe(z.lat-p,z.lng-y);return new ce(M,H)}},ye=u({},Le,{wrapLng:[-180,180],R:6371e3,distance:function(t,s){var c=Math.PI/180,p=t.lat*c,y=s.lat*c,k=Math.sin((s.lat-t.lat)*c/2),z=Math.sin((s.lng-t.lng)*c/2),M=k*k+Math.cos(p)*Math.cos(y)*z*z,H=2*Math.atan2(Math.sqrt(M),Math.sqrt(1-M));return this.R*H}}),Ke=6378137,st={R:Ke,MAX_LATITUDE:85.0511287798,project:function(t){var s=Math.PI/180,c=this.MAX_LATITUDE,p=Math.max(Math.min(c,t.lat),-c),y=Math.sin(p*s);return new K(this.R*t.lng*s,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(t){var s=180/Math.PI;return new pe((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*s,t.x*s/this.R)},bounds:(function(){var t=Ke*Math.PI;return new T([-t,-t],[t,t])})()};function mn(t,s,c,p){if(G(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=s,this._c=c,this._d=p}mn.prototype={transform:function(t,s){return this._transform(t.clone(),s)},_transform:function(t,s){return s=s||1,t.x=s*(this._a*t.x+this._b),t.y=s*(this._c*t.y+this._d),t},untransform:function(t,s){return s=s||1,new K((t.x/s-this._b)/this._a,(t.y/s-this._d)/this._c)}};function qn(t,s,c,p){return new mn(t,s,c,p)}var jn=u({},ye,{code:"EPSG:3857",projection:st,transformation:(function(){var t=.5/(Math.PI*st.R);return qn(t,.5,-t,.5)})()}),wi=u({},jn,{code:"EPSG:900913"});function gn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Fr(t,s){var c="",p,y,k,z,M,H;for(p=0,k=t.length;p<k;p++){for(M=t[p],y=0,z=M.length;y<z;y++)H=M[y],c+=(y?"L":"M")+H.x+" "+H.y;c+=s?J.svg?"z":"x":""}return c||"M0 0"}var bi=document.documentElement.style,xi="ActiveXObject"in window,ki=xi&&!document.addEventListener,Kn="msLaunchUri"in navigator&&!("documentMode"in document),vn=q("webkit"),nt=q("android"),Br=q("android 2")||q("android 3"),Gn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Jn=nt&&q("Google")&&Gn<537&&!("AudioNode"in window),_n=!!window.opera,Si=!Kn&&q("chrome"),Qn=q("gecko")&&!vn&&!_n&&!xi,zs=!Si&&q("safari"),Yn=q("phantom"),Xn="OTransition"in bi,Zr=navigator.platform.indexOf("Win")===0,Hr=xi&&"transition"in bi,ei="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Br,Wr="MozPerspective"in bi,Vr=!window.L_DISABLE_3D&&(Hr||ei||Wr)&&!Xn&&!Yn,On=typeof orientation<"u"||q("mobile"),qr=On&&vn,Kr=On&&ei,Gi=!window.PointerEvent&&window.MSPointerEvent,Nn=!!(window.PointerEvent||Gi),en="ontouchstart"in window||!!window.TouchEvent,ti=!window.L_NO_TOUCH&&(en||Nn),js=On&&_n,Ji=On&&Qn,Gr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jr=(function(){var t=!1;try{var s=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",x,s),window.removeEventListener("testPassiveEventSupport",x,s)}catch{}return t})(),Qr=(function(){return!!document.createElement("canvas").getContext})(),Qi=!!(document.createElementNS&&gn("svg").createSVGRect),Pi=!!Qi&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Yr=!Qi&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var s=t.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),Ei=navigator.platform.indexOf("Mac")===0,C=navigator.platform.indexOf("Linux")===0;function q(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var J={ie:xi,ielt9:ki,edge:Kn,webkit:vn,android:nt,android23:Br,androidStock:Jn,opera:_n,chrome:Si,gecko:Qn,safari:zs,phantom:Yn,opera12:Xn,win:Zr,ie3d:Hr,webkit3d:ei,gecko3d:Wr,any3d:Vr,mobile:On,mobileWebkit:qr,mobileWebkit3d:Kr,msPointer:Gi,pointer:Nn,touch:ti,touchNative:en,mobileOpera:js,mobileGecko:Ji,retina:Gr,passiveEvents:Jr,canvas:Qr,svg:Qi,vml:Yr,inlineSvg:Pi,mac:Ei,linux:C},be=J.msPointer?"MSPointerDown":"pointerdown",Ze=J.msPointer?"MSPointerMove":"pointermove",jt=J.msPointer?"MSPointerUp":"pointerup",ni=J.msPointer?"MSPointerCancel":"pointercancel",tn={touchstart:be,touchmove:Ze,touchend:jt,touchcancel:ni},mt={touchstart:at,touchmove:Ci,touchend:Ci,touchcancel:Ci},nn={},Yi=!1;function Os(t,s,c){return s==="touchstart"&&Wt(),mt[s]?(c=mt[s].bind(this,c),t.addEventListener(tn[s],c,!1),c):(console.warn("wrong event specified:",s),x)}function ii(t,s,c){if(!tn[s]){console.warn("wrong event specified:",s);return}t.removeEventListener(tn[s],c,!1)}function ri(t){nn[t.pointerId]=t}function si(t){nn[t.pointerId]&&(nn[t.pointerId]=t)}function oi(t){delete nn[t.pointerId]}function Wt(){Yi||(document.addEventListener(be,ri,!0),document.addEventListener(Ze,si,!0),document.addEventListener(jt,oi,!0),document.addEventListener(ni,oi,!0),Yi=!0)}function Ci(t,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var c in nn)s.touches.push(nn[c]);s.changedTouches=[s],t(s)}}function at(t,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&lt(s),Ci(t,s)}function xu(t){var s={},c,p;for(p in t)c=t[p],s[p]=c&&c.bind?c.bind(t):c;return t=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Fo=200;function Ka(t,s){t.addEventListener("dblclick",s);var c=0,p;function y(k){if(k.detail!==1){p=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var z=zi(k);if(!(z.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!z.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var M=Date.now();M-c<=Fo?(p++,p===2&&s(xu(k))):p=1,c=M}}}return t.addEventListener("click",y),{dblclick:s,simDblclick:y}}function Ns(t,s){t.removeEventListener("dblclick",s.dblclick),t.removeEventListener("click",s.simDblclick)}var Bo=nr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Xi=nr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Xr=Xi==="webkitTransition"||Xi==="OTransition"?Xi+"End":"transitionend";function rn(t){return typeof t=="string"?document.getElementById(t):t}function es(t,s){var c=t.style[s]||t.currentStyle&&t.currentStyle[s];if((!c||c==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(t,null);c=p?p[s]:null}return c==="auto"?null:c}function Re(t,s,c){var p=document.createElement(t);return p.className=s||"",c&&c.appendChild(p),p}function it(t){var s=t.parentNode;s&&s.removeChild(t)}function Rs(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function er(t){var s=t.parentNode;s&&s.lastChild!==t&&s.appendChild(t)}function Rn(t){var s=t.parentNode;s&&s.firstChild!==t&&s.insertBefore(t,s.firstChild)}function tr(t,s){if(t.classList!==void 0)return t.classList.contains(s);var c=Is(t);return c.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(c)}function Oe(t,s){if(t.classList!==void 0)for(var c=A(s),p=0,y=c.length;p<y;p++)t.classList.add(c[p]);else if(!tr(t,s)){var k=Is(t);Zo(t,(k?k+" ":"")+s)}}function Xe(t,s){t.classList!==void 0?t.classList.remove(s):Zo(t,R((" "+Is(t)+" ").replace(" "+s+" "," ")))}function Zo(t,s){t.className.baseVal===void 0?t.className=s:t.className.baseVal=s}function Is(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Ot(t,s){"opacity"in t.style?t.style.opacity=s:"filter"in t.style&&Ga(t,s)}function Ga(t,s){var c=!1,p="DXImageTransform.Microsoft.Alpha";try{c=t.filters.item(p)}catch{if(s===1)return}s=Math.round(s*100),c?(c.Enabled=s!==100,c.Opacity=s):t.style.filter+=" progid:"+p+"(opacity="+s+")"}function nr(t){for(var s=document.documentElement.style,c=0;c<t.length;c++)if(t[c]in s)return t[c];return!1}function sn(t,s,c){var p=s||new K(0,0);t.style[Bo]=(J.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(c?" scale("+c+")":"")}function ht(t,s){t._leaflet_pos=s,J.any3d?sn(t,s):(t.style.left=s.x+"px",t.style.top=s.y+"px")}function In(t){return t._leaflet_pos||new K(0,0)}var He,ir,As;if("onselectstart"in document)He=function(){Te(window,"selectstart",lt)},ir=function(){Je(window,"selectstart",lt)};else{var Li=nr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);He=function(){if(Li){var t=document.documentElement.style;As=t[Li],t[Li]="none"}},ir=function(){Li&&(document.documentElement.style[Li]=As,As=void 0)}}function Ms(){Te(window,"dragstart",lt)}function Ds(){Je(window,"dragstart",lt)}var ts,ns;function rr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(on(),ts=t,ns=t.style.outlineStyle,t.style.outlineStyle="none",Te(window,"keydown",on))}function on(){ts&&(ts.style.outlineStyle=ns,ts=void 0,ns=void 0,Je(window,"keydown",on))}function An(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function yn(t){var s=t.getBoundingClientRect();return{x:s.width/t.offsetWidth||1,y:s.height/t.offsetHeight||1,boundingClientRect:s}}var is={__proto__:null,TRANSFORM:Bo,TRANSITION:Xi,TRANSITION_END:Xr,get:rn,getStyle:es,create:Re,remove:it,empty:Rs,toFront:er,toBack:Rn,hasClass:tr,addClass:Oe,removeClass:Xe,setClass:Zo,getClass:Is,setOpacity:Ot,testProp:nr,setTransform:sn,setPosition:ht,getPosition:In,get disableTextSelection(){return He},get enableTextSelection(){return ir},disableImageDrag:Ms,enableImageDrag:Ds,preventOutline:rr,restoreOutline:on,getSizedParentNode:An,getScale:yn};function Te(t,s,c,p){if(s&&typeof s=="object")for(var y in s)Wo(t,y,s[y],c);else{s=A(s);for(var k=0,z=s.length;k<z;k++)Wo(t,s[k],c,p)}return this}var _t="_leaflet_events";function Je(t,s,c,p){if(arguments.length===1)Ho(t),delete t[_t];else if(s&&typeof s=="object")for(var y in s)Us(t,y,s[y],c);else if(s=A(s),arguments.length===2)Ho(t,function(M){return Y(s,M)!==-1});else for(var k=0,z=s.length;k<z;k++)Us(t,s[k],c,p);return this}function Ho(t,s){for(var c in t[_t]){var p=c.split(/\d/)[0];(!s||s(p))&&Us(t,p,null,null,c)}}var Ti={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Wo(t,s,c,p){var y=s+_(c)+(p?"_"+_(p):"");if(t[_t]&&t[_t][y])return this;var k=function(M){return c.call(p||t,M||window.event)},z=k;!J.touchNative&&J.pointer&&s.indexOf("touch")===0?k=Os(t,s,k):J.touch&&s==="dblclick"?k=Ka(t,k):"addEventListener"in t?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?t.addEventListener(Ti[s]||s,k,J.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(k=function(M){M=M||window.event,os(t,M)&&z(M)},t.addEventListener(Ti[s],k,!1)):t.addEventListener(s,z,!1):t.attachEvent("on"+s,k),t[_t]=t[_t]||{},t[_t][y]=k}function Us(t,s,c,p,y){y=y||s+_(c)+(p?"_"+_(p):"");var k=t[_t]&&t[_t][y];if(!k)return this;!J.touchNative&&J.pointer&&s.indexOf("touch")===0?ii(t,s,k):J.touch&&s==="dblclick"?Ns(t,k):"removeEventListener"in t?t.removeEventListener(Ti[s]||s,k,!1):t.detachEvent("on"+s,k),t[_t][y]=null}function wn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function $s(t){return Wo(t,"wheel",wn),this}function rs(t){return Te(t,"mousedown touchstart dblclick contextmenu",wn),t._leaflet_disable_click=!0,this}function lt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function an(t){return lt(t),wn(t),this}function zi(t){if(t.composedPath)return t.composedPath();for(var s=[],c=t.target;c;)s.push(c),c=c.parentNode;return s}function ss(t,s){if(!s)return new K(t.clientX,t.clientY);var c=yn(s),p=c.boundingClientRect;return new K((t.clientX-p.left)/c.x-s.clientLeft,(t.clientY-p.top)/c.y-s.clientTop)}var ku=J.linux&&J.chrome?window.devicePixelRatio:J.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ja(t){return J.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/ku:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function os(t,s){var c=s.relatedTarget;if(!c)return!0;try{for(;c&&c!==t;)c=c.parentNode}catch{return!1}return c!==t}var Fs={__proto__:null,on:Te,off:Je,stopPropagation:wn,disableScrollPropagation:$s,disableClickPropagation:rs,preventDefault:lt,stop:an,getPropagationPath:zi,getMousePosition:ss,getWheelDelta:Ja,isExternalTarget:os,addListener:Te,removeListener:Je},Bs=Ce.extend({run:function(t,s,c,p){this.stop(),this._el=t,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=In(t),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=xe(this._animate,this),this._step()},_step:function(t){var s=+new Date-this._startTime,c=this._duration*1e3;s<c?this._runFrame(this._easeOut(s/c),t):(this._runFrame(1),this._complete())},_runFrame:function(t,s){var c=this._startPos.add(this._offset.multiplyBy(t));s&&c._round(),ht(this._el,c),this.fire("step")},_complete:function(){We(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Fe=Ce.extend({options:{crs:jn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,s){s=D(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(he(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Xi&&J.any3d&&!J.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,Xr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,s,c){if(s=s===void 0?this._zoom:this._limitZoom(s),t=this._limitCenter(he(t),s,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=u({animate:c.animate},c.zoom),c.pan=u({animate:c.animate,duration:c.duration},c.pan));var p=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,s,c.zoom):this._tryAnimatedPan(t,c.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(t,s,c.pan&&c.pan.noMoveStart),this},setZoom:function(t,s){return this._loaded?this.setView(this.getCenter(),t,{zoom:s}):(this._zoom=t,this)},zoomIn:function(t,s){return t=t||(J.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,s)},zoomOut:function(t,s){return t=t||(J.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,s)},setZoomAround:function(t,s,c){var p=this.getZoomScale(s),y=this.getSize().divideBy(2),k=t instanceof K?t:this.latLngToContainerPoint(t),z=k.subtract(y).multiplyBy(1-1/p),M=this.containerPointToLatLng(y.add(z));return this.setView(M,s,{zoom:c})},_getBoundsCenterZoom:function(t,s){s=s||{},t=t.getBounds?t.getBounds():ge(t);var c=B(s.paddingTopLeft||s.padding||[0,0]),p=B(s.paddingBottomRight||s.padding||[0,0]),y=this.getBoundsZoom(t,!1,c.add(p));if(y=typeof s.maxZoom=="number"?Math.min(s.maxZoom,y):y,y===1/0)return{center:t.getCenter(),zoom:y};var k=p.subtract(c).divideBy(2),z=this.project(t.getSouthWest(),y),M=this.project(t.getNorthEast(),y),H=this.unproject(z.add(M).divideBy(2).add(k),y);return{center:H,zoom:y}},fitBounds:function(t,s){if(t=ge(t),!t.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(t,s);return this.setView(c.center,c.zoom,s)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,s){return this.setView(t,this._zoom,{pan:s})},panBy:function(t,s){if(t=B(t).round(),s=s||{},!t.x&&!t.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Bs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Oe(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,c,s.duration||.25,s.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,s,c){if(c=c||{},c.animate===!1||!J.any3d)return this.setView(t,s,c);this._stop();var p=this.project(this.getCenter()),y=this.project(t),k=this.getSize(),z=this._zoom;t=he(t),s=s===void 0?z:s;var M=Math.max(k.x,k.y),H=M*this.getZoomScale(z,s),Q=y.distanceTo(p)||1,le=1.42,ke=le*le;function Ie(Ge){var yr=Ge?-1:1,Mu=Ge?H:M,Du=H*H-M*M+yr*ke*ke*Q*Q,Mi=2*Mu*ke*Q,Di=Du/Mi,Ui=Math.sqrt(Di*Di+1)-Di,no=Ui<1e-9?-18:Math.log(Ui);return no}function yt(Ge){return(Math.exp(Ge)-Math.exp(-Ge))/2}function gt(Ge){return(Math.exp(Ge)+Math.exp(-Ge))/2}function Ft(Ge){return yt(Ge)/gt(Ge)}var Rt=Ie(0);function vr(Ge){return M*(gt(Rt)/gt(Rt+le*Ge))}function da(Ge){return M*(gt(Rt)*Ft(Rt+le*Ge)-yt(Rt))/ke}function pi(Ge){return 1-Math.pow(1-Ge,1.5)}var vl=Date.now(),Ai=(Ie(1)-Rt)/le,Sn=c.duration?1e3*c.duration:1e3*Ai*.8;function _r(){var Ge=(Date.now()-vl)/Sn,yr=pi(Ge)*Ai;Ge<=1?(this._flyToFrame=xe(_r,this),this._move(this.unproject(p.add(y.subtract(p).multiplyBy(da(yr)/Q)),z),this.getScaleZoom(M/vr(yr),z),{flyTo:!0})):this._move(t,s)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),_r.call(this),this},flyToBounds:function(t,s){var c=this._getBoundsCenterZoom(t,s);return this.flyTo(c.center,c.zoom,s)},setMaxBounds:function(t){return t=ge(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var s=this.options.minZoom;return this.options.minZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var s=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,s){this._enforcingBounds=!0;var c=this.getCenter(),p=this._limitCenter(c,this._zoom,ge(t));return c.equals(p)||this.panTo(p,s),this._enforcingBounds=!1,this},panInside:function(t,s){s=s||{};var c=B(s.paddingTopLeft||s.padding||[0,0]),p=B(s.paddingBottomRight||s.padding||[0,0]),y=this.project(this.getCenter()),k=this.project(t),z=this.getPixelBounds(),M=V([z.min.add(c),z.max.subtract(p)]),H=M.getSize();if(!M.contains(k)){this._enforcingBounds=!0;var Q=k.subtract(M.getCenter()),le=M.extend(k).getSize().subtract(H);y.x+=Q.x<0?-le.x:le.x,y.y+=Q.y<0?-le.y:le.y,this.panTo(this.unproject(y),s),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=u({animate:!1,pan:!0},t===!0?{animate:!0}:t);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),p=s.divideBy(2).round(),y=c.divideBy(2).round(),k=p.subtract(y);return!k.x&&!k.y?this:(t.animate&&t.pan?this.panBy(k):(t.pan&&this._rawPanBy(k),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=u({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=f(this._handleGeolocationResponse,this),c=f(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,c,t):navigator.geolocation.getCurrentPosition(s,c,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var s=t.code,c=t.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var s=t.coords.latitude,c=t.coords.longitude,p=new pe(s,c),y=p.toBounds(t.coords.accuracy*2),k=this._locateOptions;if(k.setView){var z=this.getBoundsZoom(y);this.setView(p,k.maxZoom?Math.min(z,k.maxZoom):z)}var M={latlng:p,bounds:y,timestamp:t.timestamp};for(var H in t.coords)typeof t.coords[H]=="number"&&(M[H]=t.coords[H]);this.fire("locationfound",M)}},addHandler:function(t,s){if(!s)return this;var c=this[t]=new s(this);return this._handlers.push(c),this.options[t]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),it(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(We(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)it(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,s){var c="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),p=Re("div",c,s||this._mapPane);return t&&(this._panes[t]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),s=this.unproject(t.getBottomLeft()),c=this.unproject(t.getTopRight());return new ce(s,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,s,c){t=ge(t),c=B(c||[0,0]);var p=this.getZoom()||0,y=this.getMinZoom(),k=this.getMaxZoom(),z=t.getNorthWest(),M=t.getSouthEast(),H=this.getSize().subtract(c),Q=V(this.project(M,p),this.project(z,p)).getSize(),le=J.any3d?this.options.zoomSnap:1,ke=H.x/Q.x,Ie=H.y/Q.y,yt=s?Math.max(ke,Ie):Math.min(ke,Ie);return p=this.getScaleZoom(yt,p),le&&(p=Math.round(p/(le/100))*(le/100),p=s?Math.ceil(p/le)*le:Math.floor(p/le)*le),Math.max(y,Math.min(k,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,s){var c=this._getTopLeftPoint(t,s);return new T(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,s){var c=this.options.crs;return s=s===void 0?this._zoom:s,c.scale(t)/c.scale(s)},getScaleZoom:function(t,s){var c=this.options.crs;s=s===void 0?this._zoom:s;var p=c.zoom(t*c.scale(s));return isNaN(p)?1/0:p},project:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(he(t),s)},unproject:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(B(t),s)},layerPointToLatLng:function(t){var s=B(t).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(t){var s=this.project(he(t))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(he(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ge(t))},distance:function(t,s){return this.options.crs.distance(he(t),he(s))},containerPointToLayerPoint:function(t){return B(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return B(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var s=this.containerPointToLayerPoint(B(t));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(t)))},mouseEventToContainerPoint:function(t){return ss(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var s=this._container=rn(t);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Te(s,"scroll",this._onScroll,this),this._containerId=_(s)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&J.any3d,Oe(t,"leaflet-container"+(J.touch?" leaflet-touch":"")+(J.retina?" leaflet-retina":"")+(J.ielt9?" leaflet-oldie":"")+(J.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=es(t,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ht(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Oe(t.markerPane,"leaflet-zoom-hide"),Oe(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,s,c){ht(this._mapPane,new K(0,0));var p=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var y=this._zoom!==s;this._moveStart(y,c)._move(t,s)._moveEnd(y),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(t,s){return t&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(t,s,c,p){s===void 0&&(s=this._zoom);var y=this._zoom!==s;return this._zoom=s,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),p?c&&c.pinch&&this.fire("zoom",c):((y||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return We(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ht(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[_(this._container)]=this;var s=t?Je:Te;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),J.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){We(this._resizeRequest),this._resizeRequest=xe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,s){for(var c=[],p,y=s==="mouseout"||s==="mouseover",k=t.target||t.srcElement,z=!1;k;){if(p=this._targets[_(k)],p&&(s==="click"||s==="preclick")&&this._draggableMoved(p)){z=!0;break}if(p&&p.listens(s,!0)&&(y&&!os(k,t)||(c.push(p),y))||k===this._container)break;k=k.parentNode}return!c.length&&!z&&!y&&this.listens(s,!0)&&(c=[this]),c},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var s=t.target||t.srcElement;if(!(!this._loaded||s._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(s))){var c=t.type;c==="mousedown"&&rr(s),this._fireDOMEvent(t,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,s,c){if(t.type==="click"){var p=u({},t);p.type="preclick",this._fireDOMEvent(p,p.type,c)}var y=this._findEventTargets(t,s);if(c){for(var k=[],z=0;z<c.length;z++)c[z].listens(s,!0)&&k.push(c[z]);y=k.concat(y)}if(y.length){s==="contextmenu"&&lt(t);var M=y[0],H={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var Q=M.getLatLng&&(!M._radius||M._radius<=10);H.containerPoint=Q?this.latLngToContainerPoint(M.getLatLng()):this.mouseEventToContainerPoint(t),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=Q?M.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(z=0;z<y.length;z++)if(y[z].fire(s,H,!0),H.originalEvent._stopped||y[z].options.bubblingMouseEvents===!1&&Y(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,s=this._handlers.length;t<s;t++)this._handlers[t].disable()},whenReady:function(t,s){return this._loaded?t.call(s||this,{target:this}):this.on("load",t,s),this},_getMapPanePos:function(){return In(this._mapPane)||new K(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,s){var c=t&&s!==void 0?this._getNewPixelOrigin(t,s):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,s){var c=this.getSize()._divideBy(2);return this.project(t,s)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,s,c){var p=this._getNewPixelOrigin(c,s);return this.project(t,s)._subtract(p)},_latLngBoundsToNewLayerBounds:function(t,s,c){var p=this._getNewPixelOrigin(c,s);return V([this.project(t.getSouthWest(),s)._subtract(p),this.project(t.getNorthWest(),s)._subtract(p),this.project(t.getSouthEast(),s)._subtract(p),this.project(t.getNorthEast(),s)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,s,c){if(!c)return t;var p=this.project(t,s),y=this.getSize().divideBy(2),k=new T(p.subtract(y),p.add(y)),z=this._getBoundsOffset(k,c,s);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?t:this.unproject(p.add(z),s)},_limitOffset:function(t,s){if(!s)return t;var c=this.getPixelBounds(),p=new T(c.min.add(t),c.max.add(t));return t.add(this._getBoundsOffset(p,s))},_getBoundsOffset:function(t,s,c){var p=V(this.project(s.getNorthEast(),c),this.project(s.getSouthWest(),c)),y=p.min.subtract(t.min),k=p.max.subtract(t.max),z=this._rebound(y.x,-k.x),M=this._rebound(y.y,-k.y);return new K(z,M)},_rebound:function(t,s){return t+s>0?Math.round(t-s)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(s))},_limitZoom:function(t){var s=this.getMinZoom(),c=this.getMaxZoom(),p=J.any3d?this.options.zoomSnap:1;return p&&(t=Math.round(t/p)*p),Math.max(s,Math.min(c,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Xe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,s){var c=this._getCenterOffset(t)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,s),!0)},_createAnimProxy:function(){var t=this._proxy=Re("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(s){var c=Bo,p=this._proxy.style[c];sn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),p===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){it(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),s=this.getZoom();sn(this._proxy,this.project(t,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,s,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(s),y=this._getCenterOffset(t)._divideBy(1-1/p);return c.animate!==!0&&!this.getSize().contains(y)?!1:(xe(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(t,s,!0)},this),!0)},_animateZoom:function(t,s,c,p){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=s,Oe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:s,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Xe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ai(t,s){return new Fe(t,s)}var Ut=Ue.extend({options:{position:"topright"},initialize:function(t){D(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var s=this._map;return s&&s.removeControl(this),this.options.position=t,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var s=this._container=this.onAdd(t),c=this.getPosition(),p=t._controlCorners[c];return Oe(s,"leaflet-control"),c.indexOf("bottom")!==-1?p.insertBefore(s,p.firstChild):p.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(it(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),li=function(t){return new Ut(t)};Fe.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},s="leaflet-",c=this._controlContainer=Re("div",s+"control-container",this._container);function p(y,k){var z=s+y+" "+s+k;t[y+k]=Re("div",z,c)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)it(this._controlCorners[t]);it(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vo=Ut.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,s,c,p){return c<p?-1:p<c?1:0}},initialize:function(t,s,c){D(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in t)this._addLayer(t[p],p);for(p in s)this._addLayer(s[p],p,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ut.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,s){return this._addLayer(t,s),this._map?this._update():this},addOverlay:function(t,s){return this._addLayer(t,s,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var s=this._getLayer(_(t));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Oe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Oe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):Xe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Xe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",s=this._container=Re("div",t),c=this.options.collapsed;s.setAttribute("aria-haspopup",!0),rs(s),$s(s);var p=this._section=Re("section",t+"-list");c&&(this._map.on("click",this.collapse,this),Te(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Re("a",t+"-toggle",s);y.href="#",y.title="Layers",y.setAttribute("role","button"),Te(y,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){lt(k),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Re("div",t+"-base",p),this._separator=Re("div",t+"-separator",p),this._overlaysList=Re("div",t+"-overlays",p),s.appendChild(p)},_getLayer:function(t){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&_(this._layers[s].layer)===t)return this._layers[s]},_addLayer:function(t,s,c){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:s,overlay:c}),this.options.sortLayers&&this._layers.sort(f(function(p,y){return this.options.sortFunction(p.layer,y.layer,p.name,y.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Rs(this._baseLayersList),Rs(this._overlaysList),this._layerControlInputs=[];var t,s,c,p,y=0;for(c=0;c<this._layers.length;c++)p=this._layers[c],this._addItem(p),s=s||p.overlay,t=t||!p.overlay,y+=p.overlay?0:1;return this.options.hideSingleBase&&(t=t&&y>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=s&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var s=this._getLayer(_(t.target)),c=s.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;c&&this._map.fire(c,s)},_createRadioElement:function(t,s){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(s?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=c,p.firstChild},_addItem:function(t){var s=document.createElement("label"),c=this._map.hasLayer(t.layer),p;t.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=c):p=this._createRadioElement("leaflet-base-layers_"+_(this),c),this._layerControlInputs.push(p),p.layerId=_(t.layer),Te(p,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+t.name;var k=document.createElement("span");s.appendChild(k),k.appendChild(p),k.appendChild(y);var z=t.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,s,c,p=[],y=[];this._handlingClick=!0;for(var k=t.length-1;k>=0;k--)s=t[k],c=this._getLayer(s.layerId).layer,s.checked?p.push(c):s.checked||y.push(c);for(k=0;k<y.length;k++)this._map.hasLayer(y[k])&&this._map.removeLayer(y[k]);for(k=0;k<p.length;k++)this._map.hasLayer(p[k])||this._map.addLayer(p[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,s,c,p=this._map.getZoom(),y=t.length-1;y>=0;y--)s=t[y],c=this._getLayer(s.layerId).layer,s.disabled=c.options.minZoom!==void 0&&p<c.options.minZoom||c.options.maxZoom!==void 0&&p>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Te(t,"click",lt),this.expand();var s=this;setTimeout(function(){Je(t,"click",lt),s._preventClick=!1})}}),Zs=function(t,s,c){return new Vo(t,s,c)},sr=Ut.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var s="leaflet-control-zoom",c=Re("div",s+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,s+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,s+"-out",c,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,s,c,p,y){var k=Re("a",c,p);return k.innerHTML=t,k.href="#",k.title=s,k.setAttribute("role","button"),k.setAttribute("aria-label",s),rs(k),Te(k,"click",an),Te(k,"click",y,this),Te(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var t=this._map,s="leaflet-disabled";Xe(this._zoomInButton,s),Xe(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Oe(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Oe(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Fe.mergeOptions({zoomControl:!0}),Fe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new sr,this.addControl(this.zoomControl))});var Qa=function(t){return new sr(t)},Nt=Ut.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var s="leaflet-control-scale",c=Re("div",s),p=this.options;return this._addScales(p,s+"-line",c),t.on(p.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),c},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,s,c){t.metric&&(this._mScale=Re("div",s,c)),t.imperial&&(this._iScale=Re("div",s,c))},_update:function(){var t=this._map,s=t.getSize().y/2,c=t.distance(t.containerPointToLatLng([0,s]),t.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(c)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var s=this._getRoundNum(t),c=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,c,s/t)},_updateImperial:function(t){var s=t*3.2808399,c,p,y;s>5280?(c=s/5280,p=this._getRoundNum(c),this._updateScale(this._iScale,p+" mi",p/c)):(y=this._getRoundNum(s),this._updateScale(this._iScale,y+" ft",y/s))},_updateScale:function(t,s,c){t.style.width=Math.round(this.options.maxWidth*c)+"px",t.innerHTML=s},_getRoundNum:function(t){var s=Math.pow(10,(Math.floor(t)+"").length-1),c=t/s;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,s*c}}),or=function(t){return new Nt(t)},qo='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ji=Ut.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(J.inlineSvg?qo+" ":"")+"Leaflet</a>"},initialize:function(t){D(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Re("div","leaflet-control-attribution"),rs(this._container);for(var s in t._layers)t._layers[s].getAttribution&&this.addAttribution(t._layers[s].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var s in this._attributions)this._attributions[s]&&t.push(s);var c=[];this.options.prefix&&c.push(this.options.prefix),t.length&&c.push(t.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Fe.mergeOptions({attributionControl:!0}),Fe.addInitHook(function(){this.options.attributionControl&&new ji().addTo(this)});var Su=function(t){return new ji(t)};Ut.Layers=Vo,Ut.Zoom=sr,Ut.Scale=Nt,Ut.Attribution=ji,li.layers=Zs,li.zoom=Qa,li.scale=or,li.attribution=Su;var Vt=Ue.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Vt.addTo=function(t,s){return t.addHandler(s,this),this};var Ko={Events:ze},ar=J.touch?"touchstart mousedown":"mousedown",ln=Ce.extend({options:{clickTolerance:3},initialize:function(t,s,c,p){D(this,p),this._element=t,this._dragStartTarget=s||t,this._preventOutline=c},enable:function(){this._enabled||(Te(this._dragStartTarget,ar,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ln._dragging===this&&this.finishDrag(!0),Je(this._dragStartTarget,ar,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!tr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){ln._dragging===this&&this.finishDrag();return}if(!(ln._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(ln._dragging=this,this._preventOutline&&rr(this._element),Ms(),He(),!this._moving)){this.fire("down");var s=t.touches?t.touches[0]:t,c=An(this._element);this._startPoint=new K(s.clientX,s.clientY),this._startPos=In(this._element),this._parentScale=yn(c);var p=t.type==="mousedown";Te(document,p?"mousemove":"touchmove",this._onMove,this),Te(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var s=t.touches&&t.touches.length===1?t.touches[0]:t,c=new K(s.clientX,s.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,lt(t),this._moved||(this.fire("dragstart"),this._moved=!0,Oe(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Oe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ht(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){Xe(document.body,"leaflet-dragging"),this._lastTarget&&(Xe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Je(document,"mousemove touchmove",this._onMove,this),Je(document,"mouseup touchend touchcancel",this._onUp,this),Ds(),ir();var s=this._moved&&this._moving;this._moving=!1,ln._dragging=!1,s&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Go(t,s,c){var p,y=[1,4,2,8],k,z,M,H,Q,le,ke,Ie;for(k=0,le=t.length;k<le;k++)t[k]._code=Oi(t[k],s);for(M=0;M<4;M++){for(ke=y[M],p=[],k=0,le=t.length,z=le-1;k<le;z=k++)H=t[k],Q=t[z],H._code&ke?Q._code&ke||(Ie=Ws(Q,H,ke,s,c),Ie._code=Oi(Ie,s),p.push(Ie)):(Q._code&ke&&(Ie=Ws(Q,H,ke,s,c),Ie._code=Oi(Ie,s),p.push(Ie)),p.push(H));t=p}return t}function Ya(t,s){var c,p,y,k,z,M,H,Q,le;if(!t||t.length===0)throw new Error("latlngs not passed");qt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var ke=he([0,0]),Ie=ge(t),yt=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());yt<1700&&(ke=Jo(t));var gt=t.length,Ft=[];for(c=0;c<gt;c++){var Rt=he(t[c]);Ft.push(s.project(he([Rt.lat-ke.lat,Rt.lng-ke.lng])))}for(M=H=Q=0,c=0,p=gt-1;c<gt;p=c++)y=Ft[c],k=Ft[p],z=y.y*k.x-k.y*y.x,H+=(y.x+k.x)*z,Q+=(y.y+k.y)*z,M+=z*3;M===0?le=Ft[0]:le=[H/M,Q/M];var vr=s.unproject(B(le));return he([vr.lat+ke.lat,vr.lng+ke.lng])}function Jo(t){for(var s=0,c=0,p=0,y=0;y<t.length;y++){var k=he(t[y]);s+=k.lat,c+=k.lng,p++}return he([s/p,c/p])}var Pu={__proto__:null,clipPolygon:Go,polygonCenter:Ya,centroid:Jo};function Hs(t,s){if(!s||!t.length)return t.slice();var c=s*s;return t=Lu(t,c),t=Cu(t,c),t}function Xa(t,s,c){return Math.sqrt(Ni(t,s,c,!0))}function Eu(t,s,c){return Ni(t,s,c)}function Cu(t,s){var c=t.length,p=typeof Uint8Array<"u"?Uint8Array:Array,y=new p(c);y[0]=y[c-1]=1,Qo(t,y,s,0,c-1);var k,z=[];for(k=0;k<c;k++)y[k]&&z.push(t[k]);return z}function Qo(t,s,c,p,y){var k=0,z,M,H;for(M=p+1;M<=y-1;M++)H=Ni(t[M],t[p],t[y],!0),H>k&&(z=M,k=H);k>c&&(s[z]=1,Qo(t,s,c,p,z),Qo(t,s,c,z,y))}function Lu(t,s){for(var c=[t[0]],p=1,y=0,k=t.length;p<k;p++)Tu(t[p],t[y])>s&&(c.push(t[p]),y=p);return y<k-1&&c.push(t[k-1]),c}var Yo;function el(t,s,c,p,y){var k=p?Yo:Oi(t,c),z=Oi(s,c),M,H,Q;for(Yo=z;;){if(!(k|z))return[t,s];if(k&z)return!1;M=k||z,H=Ws(t,s,M,c,y),Q=Oi(H,c),M===k?(t=H,k=Q):(s=H,z=Q)}}function Ws(t,s,c,p,y){var k=s.x-t.x,z=s.y-t.y,M=p.min,H=p.max,Q,le;return c&8?(Q=t.x+k*(H.y-t.y)/z,le=H.y):c&4?(Q=t.x+k*(M.y-t.y)/z,le=M.y):c&2?(Q=H.x,le=t.y+z*(H.x-t.x)/k):c&1&&(Q=M.x,le=t.y+z*(M.x-t.x)/k),new K(Q,le,y)}function Oi(t,s){var c=0;return t.x<s.min.x?c|=1:t.x>s.max.x&&(c|=2),t.y<s.min.y?c|=4:t.y>s.max.y&&(c|=8),c}function Tu(t,s){var c=s.x-t.x,p=s.y-t.y;return c*c+p*p}function Ni(t,s,c,p){var y=s.x,k=s.y,z=c.x-y,M=c.y-k,H=z*z+M*M,Q;return H>0&&(Q=((t.x-y)*z+(t.y-k)*M)/H,Q>1?(y=c.x,k=c.y):Q>0&&(y+=z*Q,k+=M*Q)),z=t.x-y,M=t.y-k,p?z*z+M*M:new K(y,k)}function qt(t){return!G(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function tl(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),qt(t)}function nl(t,s){var c,p,y,k,z,M,H,Q;if(!t||t.length===0)throw new Error("latlngs not passed");qt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var le=he([0,0]),ke=ge(t),Ie=ke.getNorthWest().distanceTo(ke.getSouthWest())*ke.getNorthEast().distanceTo(ke.getNorthWest());Ie<1700&&(le=Jo(t));var yt=t.length,gt=[];for(c=0;c<yt;c++){var Ft=he(t[c]);gt.push(s.project(he([Ft.lat-le.lat,Ft.lng-le.lng])))}for(c=0,p=0;c<yt-1;c++)p+=gt[c].distanceTo(gt[c+1])/2;if(p===0)Q=gt[0];else for(c=0,k=0;c<yt-1;c++)if(z=gt[c],M=gt[c+1],y=z.distanceTo(M),k+=y,k>p){H=(k-p)/y,Q=[M.x-H*(M.x-z.x),M.y-H*(M.y-z.y)];break}var Rt=s.unproject(B(Q));return he([Rt.lat+le.lat,Rt.lng+le.lng])}var il={__proto__:null,simplify:Hs,pointToSegmentDistance:Xa,closestPointOnSegment:Eu,clipSegment:el,_getEdgeIntersection:Ws,_getBitCode:Oi,_sqClosestPointOnSegment:Ni,isFlat:qt,_flat:tl,polylineCenter:nl},Xo={project:function(t){return new K(t.lng,t.lat)},unproject:function(t){return new pe(t.y,t.x)},bounds:new T([-180,-90],[180,90])},ea={R:6378137,R_MINOR:6356752314245179e-9,bounds:new T([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var s=Math.PI/180,c=this.R,p=t.lat*s,y=this.R_MINOR/c,k=Math.sqrt(1-y*y),z=k*Math.sin(p),M=Math.tan(Math.PI/4-p/2)/Math.pow((1-z)/(1+z),k/2);return p=-c*Math.log(Math.max(M,1e-10)),new K(t.lng*s*c,p)},unproject:function(t){for(var s=180/Math.PI,c=this.R,p=this.R_MINOR/c,y=Math.sqrt(1-p*p),k=Math.exp(-t.y/c),z=Math.PI/2-2*Math.atan(k),M=0,H=.1,Q;M<15&&Math.abs(H)>1e-7;M++)Q=y*Math.sin(z),Q=Math.pow((1-Q)/(1+Q),y/2),H=Math.PI/2-2*Math.atan(k*Q)-z,z+=H;return new pe(z*s,t.x*s/c)}},zu={__proto__:null,LonLat:Xo,Mercator:ea,SphericalMercator:st},ju=u({},ye,{code:"EPSG:3395",projection:ea,transformation:(function(){var t=.5/(Math.PI*ea.R);return qn(t,.5,-t,.5)})()}),rl=u({},ye,{code:"EPSG:4326",projection:Xo,transformation:qn(1/180,1,-1/180,.5)}),Ou=u({},Le,{projection:Xo,transformation:qn(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,s){var c=s.lng-t.lng,p=s.lat-t.lat;return Math.sqrt(c*c+p*p)},infinite:!0});Le.Earth=ye,Le.EPSG3395=ju,Le.EPSG3857=jn,Le.EPSG900913=wi,Le.EPSG4326=rl,Le.Simple=Ou;var un=Ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[_(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[_(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var s=t.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var c=this.getEvents();s.on(c,this),this.once("remove",function(){s.off(c,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Fe.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var s=_(t);return this._layers[s]?this:(this._layers[s]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var s=_(t);return this._layers[s]?(this._loaded&&t.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return _(t)in this._layers},eachLayer:function(t,s){for(var c in this._layers)t.call(s,this._layers[c]);return this},_addLayers:function(t){t=t?G(t)?t:[t]:[];for(var s=0,c=t.length;s<c;s++)this.addLayer(t[s])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[_(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var s=_(t);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,s=-1/0,c=this._getZoomSpan();for(var p in this._zoomBoundLayers){var y=this._zoomBoundLayers[p].options;t=y.minZoom===void 0?t:Math.min(t,y.minZoom),s=y.maxZoom===void 0?s:Math.max(s,y.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=t===1/0?void 0:t,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ui=un.extend({initialize:function(t,s){D(this,s),this._layers={};var c,p;if(t)for(c=0,p=t.length;c<p;c++)this.addLayer(t[c])},addLayer:function(t){var s=this.getLayerId(t);return this._layers[s]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var s=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(t){var s=typeof t=="number"?t:this.getLayerId(t);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var s=Array.prototype.slice.call(arguments,1),c,p;for(c in this._layers)p=this._layers[c],p[t]&&p[t].apply(p,s);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,s){for(var c in this._layers)t.call(s,this._layers[c]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return _(t)}}),as=function(t,s){return new ui(t,s)},Mn=ui.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ui.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ui.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ce;for(var s in this._layers){var c=this._layers[s];t.extend(c.getBounds?c.getBounds():c.getLatLng())}return t}}),sl=function(t,s){return new Mn(t,s)},Ri=Ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){D(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,s){var c=this._getIconUrl(t);if(!c){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(c,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(p,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(t,s){var c=this.options,p=c[s+"Size"];typeof p=="number"&&(p=[p,p]);var y=B(p),k=B(s==="shadow"&&c.shadowAnchor||c.iconAnchor||y&&y.divideBy(2,!0));t.className="leaflet-marker-"+s+" "+(c.className||""),k&&(t.style.marginLeft=-k.x+"px",t.style.marginTop=-k.y+"px"),y&&(t.style.width=y.x+"px",t.style.height=y.y+"px")},_createImg:function(t,s){return s=s||document.createElement("img"),s.src=t,s},_getIconUrl:function(t){return J.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function ol(t){return new Ri(t)}var lr=Ri.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof lr.imagePath!="string"&&(lr.imagePath=this._detectIconPath()),(this.options.imagePath||lr.imagePath)+Ri.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var s=function(c,p,y){var k=p.exec(c);return k&&k[y]};return t=s(t,/^url\((['"])?(.+)\1\)$/,2),t&&s(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Re("div","leaflet-default-icon-path",document.body),s=es(t,"background-image")||es(t,"backgroundImage");if(document.body.removeChild(t),s=this._stripUrl(s),s)return s;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),ta=Vt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ln(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Oe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Xe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var s=this._marker,c=s._map,p=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,k=In(s._icon),z=c.getPixelBounds(),M=c.getPixelOrigin(),H=V(z.min._subtract(M).add(y),z.max._subtract(M).subtract(y));if(!H.contains(k)){var Q=B((Math.max(H.max.x,k.x)-H.max.x)/(z.max.x-H.max.x)-(Math.min(H.min.x,k.x)-H.min.x)/(z.min.x-H.min.x),(Math.max(H.max.y,k.y)-H.max.y)/(z.max.y-H.max.y)-(Math.min(H.min.y,k.y)-H.min.y)/(z.min.y-H.min.y)).multiplyBy(p);c.panBy(Q,{animate:!1}),this._draggable._newPos._add(Q),this._draggable._startPos._add(Q),ht(s._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=xe(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(We(this._panRequest),this._panRequest=xe(this._adjustPan.bind(this,t)))},_onDrag:function(t){var s=this._marker,c=s._shadow,p=In(s._icon),y=s._map.layerPointToLatLng(p);c&&ht(c,p),s._latlng=y,t.latlng=y,t.oldLatLng=this._oldLatLng,s.fire("move",t).fire("drag",t)},_onDragEnd:function(t){We(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Dn=un.extend({options:{icon:new lr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,s){D(this,s),this._latlng=he(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var s=this._latlng;return this._latlng=he(t),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=t.icon.createIcon(this._icon),p=!1;c!==this._icon&&(this._icon&&this._removeIcon(),p=!0,t.title&&(c.title=t.title),c.tagName==="IMG"&&(c.alt=t.alt||"")),Oe(c,s),t.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(c,"focus",this._panOnFocus,this);var y=t.icon.createShadow(this._shadow),k=!1;y!==this._shadow&&(this._removeShadow(),k=!0),y&&(Oe(y,s),y.alt=""),this._shadow=y,t.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&k&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Je(this._icon,"focus",this._panOnFocus,this),it(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&it(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ht(this._icon,t),this._shadow&&ht(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Oe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ta)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ta(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Ot(this._icon,t),this._shadow&&Ot(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var s=this.options.icon.options,c=s.iconSize?B(s.iconSize):B(0,0),p=s.iconAnchor?B(s.iconAnchor):B(0,0);t.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:c.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nu(t,s){return new Dn(t,s)}var ci=un.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return D(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Vs=ci.extend({options:{fill:!0,radius:10},initialize:function(t,s){D(this,s),this._latlng=he(t),this._radius=this.options.radius},setLatLng:function(t){var s=this._latlng;return this._latlng=he(t),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var s=t&&t.radius||this._radius;return ci.prototype.setStyle.call(this,t),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,s=this._radiusY||t,c=this._clickTolerance(),p=[t+c,s+c];this._pxBounds=new T(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function al(t,s){return new Vs(t,s)}var qs=Vs.extend({initialize:function(t,s,c){if(typeof s=="number"&&(s=u({},c,{radius:s})),D(this,s),this._latlng=he(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ci.prototype.setStyle,_project:function(){var t=this._latlng.lng,s=this._latlng.lat,c=this._map,p=c.options.crs;if(p.distance===ye.distance){var y=Math.PI/180,k=this._mRadius/ye.R/y,z=c.project([s+k,t]),M=c.project([s-k,t]),H=z.add(M).divideBy(2),Q=c.unproject(H).lat,le=Math.acos((Math.cos(k*y)-Math.sin(s*y)*Math.sin(Q*y))/(Math.cos(s*y)*Math.cos(Q*y)))/y;(isNaN(le)||le===0)&&(le=k/Math.cos(Math.PI/180*s)),this._point=H.subtract(c.getPixelOrigin()),this._radius=isNaN(le)?0:H.x-c.project([Q,t-le]).x,this._radiusY=H.y-z.y}else{var ke=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(ke).x}this._updateBounds()}});function ls(t,s,c){return new qs(t,s,c)}var $t=ci.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,s){D(this,s),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var s=1/0,c=null,p=Ni,y,k,z=0,M=this._parts.length;z<M;z++)for(var H=this._parts[z],Q=1,le=H.length;Q<le;Q++){y=H[Q-1],k=H[Q];var ke=p(t,y,k,!0);ke<s&&(s=ke,c=p(t,y,k))}return c&&(c.distance=Math.sqrt(s)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,s){return s=s||this._defaultShape(),t=he(t),s.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ce,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return qt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var s=[],c=qt(t),p=0,y=t.length;p<y;p++)c?(s[p]=he(t[p]),this._bounds.extend(s[p])):s[p]=this._convertLatLngs(t[p]);return s},_project:function(){var t=new T;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),s=new K(t,t);this._rawPxBounds&&(this._pxBounds=new T([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(t,s,c){var p=t[0]instanceof pe,y=t.length,k,z;if(p){for(z=[],k=0;k<y;k++)z[k]=this._map.latLngToLayerPoint(t[k]),c.extend(z[k]);s.push(z)}else for(k=0;k<y;k++)this._projectLatlngs(t[k],s,c)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,c,p,y,k,z,M,H;for(c=0,y=0,k=this._rings.length;c<k;c++)for(H=this._rings[c],p=0,z=H.length;p<z-1;p++)M=el(H[p],H[p+1],t,p,!0),M&&(s[y]=s[y]||[],s[y].push(M[0]),(M[1]!==H[p+1]||p===z-2)&&(s[y].push(M[1]),y++))}},_simplifyPoints:function(){for(var t=this._parts,s=this.options.smoothFactor,c=0,p=t.length;c<p;c++)t[c]=Hs(t[c],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,s){var c,p,y,k,z,M,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(c=0,k=this._parts.length;c<k;c++)for(M=this._parts[c],p=0,z=M.length,y=z-1;p<z;y=p++)if(!(!s&&p===0)&&Xa(t,M[y],M[p])<=H)return!0;return!1}});function Ru(t,s){return new $t(t,s)}$t._flat=tl;var Un=$t.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ya(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var s=$t.prototype._convertLatLngs.call(this,t),c=s.length;return c>=2&&s[0]instanceof pe&&s[0].equals(s[c-1])&&s.pop(),s},_setLatLngs:function(t){$t.prototype._setLatLngs.call(this,t),qt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return qt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,s=this.options.weight,c=new K(s,s);if(t=new T(t.min.subtract(c),t.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,y=this._rings.length,k;p<y;p++)k=Go(this._rings[p],t,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var s=!1,c,p,y,k,z,M,H,Q;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(k=0,H=this._parts.length;k<H;k++)for(c=this._parts[k],z=0,Q=c.length,M=Q-1;z<Q;M=z++)p=c[z],y=c[M],p.y>t.y!=y.y>t.y&&t.x<(y.x-p.x)*(t.y-p.y)/(y.y-p.y)+p.x&&(s=!s);return s||$t.prototype._containsPoint.call(this,t,!0)}});function Iu(t,s){return new Un(t,s)}var bn=Mn.extend({initialize:function(t,s){D(this,s),this._layers={},t&&this.addData(t)},addData:function(t){var s=G(t)?t:t.features,c,p,y;if(s){for(c=0,p=s.length;c<p;c++)y=s[c],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var k=this.options;if(k.filter&&!k.filter(t))return this;var z=ur(t,k);return z?(z.feature=Ys(t),z.defaultOptions=z.options,this.resetStyle(z),k.onEachFeature&&k.onEachFeature(t,z),this.addLayer(z)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=u({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(s){this._setLayerStyle(s,t)},this)},_setLayerStyle:function(t,s){t.setStyle&&(typeof s=="function"&&(s=s(t.feature)),t.setStyle(s))}});function ur(t,s){var c=t.type==="Feature"?t.geometry:t,p=c?c.coordinates:null,y=[],k=s&&s.pointToLayer,z=s&&s.coordsToLatLng||Gs,M,H,Q,le;if(!p&&!c)return null;switch(c.type){case"Point":return M=z(p),Ks(k,t,M,s);case"MultiPoint":for(Q=0,le=p.length;Q<le;Q++)M=z(p[Q]),y.push(Ks(k,t,M,s));return new Mn(y);case"LineString":case"MultiLineString":return H=us(p,c.type==="LineString"?0:1,z),new $t(H,s);case"Polygon":case"MultiPolygon":return H=us(p,c.type==="Polygon"?1:2,z),new Un(H,s);case"GeometryCollection":for(Q=0,le=c.geometries.length;Q<le;Q++){var ke=ur({geometry:c.geometries[Q],type:"Feature",properties:t.properties},s);ke&&y.push(ke)}return new Mn(y);case"FeatureCollection":for(Q=0,le=c.features.length;Q<le;Q++){var Ie=ur(c.features[Q],s);Ie&&y.push(Ie)}return new Mn(y);default:throw new Error("Invalid GeoJSON object.")}}function Ks(t,s,c,p){return t?t(s,c):new Dn(c,p&&p.markersInheritOptions&&p)}function Gs(t){return new pe(t[1],t[0],t[2])}function us(t,s,c){for(var p=[],y=0,k=t.length,z;y<k;y++)z=s?us(t[y],s-1,c):(c||Gs)(t[y]),p.push(z);return p}function Js(t,s){return t=he(t),t.alt!==void 0?[j(t.lng,s),j(t.lat,s),j(t.alt,s)]:[j(t.lng,s),j(t.lat,s)]}function Qs(t,s,c,p){for(var y=[],k=0,z=t.length;k<z;k++)y.push(s?Qs(t[k],qt(t[k])?0:s-1,c,p):Js(t[k],p));return!s&&c&&y.length>0&&y.push(y[0].slice()),y}function cr(t,s){return t.feature?u({},t.feature,{geometry:s}):Ys(s)}function Ys(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var na={toGeoJSON:function(t){return cr(this,{type:"Point",coordinates:Js(this.getLatLng(),t)})}};Dn.include(na),qs.include(na),Vs.include(na),$t.include({toGeoJSON:function(t){var s=!qt(this._latlngs),c=Qs(this._latlngs,s?1:0,!1,t);return cr(this,{type:(s?"Multi":"")+"LineString",coordinates:c})}}),Un.include({toGeoJSON:function(t){var s=!qt(this._latlngs),c=s&&!qt(this._latlngs[0]),p=Qs(this._latlngs,c?2:s?1:0,!0,t);return s||(p=[p]),cr(this,{type:(c?"Multi":"")+"Polygon",coordinates:p})}}),ui.include({toMultiPoint:function(t){var s=[];return this.eachLayer(function(c){s.push(c.toGeoJSON(t).geometry.coordinates)}),cr(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(t){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(t);var c=s==="GeometryCollection",p=[];return this.eachLayer(function(y){if(y.toGeoJSON){var k=y.toGeoJSON(t);if(c)p.push(k.geometry);else{var z=Ys(k);z.type==="FeatureCollection"?p.push.apply(p,z.features):p.push(z)}}}),c?cr(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function ll(t,s){return new bn(t,s)}var cn=ll,hi=un.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,s,c){this._url=t,this._bounds=ge(s),D(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Oe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){it(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&er(this._image),this},bringToBack:function(){return this._map&&Rn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ge(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",s=this._image=t?this._url:Re("img");if(Oe(s,"leaflet-image-layer"),this._zoomAnimated&&Oe(s,"leaflet-zoom-animated"),this.options.className&&Oe(s,this.options.className),s.onselectstart=x,s.onmousemove=x,s.onload=f(this.fire,this,"load"),s.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(t){var s=this._map.getZoomScale(t.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;sn(this._image,c,s)},_reset:function(){var t=this._image,s=new T(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=s.getSize();ht(t,s.min),t.style.width=c.x+"px",t.style.height=c.y+"px"},_updateOpacity:function(){Ot(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),ul=function(t,s,c){return new hi(t,s,c)},ia=hi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",s=this._image=t?this._url:Re("video");if(Oe(s,"leaflet-image-layer"),this._zoomAnimated&&Oe(s,"leaflet-zoom-animated"),this.options.className&&Oe(s,this.options.className),s.onselectstart=x,s.onmousemove=x,s.onloadeddata=f(this.fire,this,"load"),t){for(var c=s.getElementsByTagName("source"),p=[],y=0;y<c.length;y++)p.push(c[y].src);this._url=c.length>0?p:[s.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var z=Re("source");z.src=this._url[k],s.appendChild(z)}}});function cl(t,s,c){return new ia(t,s,c)}var ra=hi.extend({_initImage:function(){var t=this._image=this._url;Oe(t,"leaflet-image-layer"),this._zoomAnimated&&Oe(t,"leaflet-zoom-animated"),this.options.className&&Oe(t,this.options.className),t.onselectstart=x,t.onmousemove=x}});function sa(t,s,c){return new ra(t,s,c)}var xn=un.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,s){t&&(t instanceof pe||G(t))?(this._latlng=he(t),D(this,s)):(D(this,t),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ot(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ot(this._container,1),this.bringToFront(),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Ot(this._container,0),this._removeTimeout=setTimeout(f(it,void 0,this._container),200)):it(this._container),this.options.interactive&&(Xe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=he(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&er(this._container),this},bringToBack:function(){return this._map&&Rn(this._container),this},_prepareOpen:function(t){var s=this._source;if(!s._map)return!1;if(s instanceof Mn){s=null;var c=this._source._layers;for(var p in c)if(c[p]._map){s=c[p];break}if(!s)return!1;this._source=s}if(!t)if(s.getCenter)t=s.getCenter();else if(s.getLatLng)t=s.getLatLng();else if(s.getBounds)t=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")t.innerHTML=s;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),s=B(this.options.offset),c=this._getAnchor();this._zoomAnimated?ht(this._container,t.add(c)):s=s.add(t).add(c);var p=this._containerBottom=-s.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=p+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});Fe.include({_initOverlay:function(t,s,c,p){var y=s;return y instanceof t||(y=new t(p).setContent(s)),c&&y.setLatLng(c),y}}),un.include({_initOverlay:function(t,s,c,p){var y=c;return y instanceof t?(D(y,p),y._source=this):(y=s&&!p?s:new t(p,this),y.setContent(c)),y}});var Xs=xn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,xn.prototype.openOn.call(this,t)},onAdd:function(t){xn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ci||this._source.on("preclick",wn))},onRemove:function(t){xn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ci||this._source.off("preclick",wn))},getEvents:function(){var t=xn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",s=this._container=Re("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Re("div",t+"-content-wrapper",s);if(this._contentNode=Re("div",t+"-content",c),rs(s),$s(this._contentNode),Te(s,"contextmenu",wn),this._tipContainer=Re("div",t+"-tip-container",s),this._tip=Re("div",t+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Re("a",t+"-close-button",s);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Te(p,"click",function(y){lt(y),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,s=t.style;s.width="",s.whiteSpace="nowrap";var c=t.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),s.width=c+1+"px",s.whiteSpace="",s.height="";var p=t.offsetHeight,y=this.options.maxHeight,k="leaflet-popup-scrolled";y&&p>y?(s.height=y+"px",Oe(t,k)):Xe(t,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),c=this._getAnchor();ht(this._container,s.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,s=parseInt(es(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+s,p=this._containerWidth,y=new K(this._containerLeft,-c-this._containerBottom);y._add(In(this._container));var k=t.layerPointToContainerPoint(y),z=B(this.options.autoPanPadding),M=B(this.options.autoPanPaddingTopLeft||z),H=B(this.options.autoPanPaddingBottomRight||z),Q=t.getSize(),le=0,ke=0;k.x+p+H.x>Q.x&&(le=k.x+p-Q.x+H.x),k.x-le-M.x<0&&(le=k.x-M.x),k.y+c+H.y>Q.y&&(ke=k.y+c-Q.y+H.y),k.y-ke-M.y<0&&(ke=k.y-M.y),(le||ke)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([le,ke]))}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),hr=function(t,s){return new Xs(t,s)};Fe.mergeOptions({closePopupOnClick:!0}),Fe.include({openPopup:function(t,s,c){return this._initOverlay(Xs,t,s,c).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),un.include({bindPopup:function(t,s){return this._popup=this._initOverlay(Xs,this._popup,t,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Mn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){an(t);var s=t.layer||t.target;if(this._popup._source===s&&!(s instanceof ci)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=s,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var dr=xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){xn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){xn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=xn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",s=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Re("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var s,c,p=this._map,y=this._container,k=p.latLngToContainerPoint(p.getCenter()),z=p.layerPointToContainerPoint(t),M=this.options.direction,H=y.offsetWidth,Q=y.offsetHeight,le=B(this.options.offset),ke=this._getAnchor();M==="top"?(s=H/2,c=Q):M==="bottom"?(s=H/2,c=0):M==="center"?(s=H/2,c=Q/2):M==="right"?(s=0,c=Q/2):M==="left"?(s=H,c=Q/2):z.x<k.x?(M="right",s=0,c=Q/2):(M="left",s=H+(le.x+ke.x)*2,c=Q/2),t=t.subtract(B(s,c,!0)).add(le).add(ke),Xe(y,"leaflet-tooltip-right"),Xe(y,"leaflet-tooltip-left"),Xe(y,"leaflet-tooltip-top"),Xe(y,"leaflet-tooltip-bottom"),Oe(y,"leaflet-tooltip-"+M),ht(y,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ot(this._container,t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(s)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),cs=function(t,s){return new dr(t,s)};Fe.include({openTooltip:function(t,s,c){return this._initOverlay(dr,t,s,c).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),un.include({bindTooltip:function(t,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(dr,this._tooltip,t,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var s=t?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[s](c),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Mn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&(Te(s,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Te(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var s=t.latlng,c,p;this._tooltip.options.sticky&&t.originalEvent&&(c=this._map.mouseEventToContainerPoint(t.originalEvent),p=this._map.containerPointToLayerPoint(c),s=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(s)}});var eo=Ri.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var s=t&&t.tagName==="DIV"?t:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Rs(s),s.appendChild(c.html)):s.innerHTML=c.html!==!1?c.html:"",c.bgPos){var p=B(c.bgPos);s.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function hl(t){return new eo(t)}Ri.Default=lr;var di=un.extend({options:{tileSize:256,opacity:1,updateWhenIdle:J.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){D(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),it(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(er(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Rn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof K?t:new K(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var s=this.getPane().children,c=-t(-1/0,1/0),p=0,y=s.length,k;p<y;p++)k=s[p].style.zIndex,s[p]!==this._container&&k&&(c=t(c,+k));isFinite(c)&&(this.options.zIndex=c+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!J.ielt9){Ot(this._container,this.options.opacity);var t=+new Date,s=!1,c=!1;for(var p in this._tiles){var y=this._tiles[p];if(!(!y.current||!y.loaded)){var k=Math.min(1,(t-y.loaded)/200);Ot(y.el,k),k<1?s=!0:(y.active?c=!0:this._onOpaqueTile(y),y.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),s&&(We(this._fadeFrame),this._fadeFrame=xe(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=Re("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,s=this.options.maxZoom;if(t!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===t?(this._levels[c].el.style.zIndex=s-Math.abs(t-c),this._onUpdateLevel(c)):(it(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var p=this._levels[t],y=this._map;return p||(p=this._levels[t]={},p.el=Re("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=s,p.origin=y.project(y.unproject(y.getPixelOrigin()),t).round(),p.zoom=t,this._setZoomTransform(p,y.getCenter(),y.getZoom()),x(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var t,s,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)s=this._tiles[t],s.retain=s.current;for(t in this._tiles)if(s=this._tiles[t],s.current&&!s.active){var p=s.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var s in this._tiles)this._tiles[s].coords.z===t&&this._removeTile(s)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)it(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,s,c,p){var y=Math.floor(t/2),k=Math.floor(s/2),z=c-1,M=new K(+y,+k);M.z=+z;var H=this._tileCoordsToKey(M),Q=this._tiles[H];return Q&&Q.active?(Q.retain=!0,!0):(Q&&Q.loaded&&(Q.retain=!0),z>p?this._retainParent(y,k,z,p):!1)},_retainChildren:function(t,s,c,p){for(var y=2*t;y<2*t+2;y++)for(var k=2*s;k<2*s+2;k++){var z=new K(y,k);z.z=c+1;var M=this._tileCoordsToKey(z),H=this._tiles[M];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);c+1<p&&this._retainChildren(y,k,c+1,p)}},_resetView:function(t){var s=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var s=this.options;return s.minNativeZoom!==void 0&&t<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<t?s.maxNativeZoom:t},_setView:function(t,s,c,p){var y=Math.round(s);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var k=this.options.updateWhenZooming&&y!==this._tileZoom;(!p||k)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(t),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(t,s)},_setZoomTransforms:function(t,s){for(var c in this._levels)this._setZoomTransform(this._levels[c],t,s)},_setZoomTransform:function(t,s,c){var p=this._map.getZoomScale(c,t.zoom),y=t.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(s,c)).round();J.any3d?sn(t.el,y,p):ht(t.el,y)},_resetGrid:function(){var t=this._map,s=t.options.crs,c=this._tileSize=this.getTileSize(),p=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,s.wrapLng[0]],p).x/c.x),Math.ceil(t.project([0,s.wrapLng[1]],p).x/c.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([s.wrapLat[0],0],p).y/c.x),Math.ceil(t.project([s.wrapLat[1],0],p).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var s=this._map,c=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),p=s.getZoomScale(c,this._tileZoom),y=s.project(t,this._tileZoom).floor(),k=s.getSize().divideBy(p*2);return new T(y.subtract(k),y.add(k))},_update:function(t){var s=this._map;if(s){var c=this._clampZoom(s.getZoom());if(t===void 0&&(t=s.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(t),y=this._pxBoundsToTileRange(p),k=y.getCenter(),z=[],M=this.options.keepBuffer,H=new T(y.getBottomLeft().subtract([M,-M]),y.getTopRight().add([M,-M]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Q in this._tiles){var le=this._tiles[Q].coords;(le.z!==this._tileZoom||!H.contains(new K(le.x,le.y)))&&(this._tiles[Q].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(t,c);return}for(var ke=y.min.y;ke<=y.max.y;ke++)for(var Ie=y.min.x;Ie<=y.max.x;Ie++){var yt=new K(Ie,ke);if(yt.z=this._tileZoom,!!this._isValidTile(yt)){var gt=this._tiles[this._tileCoordsToKey(yt)];gt?gt.current=!0:z.push(yt)}}if(z.sort(function(Rt,vr){return Rt.distanceTo(k)-vr.distanceTo(k)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ft=document.createDocumentFragment();for(Ie=0;Ie<z.length;Ie++)this._addTile(z[Ie],Ft);this._level.el.appendChild(Ft)}}}},_isValidTile:function(t){var s=this._map.options.crs;if(!s.infinite){var c=this._globalTileRange;if(!s.wrapLng&&(t.x<c.min.x||t.x>c.max.x)||!s.wrapLat&&(t.y<c.min.y||t.y>c.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(t);return ge(this.options.bounds).overlaps(p)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var s=this._map,c=this.getTileSize(),p=t.scaleBy(c),y=p.add(c),k=s.unproject(p,t.z),z=s.unproject(y,t.z);return[k,z]},_tileCoordsToBounds:function(t){var s=this._tileCoordsToNwSe(t),c=new ce(s[0],s[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var s=t.split(":"),c=new K(+s[0],+s[1]);return c.z=+s[2],c},_removeTile:function(t){var s=this._tiles[t];s&&(it(s.el),delete this._tiles[t],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Oe(t,"leaflet-tile");var s=this.getTileSize();t.style.width=s.x+"px",t.style.height=s.y+"px",t.onselectstart=x,t.onmousemove=x,J.ielt9&&this.options.opacity<1&&Ot(t,this.options.opacity)},_addTile:function(t,s){var c=this._getTilePos(t),p=this._tileCoordsToKey(t),y=this.createTile(this._wrapCoords(t),f(this._tileReady,this,t));this._initTile(y),this.createTile.length<2&&xe(f(this._tileReady,this,t,null,y)),ht(y,c),this._tiles[p]={el:y,coords:t,current:!0},s.appendChild(y),this.fire("tileloadstart",{tile:y,coords:t})},_tileReady:function(t,s,c){s&&this.fire("tileerror",{error:s,tile:c,coords:t});var p=this._tileCoordsToKey(t);c=this._tiles[p],c&&(c.loaded=+new Date,this._map._fadeAnimated?(Ot(c.el,0),We(this._fadeFrame),this._fadeFrame=xe(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),s||(Oe(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),J.ielt9||!this._map._fadeAnimated?xe(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var s=new K(this._wrapX?S(t.x,this._wrapX):t.x,this._wrapY?S(t.y,this._wrapY):t.y);return s.z=t.z,s},_pxBoundsToTileRange:function(t){var s=this.getTileSize();return new T(t.min.unscaleBy(s).floor(),t.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function fr(t){return new di(t)}var fi=di.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,s){this._url=t,s=D(this,s),s.detectRetina&&J.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,s){return this._url===t&&s===void 0&&(s=!0),this._url=t,s||this.redraw(),this},createTile:function(t,s){var c=document.createElement("img");return Te(c,"load",f(this._tileOnLoad,this,s,c)),Te(c,"error",f(this._tileOnError,this,s,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(t),c},getTileUrl:function(t){var s={r:J.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-t.y;this.options.tms&&(s.y=c),s["-y"]=c}return ie(this._url,u(s,this.options))},_tileOnLoad:function(t,s){J.ielt9?setTimeout(f(t,this,null,s),0):t(null,s)},_tileOnError:function(t,s,c){var p=this.options.errorTileUrl;p&&s.getAttribute("src")!==p&&(s.src=p),t(c,s)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,s=this.options.maxZoom,c=this.options.zoomReverse,p=this.options.zoomOffset;return c&&(t=s-t),t+p},_getSubdomain:function(t){var s=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var t,s;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(s=this._tiles[t].el,s.onload=x,s.onerror=x,!s.complete)){s.src=se;var c=this._tiles[t].coords;it(s),delete this._tiles[t],this.fire("tileabort",{tile:s,coords:c})}},_removeTile:function(t){var s=this._tiles[t];if(s)return s.el.setAttribute("src",se),di.prototype._removeTile.call(this,t)},_tileReady:function(t,s,c){if(!(!this._map||c&&c.getAttribute("src")===se))return di.prototype._tileReady.call(this,t,s,c)}});function oa(t,s){return new fi(t,s)}var hs=fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,s){this._url=t;var c=u({},this.defaultWmsParams);for(var p in s)p in this.options||(c[p]=s[p]);s=D(this,s);var y=s.detectRetina&&J.retina?2:1,k=this.getTileSize();c.width=k.x*y,c.height=k.y*y,this.wmsParams=c},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,fi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var s=this._tileCoordsToNwSe(t),c=this._crs,p=V(c.project(s[0]),c.project(s[1])),y=p.min,k=p.max,z=(this._wmsVersion>=1.3&&this._crs===rl?[y.y,y.x,k.y,k.x]:[y.x,y.y,k.x,k.y]).join(","),M=fi.prototype.getTileUrl.call(this,t);return M+$(this.wmsParams,M,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(t,s){return u(this.wmsParams,t),s||this.redraw(),this}});function dl(t,s){return new hs(t,s)}fi.WMS=hs,oa.wms=dl;var kn=un.extend({options:{padding:.1},initialize:function(t){D(this,t),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Oe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,s){var c=this._map.getZoomScale(s,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,s),k=p.multiplyBy(-c).add(y).subtract(this._map._getNewPixelOrigin(t,s));J.any3d?sn(this._container,k,c):ht(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,s=this._map.getSize(),c=this._map.containerPointToLayerPoint(s.multiplyBy(-t)).round();this._bounds=new T(c,c.add(s.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),aa=kn.extend({options:{tolerance:0},getEvents:function(){var t=kn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){kn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Te(t,"mousemove",this._onMouseMove,this),Te(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){We(this._redrawRequest),delete this._ctx,it(this._container),Je(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var s in this._layers)t=this._layers[s],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){kn.prototype._update.call(this);var t=this._bounds,s=this._container,c=t.getSize(),p=J.retina?2:1;ht(s,t.min),s.width=p*c.x,s.height=p*c.y,s.style.width=c.x+"px",s.style.height=c.y+"px",J.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){kn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[_(t)]=t;var s=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var s=t._order,c=s.next,p=s.prev;c?c.prev=p:this._drawLast=p,p?p.next=c:this._drawFirst=c,delete t._order,delete this._layers[_(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var s=t.options.dashArray.split(/[, ]+/),c=[],p,y;for(y=0;y<s.length;y++){if(p=Number(s[y]),isNaN(p))return;c.push(p)}t.options._dashArray=c}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||xe(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var s=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new T,this._redrawBounds.extend(t._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(t._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var s=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,s=this._redrawBounds;if(this._ctx.save(),s){var c=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)t=p.layer,(!s||t._pxBounds&&t._pxBounds.intersects(s))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,s){if(this._drawing){var c,p,y,k,z=t._parts,M=z.length,H=this._ctx;if(M){for(H.beginPath(),c=0;c<M;c++){for(p=0,y=z[c].length;p<y;p++)k=z[c][p],H[p?"lineTo":"moveTo"](k.x,k.y);s&&H.closePath()}this._fillStroke(H,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var s=t._point,c=this._ctx,p=Math.max(Math.round(t._radius),1),y=(Math.max(Math.round(t._radiusY),1)||p)/p;y!==1&&(c.save(),c.scale(1,y)),c.beginPath(),c.arc(s.x,s.y/y,p,0,Math.PI*2,!1),y!==1&&c.restore(),this._fillStroke(c,t)}},_fillStroke:function(t,s){var c=s.options;c.fill&&(t.globalAlpha=c.fillOpacity,t.fillStyle=c.fillColor||c.color,t.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(t.setLineDash&&t.setLineDash(s.options&&s.options._dashArray||[]),t.globalAlpha=c.opacity,t.lineWidth=c.weight,t.strokeStyle=c.color,t.lineCap=c.lineCap,t.lineJoin=c.lineJoin,t.stroke())},_onClick:function(t){for(var s=this._map.mouseEventToLayerPoint(t),c,p,y=this._drawFirst;y;y=y.next)c=y.layer,c.options.interactive&&c._containsPoint(s)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(c))&&(p=c);this._fireEvent(p?[p]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,s)}},_handleMouseOut:function(t){var s=this._hoveredLayer;s&&(Xe(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,s){if(!this._mouseHoverThrottled){for(var c,p,y=this._drawFirst;y;y=y.next)c=y.layer,c.options.interactive&&c._containsPoint(s)&&(p=c);p!==this._hoveredLayer&&(this._handleMouseOut(t),p&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([p],t,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,s,c){this._map._fireDOMEvent(s,c||s.type,t)},_bringToFront:function(t){var s=t._order;if(s){var c=s.next,p=s.prev;if(c)c.prev=p;else return;p?p.next=c:c&&(this._drawFirst=c),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(t)}},_bringToBack:function(t){var s=t._order;if(s){var c=s.next,p=s.prev;if(p)p.next=c;else return;c?c.prev=p:p&&(this._drawLast=p),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(t)}}});function la(t){return J.canvas?new aa(t):null}var pr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),fl={_initContainer:function(){this._container=Re("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(kn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var s=t._container=pr("shape");Oe(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",t._path=pr("path"),s.appendChild(t._path),this._updateStyle(t),this._layers[_(t)]=t},_addPath:function(t){var s=t._container;this._container.appendChild(s),t.options.interactive&&t.addInteractiveTarget(s)},_removePath:function(t){var s=t._container;it(s),t.removeInteractiveTarget(s),delete this._layers[_(t)]},_updateStyle:function(t){var s=t._stroke,c=t._fill,p=t.options,y=t._container;y.stroked=!!p.stroke,y.filled=!!p.fill,p.stroke?(s||(s=t._stroke=pr("stroke")),y.appendChild(s),s.weight=p.weight+"px",s.color=p.color,s.opacity=p.opacity,p.dashArray?s.dashStyle=G(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=p.lineCap.replace("butt","flat"),s.joinstyle=p.lineJoin):s&&(y.removeChild(s),t._stroke=null),p.fill?(c||(c=t._fill=pr("fill")),y.appendChild(c),c.color=p.fillColor||p.color,c.opacity=p.fillOpacity):c&&(y.removeChild(c),t._fill=null)},_updateCircle:function(t){var s=t._point.round(),c=Math.round(t._radius),p=Math.round(t._radiusY||c);this._setPath(t,t._empty()?"M0 0":"AL "+s.x+","+s.y+" "+c+","+p+" 0,"+65535*360)},_setPath:function(t,s){t._path.v=s},_bringToFront:function(t){er(t._container)},_bringToBack:function(t){Rn(t._container)}},hn=J.vml?pr:gn,Ii=kn.extend({_initContainer:function(){this._container=hn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){it(this._container),Je(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){kn.prototype._update.call(this);var t=this._bounds,s=t.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,c.setAttribute("width",s.x),c.setAttribute("height",s.y)),ht(c,t.min),c.setAttribute("viewBox",[t.min.x,t.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(t){var s=t._path=hn("path");t.options.className&&Oe(s,t.options.className),t.options.interactive&&Oe(s,"leaflet-interactive"),this._updateStyle(t),this._layers[_(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){it(t._path),t.removeInteractiveTarget(t._path),delete this._layers[_(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var s=t._path,c=t.options;s&&(c.stroke?(s.setAttribute("stroke",c.color),s.setAttribute("stroke-opacity",c.opacity),s.setAttribute("stroke-width",c.weight),s.setAttribute("stroke-linecap",c.lineCap),s.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?s.setAttribute("stroke-dasharray",c.dashArray):s.removeAttribute("stroke-dasharray"),c.dashOffset?s.setAttribute("stroke-dashoffset",c.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),c.fill?(s.setAttribute("fill",c.fillColor||c.color),s.setAttribute("fill-opacity",c.fillOpacity),s.setAttribute("fill-rule",c.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(t,s){this._setPath(t,Fr(t._parts,s))},_updateCircle:function(t){var s=t._point,c=Math.max(Math.round(t._radius),1),p=Math.max(Math.round(t._radiusY),1)||c,y="a"+c+","+p+" 0 1,0 ",k=t._empty()?"M0 0":"M"+(s.x-c)+","+s.y+y+c*2+",0 "+y+-c*2+",0 ";this._setPath(t,k)},_setPath:function(t,s){t._path.setAttribute("d",s)},_bringToFront:function(t){er(t._path)},_bringToBack:function(t){Rn(t._path)}});J.vml&&Ii.include(fl);function to(t){return J.svg||J.vml?new Ii(t):null}Fe.include({getRenderer:function(t){var s=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var s=this._paneRenderers[t];return s===void 0&&(s=this._createRenderer({pane:t}),this._paneRenderers[t]=s),s},_createRenderer:function(t){return this.options.preferCanvas&&la(t)||to(t)}});var pl=Un.extend({initialize:function(t,s){Un.prototype.initialize.call(this,this._boundsToLatLngs(t),s)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ge(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Au(t,s){return new pl(t,s)}Ii.create=hn,Ii.pointsToPath=Fr,bn.geometryToLayer=ur,bn.coordsToLatLng=Gs,bn.coordsToLatLngs=us,bn.latLngToCoords=Js,bn.latLngsToCoords=Qs,bn.getFeature=cr,bn.asFeature=Ys,Fe.mergeOptions({boxZoom:!0});var mr=Vt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Je(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){it(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),He(),Ms(),this._startPoint=this._map.mouseEventToContainerPoint(t),Te(document,{contextmenu:an,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Re("div","leaflet-zoom-box",this._container),Oe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var s=new T(this._point,this._startPoint),c=s.getSize();ht(this._box,s.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(it(this._box),Xe(this._container,"leaflet-crosshair")),ir(),Ds(),Je(document,{contextmenu:an,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var s=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Fe.addInitHook("addHandler","boxZoom",mr),Fe.mergeOptions({doubleClickZoom:!0});var ml=Vt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var s=this._map,c=s.getZoom(),p=s.options.zoomDelta,y=t.originalEvent.shiftKey?c-p:c+p;s.options.doubleClickZoom==="center"?s.setZoom(y):s.setZoomAround(t.containerPoint,y)}});Fe.addInitHook("addHandler","doubleClickZoom",ml),Fe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ua=Vt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ln(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Oe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Xe(this._map._container,"leaflet-grab"),Xe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=ge(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var s=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(s),this._prunePositions(s)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,s){return t-(t-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;t.x<s.min.x&&(t.x=this._viscousLimit(t.x,s.min.x)),t.y<s.min.y&&(t.y=this._viscousLimit(t.y,s.min.y)),t.x>s.max.x&&(t.x=this._viscousLimit(t.x,s.max.x)),t.y>s.max.y&&(t.y=this._viscousLimit(t.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,s=Math.round(t/2),c=this._initialWorldOffset,p=this._draggable._newPos.x,y=(p-s+c)%t+s-c,k=(p+s+c)%t-s-c,z=Math.abs(y+c)<Math.abs(k+c)?y:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(t){var s=this._map,c=s.options,p=!c.inertia||t.noInertia||this._times.length<2;if(s.fire("dragend",t),p)s.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,z=c.easeLinearity,M=y.multiplyBy(z/k),H=M.distanceTo([0,0]),Q=Math.min(c.inertiaMaxSpeed,H),le=M.multiplyBy(Q/H),ke=Q/(c.inertiaDeceleration*z),Ie=le.multiplyBy(-ke/2).round();!Ie.x&&!Ie.y?s.fire("moveend"):(Ie=s._limitOffset(Ie,s.options.maxBounds),xe(function(){s.panBy(Ie,{duration:ke,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});Fe.addInitHook("addHandler","dragging",ua),Fe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ca=Vt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Te(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Je(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,s=document.documentElement,c=t.scrollTop||s.scrollTop,p=t.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(p,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var s=this._panKeys={},c=this.keyCodes,p,y;for(p=0,y=c.left.length;p<y;p++)s[c.left[p]]=[-1*t,0];for(p=0,y=c.right.length;p<y;p++)s[c.right[p]]=[t,0];for(p=0,y=c.down.length;p<y;p++)s[c.down[p]]=[0,t];for(p=0,y=c.up.length;p<y;p++)s[c.up[p]]=[0,-1*t]},_setZoomDelta:function(t){var s=this._zoomKeys={},c=this.keyCodes,p,y;for(p=0,y=c.zoomIn.length;p<y;p++)s[c.zoomIn[p]]=t;for(p=0,y=c.zoomOut.length;p<y;p++)s[c.zoomOut[p]]=-t},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Je(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var s=t.keyCode,c=this._map,p;if(s in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(p=this._panKeys[s],t.shiftKey&&(p=B(p).multiplyBy(3)),c.options.maxBounds&&(p=c._limitOffset(B(p),c.options.maxBounds)),c.options.worldCopyJump){var y=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(p)));c.panTo(y)}else c.panBy(p)}else if(s in this._zoomKeys)c.setZoom(c.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;an(t)}}});Fe.addInitHook("addHandler","keyboard",ca),Fe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Qe=Vt.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Je(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var s=Ja(t),c=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var p=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),p),an(t)},_performZoom:function(){var t=this._map,s=t.getZoom(),c=this._map.options.zoomSnap||0;t._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,k=c?Math.ceil(y/c)*c:y,z=t._limitZoom(s+(this._delta>0?k:-k))-s;this._delta=0,this._startTime=null,z&&(t.options.scrollWheelZoom==="center"?t.setZoom(s+z):t.setZoomAround(this._lastMousePos,s+z))}});Fe.addInitHook("addHandler","scrollWheelZoom",Qe);var ha=600;Fe.mergeOptions({tapHold:J.touchNative&&J.safari&&J.mobile,tapTolerance:15});var ds=Vt.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Je(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var s=t.touches[0];this._startPos=this._newPos=new K(s.clientX,s.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",lt),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),ha),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Je(document,"touchend",lt),Je(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Je(document,"touchend touchcancel contextmenu",this._cancel,this),Je(document,"touchmove",this._onMove,this)},_onMove:function(t){var s=t.touches[0];this._newPos=new K(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,s){var c=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});c._simulated=!0,s.target.dispatchEvent(c)}});Fe.addInitHook("addHandler","tapHold",ds),Fe.mergeOptions({touchZoom:J.touch,bounceAtZoomLimits:!0});var gr=Vt.extend({addHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Xe(this._map._container,"leaflet-touch-zoom"),Je(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var s=this._map;if(!(!t.touches||t.touches.length!==2||s._animatingZoom||this._zooming)){var c=s.mouseEventToContainerPoint(t.touches[0]),p=s.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(c.add(p)._divideBy(2))),this._startDist=c.distanceTo(p),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),lt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var s=this._map,c=s.mouseEventToContainerPoint(t.touches[0]),p=s.mouseEventToContainerPoint(t.touches[1]),y=c.distanceTo(p)/this._startDist;if(this._zoom=s.getScaleZoom(y,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&y<1||this._zoom>s.getMaxZoom()&&y>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var k=c._add(p)._divideBy(2)._subtract(this._centerPoint);if(y===1&&k.x===0&&k.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),We(this._animRequest);var z=f(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=xe(z,this,!0),lt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,We(this._animRequest),Je(document,"touchmove",this._onTouchMove,this),Je(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Fe.addInitHook("addHandler","touchZoom",gr),Fe.BoxZoom=mr,Fe.DoubleClickZoom=ml,Fe.Drag=ua,Fe.Keyboard=ca,Fe.ScrollWheelZoom=Qe,Fe.TapHold=ds,Fe.TouchZoom=gr,r.Bounds=T,r.Browser=J,r.CRS=Le,r.Canvas=aa,r.Circle=qs,r.CircleMarker=Vs,r.Class=Ue,r.Control=Ut,r.DivIcon=eo,r.DivOverlay=xn,r.DomEvent=Fs,r.DomUtil=is,r.Draggable=ln,r.Evented=Ce,r.FeatureGroup=Mn,r.GeoJSON=bn,r.GridLayer=di,r.Handler=Vt,r.Icon=Ri,r.ImageOverlay=hi,r.LatLng=pe,r.LatLngBounds=ce,r.Layer=un,r.LayerGroup=ui,r.LineUtil=il,r.Map=Fe,r.Marker=Dn,r.Mixin=Ko,r.Path=ci,r.Point=K,r.PolyUtil=Pu,r.Polygon=Un,r.Polyline=$t,r.Popup=Xs,r.PosAnimation=Bs,r.Projection=zu,r.Rectangle=pl,r.Renderer=kn,r.SVG=Ii,r.SVGOverlay=ra,r.TileLayer=fi,r.Tooltip=dr,r.Transformation=mn,r.Util=Me,r.VideoOverlay=ia,r.bind=f,r.bounds=V,r.canvas=la,r.circle=ls,r.circleMarker=al,r.control=li,r.divIcon=hl,r.extend=u,r.featureGroup=sl,r.geoJSON=ll,r.geoJson=cn,r.gridLayer=fr,r.icon=ol,r.imageOverlay=ul,r.latLng=he,r.latLngBounds=ge,r.layerGroup=as,r.map=ai,r.marker=Nu,r.point=B,r.polygon=Iu,r.polyline=Ru,r.popup=hr,r.rectangle=Au,r.setOptions=D,r.stamp=_,r.svg=to,r.svgOverlay=sa,r.tileLayer=oa,r.tooltip=cs,r.transformation=qn,r.version=a,r.videoOverlay=cl;var gl=window.L;r.noConflict=function(){return window.L=gl,this},window.L=r}))})(za,za.exports)),za.exports}var $r=Ny();const Va=vu($r);function $o(l,i,r){return Object.freeze({instance:l,context:i,container:r})}function qa(l,i){return i==null?function(a,u){const d=I.useRef();return d.current||(d.current=l(a,u)),d}:function(a,u){const d=I.useRef();d.current||(d.current=l(a,u));const f=I.useRef(a),{instance:g}=d.current;return I.useEffect(function(){f.current!==a&&(i(g,a,f.current),f.current=a)},[g,a,u]),d}}function tm(l,i){I.useEffect(function(){return(i.layerContainer??i.map).addLayer(l.instance),function(){i.layerContainer?.removeLayer(l.instance),i.map.removeLayer(l.instance)}},[i,l])}function nm(l){return function(r){const a=Uo(),u=l(wu(r,a),a);return Xp(a.map,r.attribution),Ih(u.current,r.eventHandlers),tm(u.current,a),u}}function Ry(l,i){const r=I.useRef();I.useEffect(function(){if(i.pathOptions!==r.current){const u=i.pathOptions??{};l.instance.setStyle(u),r.current=u}},[l,i])}function Iy(l){return function(r){const a=Uo(),u=l(wu(r,a),a);return Ih(u.current,r.eventHandlers),tm(u.current,a),Ry(u.current,r),u}}function Ay(l,i){const r=qa(l,i),a=nm(r);return Rh(a)}function My(l,i){const r=qa(l),a=jy(r,i);return Ly(a)}function im(l,i){const r=qa(l,i),a=Iy(r);return Rh(a)}function Dy(l,i){const r=qa(l,i),a=nm(r);return Ty(a)}function Uy(l,i,r){const{opacity:a,zIndex:u}=i;a!=null&&a!==r.opacity&&l.setOpacity(a),u!=null&&u!==r.zIndex&&l.setZIndex(u)}function rm(){return Uo().map}function $y(l){const i=rm();return I.useEffect(function(){return i.on(l),function(){i.off(l)}},[i,l]),i}const Fy=qa(function({children:i,...r},a){const u=new $r.Control.Layers(void 0,void 0,r);return $o(u,Wa(a,{layersControl:u}))},function(i,r,a){r.collapsed!==a.collapsed&&(r.collapsed===!0?i.collapse():i.expand())}),By=zy(Fy),Oo=Rh(By);function sm(l){return function(r){const a=Uo(),u=I.useRef(r),[d,f]=I.useState(null),{layersControl:g,map:_}=a,w=I.useCallback(j=>{g!=null&&(u.current.checked&&_.addLayer(j),l(g,j,u.current.name),f(j))},[g,_]),S=I.useCallback(j=>{g?.removeLayer(j),f(null)},[g]),x=I.useMemo(()=>Wa(a,{layerContainer:{addLayer:w,removeLayer:S}}),[a,w,S]);return I.useEffect(()=>{d!==null&&u.current!==r&&(r.checked===!0&&(u.current.checked==null||u.current.checked===!1)?_.addLayer(d):u.current.checked===!0&&(r.checked==null||r.checked===!1)&&_.removeLayer(d),u.current=r)}),r.children?No.createElement(Nh,{value:x},r.children):null}}Oo.BaseLayer=sm(function(i,r,a){i.addBaseLayer(r,a)});Oo.Overlay=sm(function(i,r,a){i.addOverlay(r,a)});function wh(){return wh=Object.assign||function(l){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])}return l},wh.apply(this,arguments)}function Zy({bounds:l,boundsOptions:i,center:r,children:a,className:u,id:d,placeholder:f,style:g,whenReady:_,zoom:w,...S},x){const[j]=I.useState({className:u,id:d,style:g}),[R,A]=I.useState(null);I.useImperativeHandle(x,()=>R?.map??null,[R]);const D=I.useCallback(te=>{if(te!==null&&R===null){const ie=new $r.Map(te,S);r!=null&&w!=null?ie.setView(r,w):l!=null&&ie.fitBounds(l,i),_!=null&&ie.whenReady(_),A(Cy(ie))}},[]);I.useEffect(()=>()=>{R?.map.remove()},[R]);const $=R?No.createElement(Nh,{value:R},a):f??null;return No.createElement("div",wh({},j,{ref:D}),$)}const Ah=I.forwardRef(Zy),fu=Ay(function({position:i,...r},a){const u=new $r.Marker(i,r);return $o(u,Wa(a,{overlayContainer:u}))},function(i,r,a){r.position!==a.position&&i.setLatLng(r.position),r.icon!=null&&r.icon!==a.icon&&i.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==a.zIndexOffset&&i.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==a.opacity&&i.setOpacity(r.opacity),i.dragging!=null&&r.draggable!==a.draggable&&(r.draggable===!0?i.dragging.enable():i.dragging.disable())}),Hy=im(function({positions:i,...r},a){const u=new $r.Polygon(i,r);return $o(u,Wa(a,{overlayContainer:u}))},function(i,r,a){r.positions!==a.positions&&i.setLatLngs(r.positions)}),Wy=im(function({positions:i,...r},a){const u=new $r.Polyline(i,r);return $o(u,Wa(a,{overlayContainer:u}))},function(i,r,a){r.positions!==a.positions&&i.setLatLngs(r.positions)}),Ra=My(function(i,r){const a=new $r.Popup(i,r.overlayContainer);return $o(a,r)},function(i,r,{position:a},u){I.useEffect(function(){const{instance:f}=i;function g(w){w.popup===f&&(f.update(),u(!0))}function _(w){w.popup===f&&u(!1)}return r.map.on({popupopen:g,popupclose:_}),r.overlayContainer==null?(a!=null&&f.setLatLng(a),f.openOn(r.map)):r.overlayContainer.bindPopup(f),function(){r.map.off({popupopen:g,popupclose:_}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(f)}},[i,r,u,a])}),Ia=Dy(function({url:i,...r},a){const u=new $r.TileLayer(i,wu(r,a));return $o(u,a)},function(i,r,a){Uy(i,r,a);const{url:u}=r;u!=null&&u!==a.url&&i.setUrl(u)});delete Va.Icon.Default.prototype._getIconUrl;Va.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function Vy({onLocationSelected:l,initialPosition:i}){const[r,a]=I.useState(i),u=$y({click(d){const f=d.latlng;a(f),l(f),u.flyTo(f,u.getZoom())}});return I.useEffect(()=>{i&&(a(i),u.flyTo(i,u.getZoom()))},[i,u]),r===null?null:P.jsx(fu,{position:r,children:P.jsx(Ra,{children:"Kiválasztott hely"})})}const qy=({onLocationSelected:l,initialLat:i,initialLng:r})=>{const[a,u]=I.useState(null);I.useEffect(()=>{i&&r&&u([i,r])},[i,r]);const d=f=>{u([f.lat,f.lng]),l(f)};return P.jsxs("div",{style:{height:"400px",width:"100%",marginBottom:"20px"},children:[P.jsxs(Ah,{center:a||[47.4979,19.0402],zoom:13,style:{height:"100%",width:"100%"},children:[P.jsx(Ia,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),P.jsx(Vy,{onLocationSelected:d,initialPosition:a})]}),a&&P.jsxs("div",{style:{marginTop:"10px"},children:[P.jsx("strong",{children:"Kiválasztott koordináták:"}),P.jsx("br",{}),"Szélesség: ",a[0].toFixed(6),P.jsx("br",{}),"Hosszúság: ",a[1].toFixed(6)]})]})};delete Va.Icon.Default.prototype._getIconUrl;Va.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Ky=({missingPersons:l,markers:i})=>{const r=rm();return I.useEffect(()=>{const a=l.filter(d=>d.location?.lat&&d.location?.lng),u=i.filter(d=>d.lat_lng?.coordinates);if(a.length>0||u.length>0){const d=[...a.map(f=>[f.location.lat,f.location.lng]),...u.map(f=>[f.lat_lng.coordinates[1],f.lat_lng.coordinates[0]])];r.fitBounds(d,{padding:[50,50]})}else r.setView([47.4979,19.0402],13)},[l,i,r]),null},Gy=()=>{const{t:l}=Mo(),[i,r]=I.useState([]),[a,u]=I.useState([]),[d,f]=I.useState([]),[g,_]=I.useState(null),[w,S]=I.useState(null),[x,j]=I.useState(null),[R,A]=I.useState(""),[D,$]=I.useState("active"),[te,ie]=I.useState(""),[G,Y]=I.useState(""),[se,oe]=I.useState(""),[ue,ve]=I.useState(""),[De,ae]=I.useState(null),[xe,We]=I.useState(""),[Me,Ue]=I.useState(""),[Ye,ze]=I.useState(""),[Ce,K]=I.useState(""),[Z,B]=I.useState(""),[T,V]=I.useState("searcher"),[ce,ge]=I.useState(null),[pe,he]=I.useState(!1),[Le,ye]=I.useState(!1),[Ke,st]=I.useState(null),[mn,qn]=I.useState(!1),[jn,wi]=I.useState([]),[gn,Fr]=I.useState({openstreetmap:!0,turistautak:!1,satellite:!1}),[bi,xi]=I.useState([]),[ki,Kn]=I.useState(!0),vn=[{value:"child1-3",label:l("behavior-child1-3")},{value:"child4-6",label:l("behavior-child4-6")},{value:"hiker",label:l("behavior-hiker")},{value:"despondent",label:l("behavior-despondent")},{value:"hunter",label:l("behavior-hunter")},{value:"elderly",label:l("behavior-elderly")},{value:"default",label:l("behavior-default")}],nt=I.useRef(new Map);I.useEffect(()=>{if(w){const C=te!==w.name||G!==w.age?.toString()||se!==w.height_cm?.toString()||ue!==w.clothing||Me!==w.behavior_category||Ye!==JSON.stringify(w.prob_zones||{})||Ce!==w.location?.lat?.toString()||Z!==w.location?.lng?.toString();qn(C)}},[te,G,se,ue,Me,Ye,Ce,Z,w]),I.useEffect(()=>{Gn(),Br();const C=Se.channel("search_events_changes").on("postgres_changes",{event:"*",schema:"public",table:"search_events"},()=>{Gn()}).subscribe(),q=Se.channel("missing_persons_changes").on("postgres_changes",{event:"*",schema:"public",table:"missing_persons"},()=>{g&&Jn(g.id)}).subscribe(),J=Se.channel("event_participants_changes").on("postgres_changes",{event:"*",schema:"public",table:"event_participants"},()=>{g&&_n(g.id)}).subscribe(),be=Se.channel("markers_changes").on("postgres_changes",{event:"*",schema:"public",table:"markers"},()=>{g&&Si(g.id)}).subscribe();return()=>{Se.removeChannel(C),Se.removeChannel(q),Se.removeChannel(J),Se.removeChannel(be)}},[g]);const Br=async()=>{try{const{data:{user:C},error:q}=await Se.auth.getUser();if(q){console.error("Error getting user:",q),V("searcher");return}if(C){ge(C.id);const{data:J,error:be}=await Se.from("users").select("role").eq("id",C.id).single();be?(console.error("Error fetching user role:",be),V("searcher")):V(J?.role||"searcher")}}catch(C){console.error("Error fetching current user:",C),V("searcher")}},Gn=async()=>{try{ye(!0),st(null);const C="events",q=nt.current.get(C);if(q){r(q),ye(!1);return}console.log("Loading events from Supabase...");const{data:J,error:be}=await Se.from("search_events").select("*");if(be){console.error("Supabase error:",be);const{data:Ze,error:jt}=await Se.from("search_events").select("id, name, status, start_time");if(jt)throw console.error("Simple query also failed:",jt),jt;console.log("Events loaded with simple query:",Ze),r(Ze||[]),nt.current.set(C,Ze||[])}else console.log("Events loaded successfully:",J),r(J||[]),nt.current.set(C,J||[])}catch(C){console.error("Error loading events:",C),st(l("error-loading-events")),r([])}finally{ye(!1)}},Jn=async C=>{try{const q=`missing-persons-${C}`,J=nt.current.get(q);if(J){u(J);return}const{data:be,error:Ze}=await Se.from("missing_persons").select("*").eq("event_id",C);if(Ze)throw Ze;u(be||[]),nt.current.set(q,be||[])}catch(q){console.error("Error loading missing persons:",q),st(l("error-loading-missing-persons"))}},_n=async C=>{try{const q=`event-participants-${C}`,J=nt.current.get(q);if(J){f(J);return}const{data:be,error:Ze}=await Se.from("event_participants").select(`
        *,
        user:users(full_name, phone_number, role)
      `).eq("event_id",C).order("joined_at",{ascending:!1});if(Ze)throw Ze;f(be||[]),nt.current.set(q,be||[])}catch(q){console.error("Error loading event participants:",q),st(l("error-loading-participants"))}},Si=async C=>{try{const q=`markers-${C}`,J=nt.current.get(q);if(J){wi(J),Qn(J);return}const{data:be,error:Ze}=await Se.from("markers").select(`
          *,
          user:users(full_name, phone_number)
        `).eq("event_id",C);if(Ze)throw console.error("Supabase error:",Ze),Ze;console.log("Markers with user data:",be),wi(be||[]),nt.current.set(q,be||[]),Qn(be||[])}catch(q){console.error("Error loading markers:",q),st(l("error-loading-markers"))}},Qn=C=>{const q={};C.forEach(J=>{if(!J.user_id||!J.lat_lng?.coordinates){console.log("Skipping marker - missing user_id or coordinates:",J);return}q[J.user_id]||(q[J.user_id]=[]),J.lat_lng.coordinates&&J.lat_lng.coordinates.length>=2&&q[J.user_id].push([parseFloat(J.lat_lng.coordinates[1]),parseFloat(J.lat_lng.coordinates[0])])}),console.log("Processed tracks:",q),xi(Object.values(q))},zs=async C=>{if(C.preventDefault(),!["admin","coordinator"].includes(T)){alert(l("permission-denied"));return}try{ye(!0);const{error:q}=await Se.from("search_events").insert({name:R,status:D,start_time:new Date().toISOString(),coordinator_id:ce});if(q)throw q;alert(l("event-create-success")),nt.current.delete("events"),Gn(),en()}catch(q){console.error("Error creating event:",q),alert(`${l("event-create-fail")} ${q.message}`)}finally{ye(!1)}},Yn=async C=>{if(C.preventDefault(),!["admin","coordinator"].includes(T)){alert(l("permission-denied"));return}try{ye(!0);const{error:q}=await Se.from("search_events").update({name:R,status:D}).eq("id",x.id);if(q)throw q;alert(l("event-update-success")),nt.current.delete("events"),Gn(),en()}catch(q){console.error("Error updating event:",q),alert(`${l("event-update-fail")} ${q.message}`)}finally{ye(!1)}},Xn=async C=>{if(!["admin","coordinator"].includes(T)){alert(l("permission-denied"));return}if(window.confirm(l("confirm-delete")))try{ye(!0);const{error:q}=await Se.from("missing_persons").delete().eq("event_id",C);q&&q.code!=="42P01"&&console.error("Error deleting missing persons:",q);const{error:J}=await Se.from("event_participants").delete().eq("event_id",C);J&&J.code!=="42P01"&&console.error("Error deleting participants:",J);try{const{error:Ze}=await Se.from("markers").delete().eq("event_id",C);Ze&&Ze.code!=="42P01"&&console.error("Error deleting markers:",Ze)}catch(Ze){console.warn("Markers table might not exist:",Ze)}const{error:be}=await Se.from("search_events").delete().eq("id",C);if(be)if(be.code==="42501")alert(l("permission-denied-delete"));else throw be;else alert(l("event-delete-success")),nt.current.delete("events"),Gn(),g?.id===C&&(_(null),u([]),f([]),wi([]))}catch(q){console.error("Error deleting event:",q),alert(`${l("event-delete-fail")} ${q.message}`)}finally{ye(!1)}},Zr=async C=>{try{ye(!0);const{data:q,error:J}=await Se.from("event_participants").select("*").eq("event_id",C).eq("user_id",ce);if(J)throw J;if(q&&q.length>0){const{error:be}=await Se.from("event_participants").update({left_at:null,pause_status:!1,joined_at:new Date().toISOString()}).eq("event_id",C).eq("user_id",ce);if(be)throw be;alert(l("event-rejoin-success"))}else{const{error:be}=await Se.from("event_participants").insert({event_id:C,user_id:ce,joined_at:new Date().toISOString(),pause_status:!1,left_at:null});if(be)throw be;alert(l("event-join-success"))}nt.current.delete(`event-participants-${C}`),_n(C)}catch(q){console.error("Error joining event:",q),alert(`${l("event-join-fail")} ${q.message}`)}finally{ye(!1)}},Hr=async C=>{try{ye(!0);const{error:q}=await Se.from("event_participants").update({left_at:new Date().toISOString()}).eq("event_id",C).eq("user_id",ce);if(q)throw q;alert(l("event-leave-success")),nt.current.delete(`event-participants-${C}`),_n(C)}catch(q){console.error("Error leaving event:",q),alert(`${l("event-leave-fail")} ${q.message}`)}finally{ye(!1)}},ei=async(C,q)=>{try{ye(!0);const J={};q==="paused"?J.pause_status=!0:q==="active"?J.pause_status=!1:q==="left"&&(J.left_at=new Date().toISOString());let be=Se.from("event_participants").update(J);C.id?be=be.eq("id",C.id):be=be.eq("event_id",C.event_id).eq("user_id",C.user_id);const{error:Ze}=await be;if(Ze)throw Ze;alert(l("participant-status-update-success")),nt.current.delete(`event-participants-${g.id}`),_n(g.id)}catch(J){console.error("Error updating participant status:",J),alert(`${l("participant-status-update-fail")} ${J.message}`)}finally{ye(!1)}},Wr=async()=>{if(!De)return null;try{he(!0);const C=De.name.split(".").pop(),J=`missing_persons/${`${Math.random()}.${C}`}`,{error:be}=await Se.storage.from("photos").upload(J,De);if(be)throw be;const{data:Ze}=Se.storage.from("photos").getPublicUrl(J);return Ze.publicUrl}catch(C){return console.error("Error uploading image:",C),alert("Error uploading image: "+C.message),null}finally{he(!1)}},Vr=async C=>{if(C.preventDefault(),!["admin","coordinator"].includes(T)){alert(l("permission-denied"));return}if(!g){alert(l("select-event-first"));return}try{ye(!0);let q=xe;De&&(q=await Wr());const{error:J}=await Se.from("missing_persons").insert({event_id:g.id,name:te||null,age:G?parseInt(G):null,height_cm:se?parseInt(se):null,clothing:ue||null,photo_url:q||null,behavior_category:Me||null,prob_zones:Ye?JSON.parse(Ye):null,location:Ce&&Z?{lat:parseFloat(Ce),lng:parseFloat(Z)}:null});if(J)throw J;alert(l("missing-create-success")),nt.current.delete(`missing-persons-${g.id}`),Jn(g.id),ti()}catch(q){console.error("Error creating missing person:",q),alert(`${l("missing-create-fail")} ${q.message}`)}finally{ye(!1)}},On=async C=>{if(C.preventDefault(),!["admin","coordinator"].includes(T)){alert(l("permission-denied"));return}if(!w){alert(l("select-person-first"));return}try{ye(!0);const q={};te!==w.name&&(q.name=te||null);const J=w.age?parseInt(w.age):null,be=G?parseInt(G):null;be!==J&&(q.age=be);const Ze=w.height_cm?parseInt(w.height_cm):null,jt=se?parseInt(se):null;if(jt!==Ze&&(q.height_cm=jt),ue!==w.clothing&&(q.clothing=ue||null),Me!==w.behavior_category&&(q.behavior_category=Me||null,q.prob_zones=null),Ye!==JSON.stringify(w.prob_zones||{})&&!q.prob_zones)try{if(Ye){q.prob_zones=JSON.parse(Ye);for(const ii in q.prob_zones){const ri=q.prob_zones[ii];if(!Array.isArray(ri)||ri.length<3)throw new Error("Invalid zone: minimum 3 points required");let si=0;for(let oi=0;oi<ri.length-1;oi++){const Wt=ri[oi],Ci=ri[oi+1];if(typeof Wt.lat!="number"||typeof Wt.lng!="number"||Wt.lat<-90||Wt.lat>90||Wt.lng<-180||Wt.lng>180)throw new Error(`Invalid coordinates in zone ${ii}: lat=${Wt.lat}, lng=${Wt.lng}`);si+=Wt.lng*Ci.lat-Ci.lng*Wt.lat}if(si=Math.abs(si)/2*111.32**2,si>100)throw new Error(`Zone ${ii} area too large: ${si} km², max allowed: 100 km²`)}}}catch(ii){console.error("Error parsing or validating prob_zones:",ii),alert(l("invalid-prob-zones"));return}const ni=w.location?.lat,tn=w.location?.lng,mt=Ce?parseFloat(Ce):null,nn=Z?parseFloat(Z):null;(mt!==ni||nn!==tn)&&(q.location=mt&&nn?{lat:mt,lng:nn}:null);let Yi=w.photo_url;if(De&&(Yi=await Wr(),q.photo_url=Yi||null),Object.keys(q).length===0&&!De){alert(l("no-changes-detected"));return}const{error:Os}=await Se.from("missing_persons").update(q).eq("id",w.id);if(Os)throw Os;alert(l("missing-update-success")),nt.current.delete(`missing-persons-${g.id}`),Jn(g.id),ti()}catch(q){console.error("Error updating missing person:",q),alert(`${l("missing-update-fail")} ${q.message}`)}finally{ye(!1)}},qr=async C=>{if(!["admin","coordinator"].includes(T)){alert(l("permission-denied"));return}if(window.confirm(l("confirm-delete")))try{ye(!0);const{error:q}=await Se.from("missing_persons").delete().eq("id",C);if(q)throw q;alert(l("missing-delete-success")),nt.current.delete(`missing-persons-${g.id}`),Jn(g.id),ti()}catch(q){console.error("Error deleting missing person:",q),alert(`${l("missing-delete-fail")} ${q.message}`)}finally{ye(!1)}},Kr=C=>{console.log("Selected event:",C),_(C),Jn(C.id),_n(C.id),Si(C.id),ti()},Gi=C=>{j(C),A(C.name),$(C.status)},Nn=C=>{S(C),ie(C.name||""),Y(C.age||""),oe(C.height_cm||""),ve(C.clothing||""),We(C.photo_url||""),Ue(C.behavior_category||""),ze(C.prob_zones?JSON.stringify(C.prob_zones):""),K(C.location?.lat||""),B(C.location?.lng||""),ae(null)},en=()=>{j(null),A(""),$("active")},ti=()=>{S(null),ie(""),Y(""),oe(""),ve(""),ae(null),We(""),Ue(""),ze(""),K(""),B("")},js=C=>{K(C.lat),B(C.lng)},Ji=C=>{const q={openstreetmap:!1,turistautak:!1,satellite:!1};q[C]=!0,Fr(q)},Gr=(C,q)=>{(C===""||/^\d+$/.test(C))&&q(C)},Jr=(C,q)=>{(C===""||/^-?\d*\.?\d*$/.test(C))&&q(C)},Qr=(C,q)=>C!==q?P.jsxs("span",{className:"text-green-600 text-sm",children:[" ",l("field-changed")]}):P.jsxs("span",{className:"text-gray-400 text-sm",children:[" ",l("field-unchanged")]}),Qi=C=>{if(!C||!ki)return console.log("Prob zones skipped: probZones is null or showProbZones is false",{probZones:C,showProbZones:ki}),null;try{console.log("Processing prob_zones:",C);const q=typeof C=="string"?JSON.parse(C):C,J=["zone95","zone75","zone50","zone25"],be=["#0000FF","#008000","#FFA500","#FF0000"],Ze=[l("zone-95"),l("zone-75"),l("zone-50"),l("zone-25")];return J.map((jt,ni)=>{const tn=q[jt];return tn?Array.isArray(tn)&&tn.every(mt=>typeof mt.lat=="number"&&typeof mt.lng=="number")?P.jsx(Hy,{positions:tn.map(mt=>[mt.lat,mt.lng]),color:be[ni],fillOpacity:.3,weight:2,children:P.jsx(Ra,{children:Ze[ni]})},`${jt}-${ni}`):(console.warn(`Invalid zone data for ${jt}:`,tn),null):(console.warn(`Zone ${jt} not found in prob_zones`,q),null)}).filter(Boolean)}catch(q){return console.error("Error processing prob_zones:",q,C),null}},Pi=C=>C.user_name?C.user_name:C.user?.full_name?C.user.full_name:C.name?C.name:"N/A",Yr=C=>C.user_phone?C.user_phone:C.user?.phone_number?C.user.phone_number:C.phone_number?C.phone_number:C.phone?C.phone:"N/A",Ei=C=>{const q=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FF8000","#8000FF","#0080FF","#FF0080","#80FF00","#00FF80"];return q[C%q.length]};return ce?P.jsxs("section",{className:"p-4",children:[P.jsx("h2",{className:"text-2xl font-bold mb-4",children:l("search-manager-h2")}),Ke&&P.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[Ke,P.jsx("button",{className:"ml-4 text-red-900 underline",onClick:()=>st(null),children:l("dismiss")})]}),Le&&P.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4",children:[l("loading"),"..."]}),["admin","coordinator"].includes(T)?P.jsxs(P.Fragment,{children:[P.jsx("h3",{className:"text-xl font-semibold mb-2",children:l("events-h2")}),P.jsx("div",{className:"overflow-x-auto",children:P.jsxs("table",{className:"w-full border-collapse mb-4",children:[P.jsx("thead",{children:P.jsxs("tr",{className:"bg-gray-200",children:[P.jsx("th",{className:"border p-2",children:l("event-table-name")}),P.jsx("th",{className:"border p-2",children:l("event-table-status")}),P.jsx("th",{className:"border p-2",children:l("event-table-starttime")}),P.jsx("th",{className:"border p-2",children:l("actions-label")})]})}),P.jsx("tbody",{children:i.map(C=>P.jsxs("tr",{className:"hover:bg-gray-100",children:[P.jsx("td",{className:"border p-2",children:C.name}),P.jsx("td",{className:"border p-2",children:C.status}),P.jsx("td",{className:"border p-2",children:new Date(C.start_time).toLocaleString()}),P.jsxs("td",{className:"border p-2",children:[P.jsx("button",{className:"bg-blue-500 text-white px-2 py-1 rounded mr-2 mb-1",onClick:()=>Kr(C),children:l("select-event-btn")}),P.jsx("button",{className:"bg-green-500 text-white px-2 py-1 rounded mr-2 mb-1",onClick:()=>Zr(C.id),children:l("join-event-btn")}),["admin","coordinator"].includes(T)&&P.jsxs(P.Fragment,{children:[P.jsx("button",{className:"bg-yellow-500 text-white px-2 py-1 rounded mr-2 mb-1",onClick:()=>Gi(C),children:l("update-event-btn")}),P.jsx("button",{className:"bg-red-500 text-white px-2 py-1 rounded mb-1",onClick:()=>Xn(C.id),children:l("delete-event-btn")})]})]})]},C.id))})]})}),P.jsxs("form",{onSubmit:x?Yn:zs,className:"mb-8",children:[P.jsx("label",{className:"block mb-2",children:l("event-name-label")}),P.jsx("input",{className:"border p-2 w-full mb-2",value:R,onChange:C=>A(C.target.value),required:!0}),P.jsx("label",{className:"block mb-2",children:l("event-status-label")}),P.jsxs("select",{className:"border p-2 w-full mb-2",value:D,onChange:C=>$(C.target.value),children:[P.jsx("option",{value:"active",children:l("status-active")}),P.jsx("option",{value:"paused",children:l("status-paused")}),P.jsx("option",{value:"completed",children:l("status-completed")})]}),P.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",type:"submit",disabled:Le,children:l(x?"update-event-btn":"create-event-btn")}),x&&P.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded ml-2",type:"button",onClick:en,disabled:Le,children:l("cancel-btn")})]}),g&&P.jsxs(P.Fragment,{children:[P.jsx("h3",{className:"text-xl font-semibold mb-2",children:l("map-h2")}),P.jsxs("div",{className:"mb-4 flex flex-col space-y-2",children:[P.jsxs("div",{className:"flex space-x-2",children:[P.jsx("button",{className:`px-3 py-1 rounded ${gn.openstreetmap?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>Ji("openstreetmap"),children:"OpenStreetMap"}),P.jsx("button",{className:`px-3 py-1 rounded ${gn.turistautak?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>Ji("turistautak"),children:"Turistautak"}),P.jsx("button",{className:`px-3 py-1 rounded ${gn.satellite?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>Ji("satellite"),children:"Műhold"})]}),P.jsxs("label",{className:"flex items-center space-x-2",children:[P.jsx("input",{type:"checkbox",checked:ki,onChange:C=>Kn(C.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),P.jsx("span",{children:l("show-prob-zones")})]})]}),P.jsxs(Ah,{center:[47.4979,19.0402],zoom:10,style:{height:"400px",width:"100%",marginBottom:"20px"},children:[P.jsxs(Oo,{position:"topright",children:[P.jsx(Oo.BaseLayer,{checked:gn.openstreetmap,name:l("openstreetmap-layer")||"OpenStreetMap",children:P.jsx(Ia,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",maxZoom:19})}),P.jsx(Oo.BaseLayer,{checked:gn.turistautak,name:l("turistautak-layer")||"Turistautak",children:P.jsx(Ia,{attribution:"© turistautak.hu",url:"http://terkep.turistautak.hu/tiles/turistautak-domborzattal/{z}/{x}/{y}.png",maxZoom:17})}),P.jsx(Oo.BaseLayer,{checked:gn.satellite,name:l("satellite-layer")||"Műhold",children:P.jsx(Ia,{attribution:'© <a href="https://www.maptiler.com/copyright/" target="_blank">© MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">© OpenStreetMap contributors</a>',url:"https://api.maptiler.com/maps/hybrid/{z}/{x}/{y}.jpg?key=YOUR_MAPTILER_KEY",maxZoom:19})})]}),P.jsx(Ky,{missingPersons:a,markers:jn}),a.map(C=>C.location?.lat&&C.location?.lng?P.jsx(fu,{position:[C.location.lat,C.location.lng],icon:Va.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),children:P.jsx(Ra,{children:P.jsxs("div",{children:[P.jsx("h3",{className:"font-bold",children:C.name}),P.jsxs("p",{children:[l("age"),": ",C.age]}),P.jsxs("p",{children:[l("clothing"),": ",C.clothing]}),C.photo_url&&P.jsx("img",{src:C.photo_url,alt:C.name,style:{width:"100px",height:"100px",objectFit:"cover"}})]})})},`person-${C.id}`):null),jn.map(C=>{try{if(C.lat_lng&&C.lat_lng.coordinates&&C.lat_lng.coordinates.length>=2){const q=parseFloat(C.lat_lng.coordinates[1]),J=parseFloat(C.lat_lng.coordinates[0]);return isNaN(q)||isNaN(J)?(console.error("Invalid coordinates for marker:",C),null):P.jsx(fu,{position:[q,J],children:P.jsx(Ra,{children:P.jsxs("div",{children:[P.jsx("p",{className:"font-bold",children:l("marker")}),P.jsxs("p",{children:[l("marker-type"),": ",C.type||"N/A"]}),P.jsxs("p",{children:[l("user"),": ",C.user?.full_name||"N/A"]}),P.jsxs("p",{children:[l("phone-number"),": ",C.user?.phone_number||"N/A"]}),C.created_at&&P.jsxs("p",{children:[l("recording-time"),": ",new Date(C.created_at).toLocaleString()]}),P.jsxs("p",{children:[l("coordinates"),": ",q.toFixed(6),", ",J.toFixed(6)]})]})})},`marker-${C.id}`)}}catch(q){console.error("Error rendering marker:",q,C)}return null}),bi.map((C,q)=>{if(C&&C.length>0){if(C.every(be=>be&&be.length===2&&!isNaN(be[0])&&!isNaN(be[1])))return P.jsx(Wy,{positions:C,color:Ei(q),weight:4,opacity:.7},q);console.error("Invalid track:",C)}return null}),a.map(C=>Qi(C.prob_zones))]})]}),g&&P.jsxs(P.Fragment,{children:[P.jsxs("h3",{className:"text-xl font-semibold mb-2",children:[l("participants-h2")," - ",g.name]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("button",{className:"bg-green-500 text-white px-4 py-2 rounded mr-2",onClick:()=>Zr(g.id),disabled:Le,children:l("join-event-btn")}),P.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded",onClick:()=>Hr(g.id),disabled:Le,children:l("leave-event-btn")})]}),P.jsx("div",{className:"overflow-x-auto",children:P.jsxs("table",{className:"w-full border-collapse mb-4",children:[P.jsx("thead",{children:P.jsxs("tr",{className:"bg-gray-200",children:[P.jsx("th",{className:"border p-2",children:l("participant-table-name")}),P.jsx("th",{className:"border p-2",children:l("participant-table-phone")}),P.jsx("th",{className:"border p-2",children:l("participant-table-joined")}),P.jsx("th",{className:"border p-2",children:l("participant-table-left")}),P.jsx("th",{className:"border p-2",children:l("actions-label")})]})}),P.jsx("tbody",{children:d.map(C=>P.jsxs("tr",{className:"hover:bg-gray-100",children:[P.jsx("td",{className:"border p-2",children:Pi(C)}),P.jsx("td",{className:"border p-2",children:Yr(C)}),P.jsx("td",{className:"border p-2",children:C.joined_at?new Date(C.joined_at).toLocaleString():"N/A"}),P.jsx("td",{className:"border p-2",children:C.left_at?new Date(C.left_at).toLocaleString():"-"}),P.jsx("td",{className:"border p-2",children:C.left_at?P.jsx("button",{className:"bg-green-500 text-white px-2 py-1 rounded mr-2 mb-1",onClick:()=>Zr(g.id),disabled:Le,children:l("rejoin-participant-btn")}):P.jsxs(P.Fragment,{children:[P.jsx("button",{className:"bg-yellow-500 text-white px-2 py-1 rounded mr-2 mb-1",onClick:()=>ei(C,"paused"),disabled:Le||C.pause_status,children:l("pause-participant-btn")}),P.jsx("button",{className:"bg-green-500 text-white px-2 py-1 rounded mr-2 mb-1",onClick:()=>ei(C,"active"),disabled:Le||!C.pause_status,children:l("resume-participant-btn")}),P.jsx("button",{className:"bg-red-500 text-white px-2 py-1 rounded mb-1",onClick:()=>ei(C,"left"),disabled:Le,children:l("leave-participant-btn")})]})})]},C.id||`${C.event_id}-${C.user_id}`))})]})})]}),g&&P.jsxs(P.Fragment,{children:[P.jsxs("h3",{className:"text-xl font-semibold mb-2",children:[l("missing-persons-editor-h2")," - ",g.name]}),P.jsx("div",{className:"overflow-x-auto",children:P.jsxs("table",{className:"w-full border-collapse mb-4",children:[P.jsx("thead",{children:P.jsxs("tr",{className:"bg-gray-200",children:[P.jsx("th",{className:"border p-2",children:l("missing-table-name")}),P.jsx("th",{className:"border p-2",children:l("missing-table-age")}),P.jsx("th",{className:"border p-2",children:l("missing-table-height")}),P.jsx("th",{className:"border p-2",children:l("missing-table-clothing")}),P.jsx("th",{className:"border p-2",children:l("missing-table-photo")}),P.jsx("th",{className:"border p-2",children:l("missing-table-behavior")}),P.jsx("th",{className:"border p-2",children:l("missing-table-location")}),P.jsx("th",{className:"border p-2",children:l("actions-label")})]})}),P.jsx("tbody",{children:a.map(C=>P.jsxs("tr",{className:"hover:bg-gray-100",children:[P.jsx("td",{className:"border p-2",children:C.name}),P.jsx("td",{className:"border p-2",children:C.age}),P.jsx("td",{className:"border p-2",children:C.height_cm}),P.jsx("td",{className:"border p-2",children:C.clothing}),P.jsx("td",{className:"border p-2",children:C.photo_url&&P.jsx("img",{src:C.photo_url,alt:C.name,style:{width:"100px",height:"100px",objectFit:"cover"},onClick:()=>window.open(C.photo_url,"_blank"),className:"cursor-pointer"})}),P.jsx("td",{className:"border p-2",children:l(`behavior-${C.behavior_category||"default"}`)}),P.jsx("td",{className:"border p-2",children:C.location&&P.jsxs("span",{children:[C.location.lat,", ",C.location.lng]})}),P.jsxs("td",{className:"border p-2",children:[P.jsx("button",{className:"bg-blue-500 text-white px-2 py-1 rounded mr-2 mb-1",onClick:()=>Nn(C),disabled:Le,children:l("update-missing-btn")}),P.jsx("button",{className:"bg-red-500 text-white px-2 py-1 rounded mb-1",onClick:()=>qr(C.id),disabled:Le,children:l("delete-missing-btn")})]})]},C.id))})]})}),P.jsxs("form",{onSubmit:w?On:Vr,className:"mb-8",children:[P.jsxs("label",{className:"block mb-2",children:[l("name-label"),Qr(te,w?.name||"")]}),P.jsx("input",{className:"border p-2 w-full mb-2",value:te,onChange:C=>ie(C.target.value)}),P.jsx("label",{className:"block mb-2",children:l("age-label")}),P.jsx("input",{className:"border p-2 w-full mb-2",type:"number",value:G,onChange:C=>Gr(C.target.value,Y),min:"0",max:"150"}),P.jsx("label",{className:"block mb-2",children:l("height-label")}),P.jsx("input",{className:"border p-2 w-full mb-2",type:"number",value:se,onChange:C=>Gr(C.target.value,oe),min:"0",max:"300"}),P.jsx("label",{className:"block mb-2",children:l("clothing-label")}),P.jsx("input",{className:"border p-2 w-full mb-2",value:ue,onChange:C=>ve(C.target.value)}),P.jsx("label",{className:"block mb-2",children:l("photo-label")}),P.jsx("input",{className:"border p-2 w-full mb-2",type:"file",accept:"image/*",onChange:C=>ae(C.target.files[0])}),xe&&P.jsx("div",{className:"mb-2",children:P.jsx("img",{src:xe,alt:"Preview",style:{width:"200px",height:"200px",objectFit:"contain"}})}),pe&&P.jsx("p",{children:l("uploading")}),P.jsx("label",{className:"block mb-2",children:l("behavior-category-label")}),P.jsxs("select",{className:"border p-2 w-full mb-2",value:Me,onChange:C=>Ue(C.target.value),children:[P.jsx("option",{value:"",children:l("select-behavior-category")}),vn.map(C=>P.jsx("option",{value:C.value,children:C.label},C.value))]}),P.jsx("label",{className:"block mb-2",children:l("prob-zones-label")}),P.jsx("textarea",{className:"border p-2 w-full mb-2",value:Ye,onChange:C=>ze(C.target.value),placeholder:'{"zone1": [{"lat": 47.5, "lng": 19.0}, {"lat": 47.6, "lng": 19.1}], "zone2": [{"lat": 47.4, "lng": 19.2}, {"lat": 47.5, "lng": 19.3}]}'}),P.jsx("label",{className:"block mb-2",children:l("location-label")}),P.jsx(qy,{onLocationSelected:js,initialLat:Ce?parseFloat(Ce):null,initialLng:Z?parseFloat(Z):null}),P.jsx("label",{className:"block mb-2",children:l("location-lat-label")}),P.jsx("input",{className:"border p-2 w-full mb-2",type:"text",value:Ce,onChange:C=>Jr(C.target.value,K),placeholder:"47.4979",step:"any"}),P.jsx("label",{className:"block mb-2",children:l("location-lng-label")}),P.jsx("input",{className:"border p-2 w-full mb-2",type:"text",value:Z,onChange:C=>Jr(C.target.value,B),placeholder:"19.0402",step:"any"}),P.jsx("button",{className:`px-4 py-2 rounded ${mn||De?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,type:"submit",disabled:!mn&&!De||pe||Le,children:l(w?"update-missing-btn":"create-missing-btn")}),w&&P.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded ml-2",type:"button",onClick:ti,disabled:Le,children:l("cancel-btn")}),mn&&P.jsx("div",{className:"mt-2 text-sm text-green-600",children:l("changes-detected")})]})]})]}):P.jsx("p",{className:"text-red-500",children:l("permission-denied")})]}):P.jsx("div",{children:l("loading")})},Jy=()=>{const{t:l}=Mo(),[i,r]=I.useState([]),[a,u]=I.useState(null);I.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:f,error:g}=await Se.from("markers").select("*");if(g)throw g;r(f||[]),u(null)}catch(f){console.error("Error loading markers:",f),u(l("error-loading-markers","Failed to load markers: ")+f.message)}};return P.jsxs("section",{children:[P.jsx("h2",{children:l("map-h2")}),a&&P.jsx("p",{style:{color:"red"},children:a}),P.jsxs(Ah,{center:[47.4979,19.0402],zoom:13,style:{height:"500px"},children:[P.jsx(Ia,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:"© OpenStreetMap"}),i.map(f=>{if(f.lat_lng&&f.lat_lng.coordinates&&Array.isArray(f.lat_lng.coordinates)){const[g,_]=f.lat_lng.coordinates;if(typeof _=="number"&&typeof g=="number")return P.jsx(fu,{position:[_,g],children:P.jsxs(Ra,{children:["Marker ID: ",f.id,P.jsx("br",{}),"Type: ",f.type||"N/A"]})},f.id)}return null})]})]})},Qy=()=>{const{t:l}=Mo(),[i,r]=I.useState([]),[a,u]=I.useState(null),[d,f]=I.useState(""),[g,_]=I.useState(""),[w,S]=I.useState(""),[x,j]=I.useState(""),[R,A]=I.useState(""),[D,$]=I.useState(null),[te,ie]=I.useState(!0);I.useEffect(()=>{Y(),G()},[]);const G=async()=>{try{ie(!0);const{data:{user:ae}}=await Se.auth.getUser();if(ae){const xe=ae.user_metadata?.role;$(xe)}}catch(ae){console.error("Error fetching user role:",ae.message)}finally{ie(!1)}},Y=async()=>{try{const{data:ae,error:xe}=await Se.from("help_content").select("*");if(xe)throw xe;console.log("Loaded help content:",ae),r(ae||[])}catch(ae){console.error("Error loading help content:",ae),alert(l("error-loading-help")+": "+ae.message)}},se=async ae=>{if(ae.preventDefault(),!["admin","coordinator"].includes(D)){alert(l("permission-denied"));return}if(te){alert(l("loading-role-please-wait"));return}try{const xe={text_hu:d||null,text_en:g||null,text_sk:w||null,text_ro:x||null,text_pl:R||null};console.log("Inserting help content:",xe);const{data:We,error:Me}=await Se.from("help_content").insert(xe).select();if(Me)throw Me;console.log("Insert successful, returned data:",We),alert(l("help-create-success")),Y(),De()}catch(xe){console.error("Error inserting help content:",xe),alert(`${l("help-create-fail")} ${xe.message}`)}},oe=async ae=>{if(ae.preventDefault(),!["admin","coordinator"].includes(D)){alert(l("permission-denied"));return}try{const xe={text_hu:d,text_en:g,text_sk:w,text_ro:x,text_pl:R};console.log("Updating help content:",xe,"ID:",a.id);const{data:We,error:Me}=await Se.from("help_content").update(xe).eq("id",a.id).select();if(Me)throw Me;console.log("Update successful, returned data:",We),alert(l("help-update-success")),Y(),De()}catch(xe){console.error("Error updating help content:",xe),alert(`${l("help-update-fail")} ${xe.message}`)}},ue=async ae=>{if(!["admin","coordinator"].includes(D)){alert(l("permission-denied"));return}if(window.confirm(l("confirm-delete")))try{console.log("Deleting help content, ID:",ae);const{error:xe}=await Se.from("help_content").delete().eq("id",ae);if(xe)throw xe;alert(l("help-delete-success")),Y()}catch(xe){console.error("Error deleting help content:",xe),alert(`${l("help-delete-fail")} ${xe.message}`)}},ve=ae=>{u(ae),f(ae.text_hu),_(ae.text_en),S(ae.text_sk),j(ae.text_ro),A(ae.text_pl)},De=()=>{u(null),f(""),_(""),S(""),j(""),A("")};return P.jsxs("section",{children:[P.jsx("h2",{children:l("help-editor-h2")}),te?P.jsx("p",{children:l("loading-role-please-wait")}):["admin","coordinator"].includes(D)?P.jsxs(P.Fragment,{children:[P.jsxs("table",{children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:l("help-table-text-hu")}),P.jsx("th",{children:l("actions-label")})]})}),P.jsx("tbody",{children:i.map(ae=>P.jsxs("tr",{children:[P.jsx("td",{children:ae.text_hu}),P.jsxs("td",{children:[P.jsx("button",{onClick:()=>ve(ae),children:l("update-help-btn")}),P.jsx("button",{className:"delete-btn",onClick:()=>ue(ae.id),children:l("delete-help-btn")})]})]},ae.id))})]}),P.jsxs("form",{onSubmit:a?oe:se,children:[P.jsx("label",{children:l("text-hu-label")}),P.jsx("textarea",{value:d,onChange:ae=>f(ae.target.value)}),P.jsx("label",{children:l("text-en-label")}),P.jsx("textarea",{value:g,onChange:ae=>_(ae.target.value)}),P.jsx("label",{children:l("text-sk-label")}),P.jsx("textarea",{value:w,onChange:ae=>S(ae.target.value)}),P.jsx("label",{children:l("text-ro-label")}),P.jsx("textarea",{value:x,onChange:ae=>j(ae.target.value)}),P.jsx("label",{children:l("text-pl-label")}),P.jsx("textarea",{value:R,onChange:ae=>A(ae.target.value)}),P.jsx("button",{type:"submit",disabled:te,children:l(a?"update-help-btn":"create-help-btn")}),a&&P.jsx("button",{type:"button",onClick:De,children:l("cancel-btn")})]})]}):P.jsx("p",{children:l("permission-denied")})]})},Yy=()=>{const{t:l,i18n:i}=Mo(),[r,a]=I.useState(localStorage.getItem("email")||""),[u,d]=I.useState(localStorage.getItem("password")||""),[f,g]=I.useState(localStorage.getItem("full_name")||""),[_,w]=I.useState(localStorage.getItem("phone_number")||""),[S,x]=I.useState(null),[j,R]=I.useState(!1),[A,D]=I.useState(localStorage.getItem("save_credentials")==="true"),[$,te]=I.useState(!1),ie=ve=>/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(ve),G=ve=>/^\+?[1-9]\d{1,14}$/.test(ve),Y=async()=>{R(!0),x(null);try{await Se.auth.resend({type:"signup",email:r}),x(l("success-email-resent"))}catch(ve){x(l("error-resend-email-failed")+" "+ve.message)}finally{R(!1)}},se=()=>{A?(localStorage.setItem("email",r),localStorage.setItem("password",u),localStorage.setItem("full_name",f),localStorage.setItem("phone_number",_),localStorage.setItem("save_credentials","true")):(localStorage.removeItem("email"),localStorage.removeItem("password"),localStorage.removeItem("full_name"),localStorage.removeItem("phone_number"),localStorage.setItem("save_credentials","false"))},oe=async()=>{if(!ie(r))return x(l("error-invalid-email"));if(u.length<6)return x(l("error-password-too-short"));if(!f)return x(l("error-full-name-required"));if(!G(_))return x(l("error-invalid-phone"));R(!0),x(null),te(!1);try{const{data:ve,error:De}=await Se.auth.signUp({email:r,password:u,options:{data:{full_name:f,phone_number:_,language:i.language,track_color:"#000000",role:"searcher"}}});if(De)throw De;if(ve.user){const{error:ae}=await Se.from("users").insert({id:ve.user.id,email:r,full_name:f,phone_number:_,role:"searcher",active:!0});if(ae)throw ae;se(),x(l("error-email-confirmation-required")),te(!0)}}catch(ve){x(l("error-registration-error")+" "+ve.message)}finally{R(!1)}},ue=async()=>{if(!ie(r))return x(l("error-invalid-email"));if(!u)return x(l("error-password-required"));R(!0),x(null),te(!1);try{const{error:ve}=await Se.auth.signInWithPassword({email:r,password:u});if(ve)throw ve;se()}catch(ve){ve.message.includes("Email not confirmed")?(x(l("error-email-not-confirmed")),te(!0)):x(l("error-login-error")+" "+ve.message)}finally{R(!1)}};return P.jsxs("div",{style:{maxWidth:"400px",margin:"auto",padding:"20px"},children:[P.jsx("h2",{children:l("login-header")}),S&&P.jsx("p",{style:{color:"red"},children:S}),P.jsxs("form",{children:[P.jsx("label",{children:l("login-email")}),P.jsx("input",{type:"email",value:r,onChange:ve=>a(ve.target.value),required:!0}),P.jsx("label",{children:l("login-password")}),P.jsx("input",{type:"password",value:u,onChange:ve=>d(ve.target.value),required:!0}),P.jsx("label",{children:l("login-full-name")}),P.jsx("input",{value:f,onChange:ve=>g(ve.target.value),required:!0}),P.jsx("label",{children:l("login-phone-number")}),P.jsx("input",{value:_,onChange:ve=>w(ve.target.value),required:!0}),P.jsxs("label",{children:[P.jsx("input",{type:"checkbox",checked:A,onChange:ve=>D(ve.target.checked)}),l("login-save-credentials")]}),P.jsx("button",{type:"button",onClick:oe,disabled:j,children:l("login-register")}),P.jsx("button",{type:"button",onClick:ue,disabled:j,children:l("login-login")}),$&&P.jsx("button",{type:"button",onClick:Y,disabled:j,children:l("login-resend-email")})]}),j&&P.jsx("p",{children:"Loading..."})]})},Ne=l=>typeof l=="string",La=()=>{let l,i;const r=new Promise((a,u)=>{l=a,i=u});return r.resolve=l,r.reject=i,r},op=l=>l==null?"":""+l,Xy=(l,i,r)=>{l.forEach(a=>{i[a]&&(r[a]=i[a])})},ew=/###/g,ap=l=>l&&l.indexOf("###")>-1?l.replace(ew,"."):l,lp=l=>!l||Ne(l),Aa=(l,i,r)=>{const a=Ne(i)?i.split("."):i;let u=0;for(;u<a.length-1;){if(lp(l))return{};const d=ap(a[u]);!l[d]&&r&&(l[d]=new r),Object.prototype.hasOwnProperty.call(l,d)?l=l[d]:l={},++u}return lp(l)?{}:{obj:l,k:ap(a[u])}},up=(l,i,r)=>{const{obj:a,k:u}=Aa(l,i,Object);if(a!==void 0||i.length===1){a[u]=r;return}let d=i[i.length-1],f=i.slice(0,i.length-1),g=Aa(l,f,Object);for(;g.obj===void 0&&f.length;)d=`${f[f.length-1]}.${d}`,f=f.slice(0,f.length-1),g=Aa(l,f,Object),g?.obj&&typeof g.obj[`${g.k}.${d}`]<"u"&&(g.obj=void 0);g.obj[`${g.k}.${d}`]=r},tw=(l,i,r,a)=>{const{obj:u,k:d}=Aa(l,i,Object);u[d]=u[d]||[],u[d].push(r)},pu=(l,i)=>{const{obj:r,k:a}=Aa(l,i);if(r&&Object.prototype.hasOwnProperty.call(r,a))return r[a]},nw=(l,i,r)=>{const a=pu(l,r);return a!==void 0?a:pu(i,r)},om=(l,i,r)=>{for(const a in i)a!=="__proto__"&&a!=="constructor"&&(a in l?Ne(l[a])||l[a]instanceof String||Ne(i[a])||i[a]instanceof String?r&&(l[a]=i[a]):om(l[a],i[a],r):l[a]=i[a]);return l},Lo=l=>l.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var iw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const rw=l=>Ne(l)?l.replace(/[&<>"'\/]/g,i=>iw[i]):l;class sw{constructor(i){this.capacity=i,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(i){const r=this.regExpMap.get(i);if(r!==void 0)return r;const a=new RegExp(i);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(i,a),this.regExpQueue.push(i),a}}const ow=[" ",",","?","!",";"],aw=new sw(20),lw=(l,i,r)=>{i=i||"",r=r||"";const a=ow.filter(f=>i.indexOf(f)<0&&r.indexOf(f)<0);if(a.length===0)return!0;const u=aw.getRegExp(`(${a.map(f=>f==="?"?"\\?":f).join("|")})`);let d=!u.test(l);if(!d){const f=l.indexOf(r);f>0&&!u.test(l.substring(0,f))&&(d=!0)}return d},bh=(l,i,r=".")=>{if(!l)return;if(l[i])return Object.prototype.hasOwnProperty.call(l,i)?l[i]:void 0;const a=i.split(r);let u=l;for(let d=0;d<a.length;){if(!u||typeof u!="object")return;let f,g="";for(let _=d;_<a.length;++_)if(_!==d&&(g+=r),g+=a[_],f=u[g],f!==void 0){if(["string","number","boolean"].indexOf(typeof f)>-1&&_<a.length-1)continue;d+=_-d+1;break}u=f}return u},$a=l=>l?.replace("_","-"),uw={type:"logger",log(l){this.output("log",l)},warn(l){this.output("warn",l)},error(l){this.output("error",l)},output(l,i){console?.[l]?.apply?.(console,i)}};class mu{constructor(i,r={}){this.init(i,r)}init(i,r={}){this.prefix=r.prefix||"i18next:",this.logger=i||uw,this.options=r,this.debug=r.debug}log(...i){return this.forward(i,"log","",!0)}warn(...i){return this.forward(i,"warn","",!0)}error(...i){return this.forward(i,"error","")}deprecate(...i){return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(i,r,a,u){return u&&!this.debug?null:(Ne(i[0])&&(i[0]=`${a}${this.prefix} ${i[0]}`),this.logger[r](i))}create(i){return new mu(this.logger,{prefix:`${this.prefix}:${i}:`,...this.options})}clone(i){return i=i||this.options,i.prefix=i.prefix||this.prefix,new mu(this.logger,i)}}var yi=new mu;class bu{constructor(){this.observers={}}on(i,r){return i.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const u=this.observers[a].get(r)||0;this.observers[a].set(r,u+1)}),this}off(i,r){if(this.observers[i]){if(!r){delete this.observers[i];return}this.observers[i].delete(r)}}emit(i,...r){this.observers[i]&&Array.from(this.observers[i].entries()).forEach(([u,d])=>{for(let f=0;f<d;f++)u(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([u,d])=>{for(let f=0;f<d;f++)u.apply(u,[i,...r])})}}class cp extends bu{constructor(i,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=i||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}removeNamespaces(i){const r=this.options.ns.indexOf(i);r>-1&&this.options.ns.splice(r,1)}getResource(i,r,a,u={}){const d=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,f=u.ignoreJSONStructure!==void 0?u.ignoreJSONStructure:this.options.ignoreJSONStructure;let g;i.indexOf(".")>-1?g=i.split("."):(g=[i,r],a&&(Array.isArray(a)?g.push(...a):Ne(a)&&d?g.push(...a.split(d)):g.push(a)));const _=pu(this.data,g);return!_&&!r&&!a&&i.indexOf(".")>-1&&(i=g[0],r=g[1],a=g.slice(2).join(".")),_||!f||!Ne(a)?_:bh(this.data?.[i]?.[r],a,d)}addResource(i,r,a,u,d={silent:!1}){const f=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator;let g=[i,r];a&&(g=g.concat(f?a.split(f):a)),i.indexOf(".")>-1&&(g=i.split("."),u=r,r=g[1]),this.addNamespaces(r),up(this.data,g,u),d.silent||this.emit("added",i,r,a,u)}addResources(i,r,a,u={silent:!1}){for(const d in a)(Ne(a[d])||Array.isArray(a[d]))&&this.addResource(i,r,d,a[d],{silent:!0});u.silent||this.emit("added",i,r,a)}addResourceBundle(i,r,a,u,d,f={silent:!1,skipCopy:!1}){let g=[i,r];i.indexOf(".")>-1&&(g=i.split("."),u=a,a=r,r=g[1]),this.addNamespaces(r);let _=pu(this.data,g)||{};f.skipCopy||(a=JSON.parse(JSON.stringify(a))),u?om(_,a,d):_={..._,...a},up(this.data,g,_),f.silent||this.emit("added",i,r,a)}removeResourceBundle(i,r){this.hasResourceBundle(i,r)&&delete this.data[i][r],this.removeNamespaces(r),this.emit("removed",i,r)}hasResourceBundle(i,r){return this.getResource(i,r)!==void 0}getResourceBundle(i,r){return r||(r=this.options.defaultNS),this.getResource(i,r)}getDataByLanguage(i){return this.data[i]}hasLanguageSomeTranslations(i){const r=this.getDataByLanguage(i);return!!(r&&Object.keys(r)||[]).find(u=>r[u]&&Object.keys(r[u]).length>0)}toJSON(){return this.data}}var am={processors:{},addPostProcessor(l){this.processors[l.name]=l},handle(l,i,r,a,u){return l.forEach(d=>{i=this.processors[d]?.process(i,r,a,u)??i}),i}};const lm=Symbol("i18next/PATH_KEY");function cw(){const l=[],i=Object.create(null);let r;return i.get=(a,u)=>(r?.revoke?.(),u===lm?l:(l.push(u),r=Proxy.revocable(a,i),r.proxy)),Proxy.revocable(Object.create(null),i).proxy}function xh(l,i){const{[lm]:r}=l(cw());return r.join(i?.keySeparator??".")}const hp={},dp=l=>!Ne(l)&&typeof l!="boolean"&&typeof l!="number";class gu extends bu{constructor(i,r={}){super(),Xy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=yi.create("translator")}changeLanguage(i){i&&(this.language=i)}exists(i,r={interpolation:{}}){const a={...r};return i==null?!1:this.resolve(i,a)?.res!==void 0}extractFromKey(i,r){let a=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const u=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let d=r.ns||this.options.defaultNS||[];const f=a&&i.indexOf(a)>-1,g=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!lw(i,a,u);if(f&&!g){const _=i.match(this.interpolator.nestingRegexp);if(_&&_.length>0)return{key:i,namespaces:Ne(d)?[d]:d};const w=i.split(a);(a!==u||a===u&&this.options.ns.indexOf(w[0])>-1)&&(d=w.shift()),i=w.join(u)}return{key:i,namespaces:Ne(d)?[d]:d}}translate(i,r,a){let u=typeof r=="object"?{...r}:r;if(typeof u!="object"&&this.options.overloadTranslationOptionHandler&&(u=this.options.overloadTranslationOptionHandler(arguments)),typeof u=="object"&&(u={...u}),u||(u={}),i==null)return"";typeof i=="function"&&(i=xh(i,{...this.options,...u})),Array.isArray(i)||(i=[String(i)]);const d=u.returnDetails!==void 0?u.returnDetails:this.options.returnDetails,f=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,{key:g,namespaces:_}=this.extractFromKey(i[i.length-1],u),w=_[_.length-1];let S=u.nsSeparator!==void 0?u.nsSeparator:this.options.nsSeparator;S===void 0&&(S=":");const x=u.lng||this.language,j=u.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(x?.toLowerCase()==="cimode")return j?d?{res:`${w}${S}${g}`,usedKey:g,exactUsedKey:g,usedLng:x,usedNS:w,usedParams:this.getUsedParamsDetails(u)}:`${w}${S}${g}`:d?{res:g,usedKey:g,exactUsedKey:g,usedLng:x,usedNS:w,usedParams:this.getUsedParamsDetails(u)}:g;const R=this.resolve(i,u);let A=R?.res;const D=R?.usedKey||g,$=R?.exactUsedKey||g,te=["[object Number]","[object Function]","[object RegExp]"],ie=u.joinArrays!==void 0?u.joinArrays:this.options.joinArrays,G=!this.i18nFormat||this.i18nFormat.handleAsObject,Y=u.count!==void 0&&!Ne(u.count),se=gu.hasDefaultValue(u),oe=Y?this.pluralResolver.getSuffix(x,u.count,u):"",ue=u.ordinal&&Y?this.pluralResolver.getSuffix(x,u.count,{ordinal:!1}):"",ve=Y&&!u.ordinal&&u.count===0,De=ve&&u[`defaultValue${this.options.pluralSeparator}zero`]||u[`defaultValue${oe}`]||u[`defaultValue${ue}`]||u.defaultValue;let ae=A;G&&!A&&se&&(ae=De);const xe=dp(ae),We=Object.prototype.toString.apply(ae);if(G&&ae&&xe&&te.indexOf(We)<0&&!(Ne(ie)&&Array.isArray(ae))){if(!u.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Me=this.options.returnedObjectHandler?this.options.returnedObjectHandler(D,ae,{...u,ns:_}):`key '${g} (${this.language})' returned an object instead of string.`;return d?(R.res=Me,R.usedParams=this.getUsedParamsDetails(u),R):Me}if(f){const Me=Array.isArray(ae),Ue=Me?[]:{},Ye=Me?$:D;for(const ze in ae)if(Object.prototype.hasOwnProperty.call(ae,ze)){const Ce=`${Ye}${f}${ze}`;se&&!A?Ue[ze]=this.translate(Ce,{...u,defaultValue:dp(De)?De[ze]:void 0,joinArrays:!1,ns:_}):Ue[ze]=this.translate(Ce,{...u,joinArrays:!1,ns:_}),Ue[ze]===Ce&&(Ue[ze]=ae[ze])}A=Ue}}else if(G&&Ne(ie)&&Array.isArray(A))A=A.join(ie),A&&(A=this.extendTranslation(A,i,u,a));else{let Me=!1,Ue=!1;!this.isValidLookup(A)&&se&&(Me=!0,A=De),this.isValidLookup(A)||(Ue=!0,A=g);const ze=(u.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ue?void 0:A,Ce=se&&De!==A&&this.options.updateMissing;if(Ue||Me||Ce){if(this.logger.log(Ce?"updateKey":"missingKey",x,w,g,Ce?De:A),f){const T=this.resolve(g,{...u,keySeparator:!1});T&&T.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let K=[];const Z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,u.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Z&&Z[0])for(let T=0;T<Z.length;T++)K.push(Z[T]);else this.options.saveMissingTo==="all"?K=this.languageUtils.toResolveHierarchy(u.lng||this.language):K.push(u.lng||this.language);const B=(T,V,ce)=>{const ge=se&&ce!==A?ce:ze;this.options.missingKeyHandler?this.options.missingKeyHandler(T,w,V,ge,Ce,u):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(T,w,V,ge,Ce,u),this.emit("missingKey",T,w,V,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Y?K.forEach(T=>{const V=this.pluralResolver.getSuffixes(T,u);ve&&u[`defaultValue${this.options.pluralSeparator}zero`]&&V.indexOf(`${this.options.pluralSeparator}zero`)<0&&V.push(`${this.options.pluralSeparator}zero`),V.forEach(ce=>{B([T],g+ce,u[`defaultValue${ce}`]||De)})}):B(K,g,De))}A=this.extendTranslation(A,i,u,R,a),Ue&&A===g&&this.options.appendNamespaceToMissingKey&&(A=`${w}${S}${g}`),(Ue||Me)&&this.options.parseMissingKeyHandler&&(A=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${w}${S}${g}`:g,Me?A:void 0,u))}return d?(R.res=A,R.usedParams=this.getUsedParamsDetails(u),R):A}extendTranslation(i,r,a,u,d){if(this.i18nFormat?.parse)i=this.i18nFormat.parse(i,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||u.usedLng,u.usedNS,u.usedKey,{resolved:u});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const _=Ne(i)&&(a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let w;if(_){const x=i.match(this.interpolator.nestingRegexp);w=x&&x.length}let S=a.replace&&!Ne(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(S={...this.options.interpolation.defaultVariables,...S}),i=this.interpolator.interpolate(i,S,a.lng||this.language||u.usedLng,a),_){const x=i.match(this.interpolator.nestingRegexp),j=x&&x.length;w<j&&(a.nest=!1)}!a.lng&&u&&u.res&&(a.lng=this.language||u.usedLng),a.nest!==!1&&(i=this.interpolator.nest(i,(...x)=>d?.[0]===x[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${r[0]}`),null):this.translate(...x,r),a)),a.interpolation&&this.interpolator.reset()}const f=a.postProcess||this.options.postProcess,g=Ne(f)?[f]:f;return i!=null&&g?.length&&a.applyPostProcessor!==!1&&(i=am.handle(g,i,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...u,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),i}resolve(i,r={}){let a,u,d,f,g;return Ne(i)&&(i=[i]),i.forEach(_=>{if(this.isValidLookup(a))return;const w=this.extractFromKey(_,r),S=w.key;u=S;let x=w.namespaces;this.options.fallbackNS&&(x=x.concat(this.options.fallbackNS));const j=r.count!==void 0&&!Ne(r.count),R=j&&!r.ordinal&&r.count===0,A=r.context!==void 0&&(Ne(r.context)||typeof r.context=="number")&&r.context!=="",D=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);x.forEach($=>{this.isValidLookup(a)||(g=$,!hp[`${D[0]}-${$}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(g)&&(hp[`${D[0]}-${$}`]=!0,this.logger.warn(`key "${u}" for languages "${D.join(", ")}" won't get resolved as namespace "${g}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),D.forEach(te=>{if(this.isValidLookup(a))return;f=te;const ie=[S];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(ie,S,te,$,r);else{let Y;j&&(Y=this.pluralResolver.getSuffix(te,r.count,r));const se=`${this.options.pluralSeparator}zero`,oe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(j&&(r.ordinal&&Y.indexOf(oe)===0&&ie.push(S+Y.replace(oe,this.options.pluralSeparator)),ie.push(S+Y),R&&ie.push(S+se)),A){const ue=`${S}${this.options.contextSeparator||"_"}${r.context}`;ie.push(ue),j&&(r.ordinal&&Y.indexOf(oe)===0&&ie.push(ue+Y.replace(oe,this.options.pluralSeparator)),ie.push(ue+Y),R&&ie.push(ue+se))}}let G;for(;G=ie.pop();)this.isValidLookup(a)||(d=G,a=this.getResource(te,$,G,r))}))})}),{res:a,usedKey:u,exactUsedKey:d,usedLng:f,usedNS:g}}isValidLookup(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}getResource(i,r,a,u={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(i,r,a,u):this.resourceStore.getResource(i,r,a,u)}getUsedParamsDetails(i={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=i.replace&&!Ne(i.replace);let u=a?i.replace:i;if(a&&typeof i.count<"u"&&(u.count=i.count),this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),!a){u={...u};for(const d of r)delete u[d]}return u}static hasDefaultValue(i){const r="defaultValue";for(const a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&r===a.substring(0,r.length)&&i[a]!==void 0)return!0;return!1}}class fp{constructor(i){this.options=i,this.supportedLngs=this.options.supportedLngs||!1,this.logger=yi.create("languageUtils")}getScriptPartFromCode(i){if(i=$a(i),!i||i.indexOf("-")<0)return null;const r=i.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(i){if(i=$a(i),!i||i.indexOf("-")<0)return i;const r=i.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(i){if(Ne(i)&&i.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(i)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?i.toLowerCase():i)}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}isSupportedCode(i){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}getBestMatchFromCodes(i){if(!i)return null;let r;return i.forEach(a=>{if(r)return;const u=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(u))&&(r=u)}),!r&&this.options.supportedLngs&&i.forEach(a=>{if(r)return;const u=this.getScriptPartFromCode(a);if(this.isSupportedCode(u))return r=u;const d=this.getLanguagePartFromCode(a);if(this.isSupportedCode(d))return r=d;r=this.options.supportedLngs.find(f=>{if(f===d)return f;if(!(f.indexOf("-")<0&&d.indexOf("-")<0)&&(f.indexOf("-")>0&&d.indexOf("-")<0&&f.substring(0,f.indexOf("-"))===d||f.indexOf(d)===0&&d.length>1))return f})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(i,r){if(!i)return[];if(typeof i=="function"&&(i=i(r)),Ne(i)&&(i=[i]),Array.isArray(i))return i;if(!r)return i.default||[];let a=i[r];return a||(a=i[this.getScriptPartFromCode(r)]),a||(a=i[this.formatLanguageCode(r)]),a||(a=i[this.getLanguagePartFromCode(r)]),a||(a=i.default),a||[]}toResolveHierarchy(i,r){const a=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],i),u=[],d=f=>{f&&(this.isSupportedCode(f)?u.push(f):this.logger.warn(`rejecting language code not found in supportedLngs: ${f}`))};return Ne(i)&&(i.indexOf("-")>-1||i.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(i)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(i)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(i))):Ne(i)&&d(this.formatLanguageCode(i)),a.forEach(f=>{u.indexOf(f)<0&&d(this.formatLanguageCode(f))}),u}}const pp={zero:0,one:1,two:2,few:3,many:4,other:5},mp={select:l=>l===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class hw{constructor(i,r={}){this.languageUtils=i,this.options=r,this.logger=yi.create("pluralResolver"),this.pluralRulesCache={}}addRule(i,r){this.rules[i]=r}clearCache(){this.pluralRulesCache={}}getRule(i,r={}){const a=$a(i==="dev"?"en":i),u=r.ordinal?"ordinal":"cardinal",d=JSON.stringify({cleanedCode:a,type:u});if(d in this.pluralRulesCache)return this.pluralRulesCache[d];let f;try{f=new Intl.PluralRules(a,{type:u})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),mp;if(!i.match(/-|_/))return mp;const _=this.languageUtils.getLanguagePartFromCode(i);f=this.getRule(_,r)}return this.pluralRulesCache[d]=f,f}needsPlural(i,r={}){let a=this.getRule(i,r);return a||(a=this.getRule("dev",r)),a?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(i,r,a={}){return this.getSuffixes(i,a).map(u=>`${r}${u}`)}getSuffixes(i,r={}){let a=this.getRule(i,r);return a||(a=this.getRule("dev",r)),a?a.resolvedOptions().pluralCategories.sort((u,d)=>pp[u]-pp[d]).map(u=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${u}`):[]}getSuffix(i,r,a={}){const u=this.getRule(i,a);return u?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${u.select(r)}`:(this.logger.warn(`no plural rule found for: ${i}`),this.getSuffix("dev",r,a))}}const gp=(l,i,r,a=".",u=!0)=>{let d=nw(l,i,r);return!d&&u&&Ne(r)&&(d=bh(l,r,a),d===void 0&&(d=bh(i,r,a))),d},nh=l=>l.replace(/\$/g,"$$$$");class dw{constructor(i={}){this.logger=yi.create("interpolator"),this.options=i,this.format=i?.interpolation?.format||(r=>r),this.init(i)}init(i={}){i.interpolation||(i.interpolation={escapeValue:!0});const{escape:r,escapeValue:a,useRawValueToEscape:u,prefix:d,prefixEscaped:f,suffix:g,suffixEscaped:_,formatSeparator:w,unescapeSuffix:S,unescapePrefix:x,nestingPrefix:j,nestingPrefixEscaped:R,nestingSuffix:A,nestingSuffixEscaped:D,nestingOptionsSeparator:$,maxReplaces:te,alwaysFormat:ie}=i.interpolation;this.escape=r!==void 0?r:rw,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=u!==void 0?u:!1,this.prefix=d?Lo(d):f||"{{",this.suffix=g?Lo(g):_||"}}",this.formatSeparator=w||",",this.unescapePrefix=S?"":x||"-",this.unescapeSuffix=this.unescapePrefix?"":S||"",this.nestingPrefix=j?Lo(j):R||Lo("$t("),this.nestingSuffix=A?Lo(A):D||Lo(")"),this.nestingOptionsSeparator=$||",",this.maxReplaces=te||1e3,this.alwaysFormat=ie!==void 0?ie:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const i=(r,a)=>r?.source===a?(r.lastIndex=0,r):new RegExp(a,"g");this.regexp=i(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=i(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=i(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(i,r,a,u){let d,f,g;const _=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},w=R=>{if(R.indexOf(this.formatSeparator)<0){const te=gp(r,_,R,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(te,void 0,a,{...u,...r,interpolationkey:R}):te}const A=R.split(this.formatSeparator),D=A.shift().trim(),$=A.join(this.formatSeparator).trim();return this.format(gp(r,_,D,this.options.keySeparator,this.options.ignoreJSONStructure),$,a,{...u,...r,interpolationkey:D})};this.resetRegExp();const S=u?.missingInterpolationHandler||this.options.missingInterpolationHandler,x=u?.interpolation?.skipOnVariables!==void 0?u.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:R=>nh(R)},{regex:this.regexp,safeValue:R=>this.escapeValue?nh(this.escape(R)):nh(R)}].forEach(R=>{for(g=0;d=R.regex.exec(i);){const A=d[1].trim();if(f=w(A),f===void 0)if(typeof S=="function"){const $=S(i,d,u);f=Ne($)?$:""}else if(u&&Object.prototype.hasOwnProperty.call(u,A))f="";else if(x){f=d[0];continue}else this.logger.warn(`missed to pass in variable ${A} for interpolating ${i}`),f="";else!Ne(f)&&!this.useRawValueToEscape&&(f=op(f));const D=R.safeValue(f);if(i=i.replace(d[0],D),x?(R.regex.lastIndex+=f.length,R.regex.lastIndex-=d[0].length):R.regex.lastIndex=0,g++,g>=this.maxReplaces)break}}),i}nest(i,r,a={}){let u,d,f;const g=(_,w)=>{const S=this.nestingOptionsSeparator;if(_.indexOf(S)<0)return _;const x=_.split(new RegExp(`${S}[ ]*{`));let j=`{${x[1]}`;_=x[0],j=this.interpolate(j,f);const R=j.match(/'/g),A=j.match(/"/g);((R?.length??0)%2===0&&!A||A.length%2!==0)&&(j=j.replace(/'/g,'"'));try{f=JSON.parse(j),w&&(f={...w,...f})}catch(D){return this.logger.warn(`failed parsing options string in nesting for key ${_}`,D),`${_}${S}${j}`}return f.defaultValue&&f.defaultValue.indexOf(this.prefix)>-1&&delete f.defaultValue,_};for(;u=this.nestingRegexp.exec(i);){let _=[];f={...a},f=f.replace&&!Ne(f.replace)?f.replace:f,f.applyPostProcessor=!1,delete f.defaultValue;const w=/{.*}/.test(u[1])?u[1].lastIndexOf("}")+1:u[1].indexOf(this.formatSeparator);if(w!==-1&&(_=u[1].slice(w).split(this.formatSeparator).map(S=>S.trim()).filter(Boolean),u[1]=u[1].slice(0,w)),d=r(g.call(this,u[1].trim(),f),f),d&&u[0]===i&&!Ne(d))return d;Ne(d)||(d=op(d)),d||(this.logger.warn(`missed to resolve ${u[1]} for nesting ${i}`),d=""),_.length&&(d=_.reduce((S,x)=>this.format(S,x,a.lng,{...a,interpolationkey:u[1].trim()}),d.trim())),i=i.replace(u[0],d),this.regexp.lastIndex=0}return i}}const fw=l=>{let i=l.toLowerCase().trim();const r={};if(l.indexOf("(")>-1){const a=l.split("(");i=a[0].toLowerCase().trim();const u=a[1].substring(0,a[1].length-1);i==="currency"&&u.indexOf(":")<0?r.currency||(r.currency=u.trim()):i==="relativetime"&&u.indexOf(":")<0?r.range||(r.range=u.trim()):u.split(";").forEach(f=>{if(f){const[g,..._]=f.split(":"),w=_.join(":").trim().replace(/^'+|'+$/g,""),S=g.trim();r[S]||(r[S]=w),w==="false"&&(r[S]=!1),w==="true"&&(r[S]=!0),isNaN(w)||(r[S]=parseInt(w,10))}})}return{formatName:i,formatOptions:r}},vp=l=>{const i={};return(r,a,u)=>{let d=u;u&&u.interpolationkey&&u.formatParams&&u.formatParams[u.interpolationkey]&&u[u.interpolationkey]&&(d={...d,[u.interpolationkey]:void 0});const f=a+JSON.stringify(d);let g=i[f];return g||(g=l($a(a),u),i[f]=g),g(r)}},pw=l=>(i,r,a)=>l($a(r),a)(i);class mw{constructor(i={}){this.logger=yi.create("formatter"),this.options=i,this.init(i)}init(i,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const a=r.cacheInBuiltFormats?vp:pw;this.formats={number:a((u,d)=>{const f=new Intl.NumberFormat(u,{...d});return g=>f.format(g)}),currency:a((u,d)=>{const f=new Intl.NumberFormat(u,{...d,style:"currency"});return g=>f.format(g)}),datetime:a((u,d)=>{const f=new Intl.DateTimeFormat(u,{...d});return g=>f.format(g)}),relativetime:a((u,d)=>{const f=new Intl.RelativeTimeFormat(u,{...d});return g=>f.format(g,d.range||"day")}),list:a((u,d)=>{const f=new Intl.ListFormat(u,{...d});return g=>f.format(g)})}}add(i,r){this.formats[i.toLowerCase().trim()]=r}addCached(i,r){this.formats[i.toLowerCase().trim()]=vp(r)}format(i,r,a,u={}){const d=r.split(this.formatSeparator);if(d.length>1&&d[0].indexOf("(")>1&&d[0].indexOf(")")<0&&d.find(g=>g.indexOf(")")>-1)){const g=d.findIndex(_=>_.indexOf(")")>-1);d[0]=[d[0],...d.splice(1,g)].join(this.formatSeparator)}return d.reduce((g,_)=>{const{formatName:w,formatOptions:S}=fw(_);if(this.formats[w]){let x=g;try{const j=u?.formatParams?.[u.interpolationkey]||{},R=j.locale||j.lng||u.locale||u.lng||a;x=this.formats[w](g,R,{...S,...u,...j})}catch(j){this.logger.warn(j)}return x}else this.logger.warn(`there was no format function for ${w}`);return g},i)}}const gw=(l,i)=>{l.pending[i]!==void 0&&(delete l.pending[i],l.pendingCount--)};class vw extends bu{constructor(i,r,a,u={}){super(),this.backend=i,this.store=r,this.services=a,this.languageUtils=a.languageUtils,this.options=u,this.logger=yi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=u.maxParallelReads||10,this.readingCalls=0,this.maxRetries=u.maxRetries>=0?u.maxRetries:5,this.retryTimeout=u.retryTimeout>=1?u.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(a,u.backend,u)}queueLoad(i,r,a,u){const d={},f={},g={},_={};return i.forEach(w=>{let S=!0;r.forEach(x=>{const j=`${w}|${x}`;!a.reload&&this.store.hasResourceBundle(w,x)?this.state[j]=2:this.state[j]<0||(this.state[j]===1?f[j]===void 0&&(f[j]=!0):(this.state[j]=1,S=!1,f[j]===void 0&&(f[j]=!0),d[j]===void 0&&(d[j]=!0),_[x]===void 0&&(_[x]=!0)))}),S||(g[w]=!0)}),(Object.keys(d).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:u}),{toLoad:Object.keys(d),pending:Object.keys(f),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(_)}}loaded(i,r,a){const u=i.split("|"),d=u[0],f=u[1];r&&this.emit("failedLoading",d,f,r),!r&&a&&this.store.addResourceBundle(d,f,a,void 0,void 0,{skipCopy:!0}),this.state[i]=r?-1:2,r&&a&&(this.state[i]=0);const g={};this.queue.forEach(_=>{tw(_.loaded,[d],f),gw(_,i),r&&_.errors.push(r),_.pendingCount===0&&!_.done&&(Object.keys(_.loaded).forEach(w=>{g[w]||(g[w]={});const S=_.loaded[w];S.length&&S.forEach(x=>{g[w][x]===void 0&&(g[w][x]=!0)})}),_.done=!0,_.errors.length?_.callback(_.errors):_.callback())}),this.emit("loaded",g),this.queue=this.queue.filter(_=>!_.done)}read(i,r,a,u=0,d=this.retryTimeout,f){if(!i.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:r,fcName:a,tried:u,wait:d,callback:f});return}this.readingCalls++;const g=(w,S)=>{if(this.readingCalls--,this.waitingReads.length>0){const x=this.waitingReads.shift();this.read(x.lng,x.ns,x.fcName,x.tried,x.wait,x.callback)}if(w&&S&&u<this.maxRetries){setTimeout(()=>{this.read.call(this,i,r,a,u+1,d*2,f)},d);return}f(w,S)},_=this.backend[a].bind(this.backend);if(_.length===2){try{const w=_(i,r);w&&typeof w.then=="function"?w.then(S=>g(null,S)).catch(g):g(null,w)}catch(w){g(w)}return}return _(i,r,g)}prepareLoading(i,r,a={},u){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();Ne(i)&&(i=this.languageUtils.toResolveHierarchy(i)),Ne(r)&&(r=[r]);const d=this.queueLoad(i,r,a,u);if(!d.toLoad.length)return d.pending.length||u(),null;d.toLoad.forEach(f=>{this.loadOne(f)})}load(i,r,a){this.prepareLoading(i,r,{},a)}reload(i,r,a){this.prepareLoading(i,r,{reload:!0},a)}loadOne(i,r=""){const a=i.split("|"),u=a[0],d=a[1];this.read(u,d,"read",void 0,void 0,(f,g)=>{f&&this.logger.warn(`${r}loading namespace ${d} for language ${u} failed`,f),!f&&g&&this.logger.log(`${r}loaded namespace ${d} for language ${u}`,g),this.loaded(i,f,g)})}saveMissing(i,r,a,u,d,f={},g=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${a}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend?.create){const _={...f,isUpdate:d},w=this.backend.create.bind(this.backend);if(w.length<6)try{let S;w.length===5?S=w(i,r,a,u,_):S=w(i,r,a,u),S&&typeof S.then=="function"?S.then(x=>g(null,x)).catch(g):g(null,S)}catch(S){g(S)}else w(i,r,a,u,g,_)}!i||!i[0]||this.store.addResource(i[0],r,a,u)}}}const _p=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:l=>{let i={};if(typeof l[1]=="object"&&(i=l[1]),Ne(l[1])&&(i.defaultValue=l[1]),Ne(l[2])&&(i.tDescription=l[2]),typeof l[2]=="object"||typeof l[3]=="object"){const r=l[3]||l[2];Object.keys(r).forEach(a=>{i[a]=r[a]})}return i},interpolation:{escapeValue:!0,format:l=>l,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),yp=l=>(Ne(l.ns)&&(l.ns=[l.ns]),Ne(l.fallbackLng)&&(l.fallbackLng=[l.fallbackLng]),Ne(l.fallbackNS)&&(l.fallbackNS=[l.fallbackNS]),l.supportedLngs?.indexOf?.("cimode")<0&&(l.supportedLngs=l.supportedLngs.concat(["cimode"])),typeof l.initImmediate=="boolean"&&(l.initAsync=l.initImmediate),l),uu=()=>{},_w=l=>{Object.getOwnPropertyNames(Object.getPrototypeOf(l)).forEach(r=>{typeof l[r]=="function"&&(l[r]=l[r].bind(l))})};class Fa extends bu{constructor(i={},r){if(super(),this.options=yp(i),this.services={},this.logger=yi,this.modules={external:[]},_w(this),r&&!this.isInitialized&&!i.isClone){if(!this.options.initAsync)return this.init(i,r),this;setTimeout(()=>{this.init(i,r)},0)}}init(i={},r){this.isInitializing=!0,typeof i=="function"&&(r=i,i={}),i.defaultNS==null&&i.ns&&(Ne(i.ns)?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));const a=_p();this.options={...a,...this.options,...yp(i)},this.options.interpolation={...a.interpolation,...this.options.interpolation},i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);const u=w=>w?typeof w=="function"?new w:w:null;if(!this.options.isClone){this.modules.logger?yi.init(u(this.modules.logger),this.options):yi.init(null,this.options);let w;this.modules.formatter?w=this.modules.formatter:w=mw;const S=new fp(this.options);this.store=new cp(this.options.resources,this.options);const x=this.services;x.logger=yi,x.resourceStore=this.store,x.languageUtils=S,x.pluralResolver=new hw(S,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),w&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(x.formatter=u(w),x.formatter.init&&x.formatter.init(x,this.options),this.options.interpolation.format=x.formatter.format.bind(x.formatter)),x.interpolator=new dw(this.options),x.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},x.backendConnector=new vw(u(this.modules.backend),x.resourceStore,x,this.options),x.backendConnector.on("*",(R,...A)=>{this.emit(R,...A)}),this.modules.languageDetector&&(x.languageDetector=u(this.modules.languageDetector),x.languageDetector.init&&x.languageDetector.init(x,this.options.detection,this.options)),this.modules.i18nFormat&&(x.i18nFormat=u(this.modules.i18nFormat),x.i18nFormat.init&&x.i18nFormat.init(this)),this.translator=new gu(this.services,this.options),this.translator.on("*",(R,...A)=>{this.emit(R,...A)}),this.modules.external.forEach(R=>{R.init&&R.init(this)})}if(this.format=this.options.interpolation.format,r||(r=uu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const w=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);w.length>0&&w[0]!=="dev"&&(this.options.lng=w[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(w=>{this[w]=(...S)=>this.store[w](...S)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(w=>{this[w]=(...S)=>(this.store[w](...S),this)});const g=La(),_=()=>{const w=(S,x)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),g.resolve(x),r(S,x)};if(this.languages&&!this.isInitialized)return w(null,this.t.bind(this));this.changeLanguage(this.options.lng,w)};return this.options.resources||!this.options.initAsync?_():setTimeout(_,0),g}loadResources(i,r=uu){let a=r;const u=Ne(i)?i:this.language;if(typeof i=="function"&&(a=i),!this.options.resources||this.options.partialBundledLanguages){if(u?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const d=[],f=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(w=>{w!=="cimode"&&d.indexOf(w)<0&&d.push(w)})};u?f(u):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(_=>f(_)),this.options.preload?.forEach?.(g=>f(g)),this.services.backendConnector.load(d,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(g)})}else a(null)}reloadResources(i,r,a){const u=La();return typeof i=="function"&&(a=i,i=void 0),typeof r=="function"&&(a=r,r=void 0),i||(i=this.languages),r||(r=this.options.ns),a||(a=uu),this.services.backendConnector.reload(i,r,d=>{u.resolve(),a(d)}),u}use(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&am.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}setResolvedLanguage(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1)){for(let r=0;r<this.languages.length;r++){const a=this.languages[r];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(i)<0&&this.store.hasLanguageSomeTranslations(i)&&(this.resolvedLanguage=i,this.languages.unshift(i))}}changeLanguage(i,r){this.isLanguageChangingTo=i;const a=La();this.emit("languageChanging",i);const u=g=>{this.language=g,this.languages=this.services.languageUtils.toResolveHierarchy(g),this.resolvedLanguage=void 0,this.setResolvedLanguage(g)},d=(g,_)=>{_?this.isLanguageChangingTo===i&&(u(_),this.translator.changeLanguage(_),this.isLanguageChangingTo=void 0,this.emit("languageChanged",_),this.logger.log("languageChanged",_)):this.isLanguageChangingTo=void 0,a.resolve((...w)=>this.t(...w)),r&&r(g,(...w)=>this.t(...w))},f=g=>{!i&&!g&&this.services.languageDetector&&(g=[]);const _=Ne(g)?g:g&&g[0],w=this.store.hasLanguageSomeTranslations(_)?_:this.services.languageUtils.getBestMatchFromCodes(Ne(g)?[g]:g);w&&(this.language||u(w),this.translator.language||this.translator.changeLanguage(w),this.services.languageDetector?.cacheUserLanguage?.(w)),this.loadResources(w,S=>{d(S,w)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(i),a}getFixedT(i,r,a){const u=(d,f,...g)=>{let _;typeof f!="object"?_=this.options.overloadTranslationOptionHandler([d,f].concat(g)):_={...f},_.lng=_.lng||u.lng,_.lngs=_.lngs||u.lngs,_.ns=_.ns||u.ns,_.keyPrefix!==""&&(_.keyPrefix=_.keyPrefix||a||u.keyPrefix);const w=this.options.keySeparator||".";let S;return _.keyPrefix&&Array.isArray(d)?S=d.map(x=>(typeof x=="function"&&(x=xh(x,{...this.options,...f})),`${_.keyPrefix}${w}${x}`)):(typeof d=="function"&&(d=xh(d,{...this.options,...f})),S=_.keyPrefix?`${_.keyPrefix}${w}${d}`:d),this.t(S,_)};return Ne(i)?u.lng=i:u.lngs=i,u.ns=r,u.keyPrefix=a,u}t(...i){return this.translator?.translate(...i)}exists(...i){return this.translator?.exists(...i)}setDefaultNamespace(i){this.options.defaultNS=i}hasLoadedNamespace(i,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=r.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const f=(g,_)=>{const w=this.services.backendConnector.state[`${g}|${_}`];return w===-1||w===0||w===2};if(r.precheck){const g=r.precheck(this,f);if(g!==void 0)return g}return!!(this.hasResourceBundle(a,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(a,i)&&(!u||f(d,i)))}loadNamespaces(i,r){const a=La();return this.options.ns?(Ne(i)&&(i=[i]),i.forEach(u=>{this.options.ns.indexOf(u)<0&&this.options.ns.push(u)}),this.loadResources(u=>{a.resolve(),r&&r(u)}),a):(r&&r(),Promise.resolve())}loadLanguages(i,r){const a=La();Ne(i)&&(i=[i]);const u=this.options.preload||[],d=i.filter(f=>u.indexOf(f)<0&&this.services.languageUtils.isSupportedCode(f));return d.length?(this.options.preload=u.concat(d),this.loadResources(f=>{a.resolve(),r&&r(f)}),a):(r&&r(),Promise.resolve())}dir(i){if(i||(i=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!i)return"rtl";try{const u=new Intl.Locale(i);if(u&&u.getTextInfo){const d=u.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services?.languageUtils||new fp(_p());return i.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(a.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(i={},r){return new Fa(i,r)}cloneInstance(i={},r=uu){const a=i.forkResourceStore;a&&delete i.forkResourceStore;const u={...this.options,...i,isClone:!0},d=new Fa(u);if((i.debug!==void 0||i.prefix!==void 0)&&(d.logger=d.logger.clone(i)),["store","services","language"].forEach(g=>{d[g]=this[g]}),d.services={...this.services},d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},a){const g=Object.keys(this.store.data).reduce((_,w)=>(_[w]={...this.store.data[w]},_[w]=Object.keys(_[w]).reduce((S,x)=>(S[x]={..._[w][x]},S),_[w]),_),{});d.store=new cp(g,u),d.services.resourceStore=d.store}return d.translator=new gu(d.services,u),d.translator.on("*",(g,..._)=>{d.emit(g,..._)}),d.init(u,r),d.translator.options=u,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Lt=Fa.createInstance();Lt.createInstance=Fa.createInstance;Lt.createInstance;Lt.dir;Lt.init;Lt.loadResources;Lt.reloadResources;Lt.use;Lt.changeLanguage;Lt.getFixedT;Lt.t;Lt.exists;Lt.setDefaultNamespace;Lt.hasLoadedNamespace;Lt.loadNamespaces;Lt.loadLanguages;const yw={hu:{translation:{"header-title":"Admin Irányítópult","nav-users":"Felhasználók","nav-events":"Események","nav-map":"Térkép","nav-users-manager":"Felhasználók Kezelése","nav-help-editor":"Segítség Szerkesztő","nav-missing-persons-editor":"Eltűnt Személyek Szerkesztő","nav-search-manager":"Keresés Kezelése","select-page":"Válassz oldalt","users-h2":"Felhasználó Kezelés","user-id-label":"Felhasználó ID:","role-label":"Szerepkör:","update-role-btn":"Szerepkör Frissítése","events-h2":"Esemény Kezelés","event-name-label":"Esemény Neve:","create-event-btn":"Esemény Létrehozása","map-h2":"Élő Térkép","role-searcher":"Kereső","role-coordinator":"Koordinátor","role-admin":"Admin","user-table-id":"ID","user-table-email":"Email","user-table-fullname":"Teljes Név","user-table-role":"Szerepkör","event-table-id":"ID","event-table-name":"Név","event-table-status":"Státusz","event-table-starttime":"Kezdési Idő","role-update-success":"Szerepkör sikeresen frissítve","role-update-fail":"Nem sikerült frissíteni a szerepkört:","event-create-success":"Esemény sikeresen létrehozva","event-create-fail":"Nem sikerült létrehozni az eseményt:","event-update-success":"Esemény sikeresen frissítve","event-update-fail":"Nem sikerült frissíteni az eseményt:","event-delete-success":"Esemény sikeresen törölve","event-delete-fail":"Nem sikerült törölni az eseményt:","select-event-btn":"Esemény kiválasztása","join-event-btn":"Csatlakozás az eseményhez","event-join-success":"Sikeresen csatlakoztál az eseményhez!","event-join-fail":"Nem sikerült csatlakozni az eseményhez:","select-event-first":"Kérlek, először válassz egy eseményt!","event-status-label":"Esemény státusza","status-active":"Aktív","status-paused":"Szüneteltetve","status-completed":"Befejezve","update-event-btn":"Esemény szerkesztése","delete-event-btn":"Esemény törlése","users-manager-h2":"Felhasználók Kezelése","create-user-btn":"Felhasználó Létrehozása","delete-user-btn":"Törlés","update-user-btn":"Frissítés","full-name-label":"Teljes Név:","phone-label":"Telefonszám:","email-label":"Email:","password-label":"Jelszó:","active-label":"Aktív:","user-create-success":"Felhasználó sikeresen létrehozva","user-create-fail":"Nem sikerült létrehozni a felhasználót:","user-update-success":"Felhasználó sikeresen frissítve","user-update-fail":"Nem sikerült frissíteni a felhasználót:","user-delete-success":"Felhasználó sikeresen törölve","user-delete-fail":"Nem sikerült törölni a felhasználót:","user-table-phone":"Telefon","user-table-active":"Aktív","help-editor-h2":"Segítség Tartalom Szerkesztő","section-label":"Szakasz:","text-hu-label":"Szöveg HU:","text-en-label":"Szöveg EN:","text-sk-label":"Szöveg SK:","text-ro-label":"Szöveg RO:","text-pl-label":"Szöveg PL:","create-help-btn":"Segítség Bejegyzés Létrehozása","update-help-btn":"Frissítés","delete-help-btn":"Törlés","help-create-success":"Segítség bejegyzés sikeresen létrehozva","help-create-fail":"Nem sikerült létrehozni a segítség bejegyzést:","help-update-success":"Segítség bejegyzés sikeresen frissítve","help-update-fail":"Nem sikerült frissíteni a segítség bejegyzést:","help-delete-success":"Segítség bejegyzés sikeresen törölve","help-delete-fail":"Nem sikerült törölni a segítség bejegyzést:","help-table-section":"Szakasz","help-table-text-hu":"Szöveg HU","missing-persons-editor-h2":"Eltűnt Személyek Szerkesztő","event-id-label":"Esemény ID:","name-label":"Név:","age-label":"Életkor:","height-label":"Magasság (cm):","clothing-label":"Ruházat:","photo-url-label":"Fotó URL:","behavior-category-label":"Viselkedési Kategória:","prob-zones-label":"Valószínűségi Zónák (JSON):","create-missing-btn":"Eltűnt Személy Létrehozása","update-missing-btn":"Frissítés","delete-missing-btn":"Törlés","missing-create-success":"Eltűnt személy sikeresen létrehozva","missing-create-fail":"Nem sikerült létrehozni az eltűnt személyt:","missing-update-success":"Eltűnt személy sikeresen frissítve","missing-update-fail":"Nem sikerült frissíteni az eltűnt személyt:","missing-delete-success":"Eltűnt személy sikeresen törölve","missing-delete-fail":"Nem sikerült törölni az eltűnt személyt:","missing-table-name":"Név","missing-table-age":"Életkor","missing-table-height":"Magasság","missing-table-clothing":"Ruházat","missing-table-photo":"Fotó URL","missing-table-behavior":"Viselkedés","missing-table-prob-zones":"Valószínűségi Zónák","login-header":"Bejelentkezés","login-email":"Email","login-password":"Jelszó","login-full-name":"Teljes Név","login-phone-number":"Telefonszám","login-save-credentials":"Bejelentkezési adatok mentése","login-register":"Regisztráció","login-login":"Bejelentkezés","login-resend-email":"Megerősítő email újraküldése","error-invalid-email":"Érvénytelen email formátum","error-password-too-short":"A jelszónak legalább 6 karakterből kell állnia","error-full-name-required":"Teljes név megadása kötelező","error-invalid-phone":"Érvénytelen telefonszám formátum","error-no-internet":"Nincs internetkapcsolat","success-email-resent":"Megerősítő email sikeresen újraküldve","error-resend-email-failed":"Nem sikerült újraküldeni a megerősítő emailt","error-registration-failed":"A regisztráció nem sikerült","error-email-confirmation-required":"Kérjük, erősítsd meg az email címedet a regisztráció befejezéséhez","error-auth-user-already-exists":"A felhasználó már létezik","error-auth-invalid-credentials":"Érvénytelen email vagy jelszó","error-auth-weak-password":"A jelszó túl gyenge","error-registration-error":"Regisztrációs hiba","error-permission-denied":"Hozzáférés megtagadva a users táblához","error-column-not-found":"Adatbázis hiba: Az email oszlop nem létezik","error-invalid-data-type":"Adatbázis hiba: Érvénytelen adattípus a triggerben","error-login-failed":"A bejelentkezés nem sikerült","error-login-error":"Bejelentkezési hiba","error-email-not-confirmed":"Email nincs megerősítve","error-loading-markers":"Nem sikerült betölteni a markereket:","location-label":"Válassz helyszínt a térképen","location-lat-label":"Szélesség","location-lng-label":"Hosszúság","photo-label":"Fotó",uploading:"Feltöltés...","confirm-delete":"Biztosan törölni szeretnéd?","cancel-btn":"Mégse","actions-label":"Műveletek","missing-table-location":"Helyszín","permission-denied":"Hozzáférés megtagadva","user-management-h2":"Felhasználó Kezelés","user-manager-tab":"Felhasználók Kezelése","role-update-tab":"Szerepkör Frissítése","quick-role-update":"Gyors Szerepkör Frissítés","update-user-h3":"Felhasználó Frissítése","create-user-h3":"Új Felhasználó Létrehozása",yes:"Igen",no:"Nem",loading:"Betöltés...","nav-user-management":"Felhasználók kezelése","edit-btn":"Szerkesztés","save-btn":"Mentés","discard-btn":"Törlés","participants-h2":"Résztvevők","participant-table-name":"Név","participant-table-email":"Email","participant-table-role":"Szerepkör","participant-table-joined":"Csatlakozás","participant-table-status":"Státusz","leave-event-btn":"Esemény elhagyása","pause-participant-btn":"Szüneteltetés","resume-participant-btn":"Folytatás","leave-participant-btn":"Távozás","participant-status-update-success":"Résztvevő státusza frissítve","participant-status-update-fail":"Hiba a résztvevő státuszának frissítésekor","event-leave-success":"Sikeresen elhagytad az eseményt","event-leave-fail":"Hiba az esemény elhagyásakor","status-active":"Aktív","status-paused":"Szünetel","status-left":"Távozott","participant-table-phone":"Telefonszám","participant-table-left":"Távozás ideje","participant-table-joined":"Csatlakozás ideje","no-changes-detected":"Nem történt változás az adatokban.","error-invalid-json":"Érvénytelen JSON formátum a valószínűségi zónákhoz.","missing-update-success":"Adatok sikeresen frissítve.","missing-update-fail":"Hiba az adatok frissítésekor:",marker:"Jelző","marker-type":"Típus",user:"Felhasználó","phone-number":"Telefonszám","recording-time":"Rögzítés ideje","missing-person":"Elveszett személy",age:"Életkor",clothing:"Ruházat",coordinates:"Koordináták","location-required-for-zones":"Helyadat (szélesség, hosszúság) szükséges az automatikus valószínűségi zónákhoz","invalid-prob-zones":"Érvénytelen valószínűségi zónák: a koordináták vagy a terület meghaladja a korlátokat","select-behavior-category":"Viselkedési kategória kiválasztása","behavior-child1-3":"Gyermek (1-3 éves)","behavior-child4-6":"Gyermek (4-6 éves)","behavior-hiker":"Túrázó","behavior-despondent":"Zavart","behavior-hunter":"Vadász","behavior-elderly":"Idős","behavior-default":"Alapértelmezett","zone-25":"25% valószínűségi zóna","zone-50":"50% valószínűségi zóna","zone-75":"75% valószínűségi zóna","zone-95":"95% valószínűségi zóna","show-prob-zones":"Valószínűségi zónák megjelenítése"}},en:{translation:{"header-title":"Admin Dashboard","nav-users":"Users","nav-events":"Events","nav-map":"Map","nav-users-manager":"Users Manager","nav-help-editor":"Help Editor","nav-missing-persons-editor":"Missing Persons Editor","nav-search-manager":"Search Management","select-page":"Select a page","users-h2":"User Management","user-id-label":"User ID:","role-label":"Role:","update-role-btn":"Update Role","events-h2":"Event Management","event-name-label":"Event Name:","create-event-btn":"Create Event","map-h2":"Live Map","role-searcher":"Searcher","role-coordinator":"Coordinator","role-admin":"Admin","user-table-id":"ID","user-table-email":"Email","user-table-fullname":"Full Name","user-table-role":"Role","event-table-id":"ID","event-table-name":"Name","event-table-status":"Status","event-table-starttime":"Start Time","role-update-success":"Role updated successfully","role-update-fail":"Failed to update role:","event-create-success":"Event created successfully","event-create-fail":"Failed to create event:","event-update-success":"Event updated successfully","event-update-fail":"Failed to update event:","event-delete-success":"Event deleted successfully","event-delete-fail":"Failed to delete event:","select-event-btn":"Select Event","join-event-btn":"Join Event","event-join-success":"Successfully joined the event!","event-join-fail":"Failed to join the event:","select-event-first":"Please select an event first!","event-status-label":"Event Status","status-active":"Active","status-paused":"Paused","status-completed":"Completed","update-event-btn":"Update Event","delete-event-btn":"Delete Event","users-manager-h2":"Users Manager","create-user-btn":"Create User","delete-user-btn":"Delete","update-user-btn":"Update","full-name-label":"Full Name:","phone-label":"Phone Number:","email-label":"Email:","password-label":"Password:","active-label":"Active:","user-create-success":"User created successfully","user-create-fail":"Failed to create user:","user-update-success":"User updated successfully","user-update-fail":"Failed to update user:","user-delete-success":"User deleted successfully","user-delete-fail":"Failed to delete user:","user-table-phone":"Phone","user-table-active":"Active","help-editor-h2":"Help Content Editor","section-label":"Section:","text-hu-label":"Text HU:","text-en-label":"Text EN:","text-sk-label":"Text SK:","text-ro-label":"Text RO:","text-pl-label":"Text PL:","create-help-btn":"Create Help Entry","update-help-btn":"Update","delete-help-btn":"Delete","help-create-success":"Help entry created successfully","help-create-fail":"Failed to create help entry:","help-update-success":"Help entry updated successfully","help-update-fail":"Failed to update help entry:","help-delete-success":"Help entry deleted successfully","help-delete-fail":"Failed to delete help entry:","help-table-section":"Section","help-table-text-hu":"Text HU","missing-persons-editor-h2":"Missing Persons Editor","event-id-label":"Event ID:","name-label":"Name:","age-label":"Age:","height-label":"Height (cm):","clothing-label":"Clothing:","photo-url-label":"Photo URL:","behavior-category-label":"Behavior Category:","prob-zones-label":"Prob Zones (JSON):","create-missing-btn":"Create Missing Person","update-missing-btn":"Update","delete-missing-btn":"Delete","missing-create-success":"Missing person created successfully","missing-create-fail":"Failed to create missing person:","missing-update-success":"Missing person updated successfully","missing-update-fail":"Failed to update missing person:","missing-delete-success":"Missing person deleted successfully","missing-delete-fail":"Failed to delete missing person:","missing-table-name":"Name","missing-table-age":"Age","missing-table-height":"Height","missing-table-clothing":"Clothing","missing-table-photo":"Photo URL","missing-table-behavior":"Behavior","missing-table-prob-zones":"Probable Zones","login-header":"Login","login-email":"Email","login-password":"Password","login-full-name":"Full Name","login-phone-number":"Phone Number","login-save-credentials":"Save Credentials","login-register":"Register","login-login":"Login","login-resend-email":"Resend Confirmation Email","error-invalid-email":"Invalid email format","error-password-too-short":"Password must be at least 6 characters","error-full-name-required":"Full name is required","error-invalid-phone":"Invalid phone number format","error-no-internet":"No internet connection","success-email-resent":"Confirmation email resent successfully","error-resend-email-failed":"Failed to resend confirmation email","error-registration-failed":"Registration failed","error-email-confirmation-required":"Please confirm your email to complete registration","error-auth-user-already-exists":"User already exists","error-auth-invalid-credentials":"Invalid email or password","error-auth-weak-password":"Password is too weak","error-registration-error":"Registration error","error-permission-denied":"Access denied to users table","error-column-not-found":"Database error: Email column does not exist","error-invalid-data-type":"Database error: Invalid data type in trigger","error-login-failed":"Login failed","error-login-error":"Login error","error-email-not-confirmed":"Email not confirmed","error-loading-markers":"Failed to load markers:","location-label":"Select location on map","location-lat-label":"Latitude","location-lng-label":"Longitude","photo-label":"Photo",uploading:"Uploading...","confirm-delete":"Are you sure you want to delete?","cancel-btn":"Cancel","actions-label":"Actions","missing-table-location":"Location","permission-denied":"Permission denied","user-management-h2":"User Management","user-manager-tab":"User Manager","role-update-tab":"Role Update","quick-role-update":"Quick Role Update","update-user-h3":"Update User","create-user-h3":"Create New User",yes:"Yes",no:"No",loading:"Loading...","nav-user-management":"User Management","edit-btn":"Edit","save-btn":"Save","discard-btn":"Delete","participants-h2":"Participants","participant-table-name":"Name","participant-table-email":"Email","participant-table-role":"Role","participant-table-joined":"Joined","participant-table-status":"Status","leave-event-btn":"Leave Event","pause-participant-btn":"Pause","resume-participant-btn":"Resume","leave-participant-btn":"Leave","participant-status-update-success":"Participant status updated","participant-status-update-fail":"Error updating participant status","event-leave-success":"You have successfully left the event","event-leave-fail":"Error leaving the event","status-active":"Active","status-paused":"Paused","status-left":"Left","participant-table-phone":"Phone number","participant-table-left":"Leave time","participant-table-joined":"Join time","no-changes-detected":"No changes detected in the data.","error-invalid-json":"Invalid JSON format for probability zones.","missing-update-success":"Data updated successfully.","missing-update-fail":"Error updating data:",marker:"Marker","marker-type":"Type",user:"User","phone-number":"Phone number","recording-time":"Recording time","missing-person":"Missing person",age:"Age",clothing:"Clothing",coordinates:"Coordinates","location-required-for-zones":"Location (lat, lng) required for automatic probability zones","invalid-prob-zones":"Invalid probability zones: coordinates or area exceed limits","select-behavior-category":"Select behavior category","behavior-child1-3":"Child (1-3 years)","behavior-child4-6":"Child (4-6 years)","behavior-hiker":"Hiker","behavior-despondent":"Despondent","behavior-hunter":"Hunter","behavior-elderly":"Elderly","behavior-default":"Default","zone-25":"25% Probability Zone","zone-50":"50% Probability Zone","zone-75":"75% Probability Zone","zone-95":"95% Probability Zone","show-prob-zones":"Show Probability Zones"}},sk:{translation:{"header-title":"Administračný panel","nav-users":"Používatelia","nav-events":"Udalosti","nav-map":"Mapa","nav-users-manager":"Správa používateľov","nav-help-editor":"Editor pomoci","nav-missing-persons-editor":"Editor nezvestných osôb","nav-search-manager":"Správa vyhľadávania","select-page":"Vyberte stránku","users-h2":"Správa používateľov","user-id-label":"ID používateľa:","role-label":"Rola:","update-role-btn":"Aktualizovať rolu","events-h2":"Správa udalostí","event-name-label":"Názov udalosti:","create-event-btn":"Vytvoriť udalosť","map-h2":"Živá mapa","role-searcher":"Hľadač","role-coordinator":"Koordinátor","role-admin":"Admin","user-table-id":"ID","user-table-email":"Email","user-table-fullname":"Celé meno","user-table-role":"Rola","event-table-id":"ID","event-table-name":"Názov","event-table-status":"Stav","event-table-starttime":"Čas začiatku","role-update-success":"Rola úspešne aktualizovaná","role-update-fail":"Nepodarilo sa aktualizovať rolu:","event-create-success":"Udalosť úspešne vytvorená","event-create-fail":"Nepodarilo sa vytvoriť udalosť:","event-update-success":"Udalosť úspešne aktualizovaná","event-update-fail":"Nepodarilo sa aktualizovať udalosť:","event-delete-success":"Udalosť úspešne odstránená","event-delete-fail":"Nepodarilo sa odstrániť udalosť:","select-event-btn":"Vybrať udalosť","join-event-btn":"Pripojiť sa k udalosti","event-join-success":"Úspešne si sa pripojil k udalosti!","event-join-fail":"Nepodarilo sa pripojiť k udalosti:","select-event-first":"Najprv vyber udalosť!","event-status-label":"Stav udalosti","status-active":"Aktívna","status-paused":"Pozastavená","status-completed":"Dokončená","update-event-btn":"Aktualizovať udalosť","delete-event-btn":"Odstrániť udalosť","users-manager-h2":"Správa používateľov","create-user-btn":"Vytvoriť používateľa","delete-user-btn":"Odstrániť","update-user-btn":"Aktualizovať","full-name-label":"Celé meno:","phone-label":"Telefónne číslo:","email-label":"Email:","password-label":"Heslo:","active-label":"Aktívny:","user-create-success":"Používateľ úspešne vytvorený","user-create-fail":"Nepodarilo sa vytvoriť používateľa:","user-update-success":"Používateľ úspešne aktualizovaný","user-update-fail":"Nepodarilo sa aktualizovať používateľa:","user-delete-success":"Používateľ úspešne odstránený","user-delete-fail":"Nepodarilo sa odstrániť používateľa:","user-table-phone":"Telefón","user-table-active":"Aktívny","help-editor-h2":"Editor obsahu pomoci","section-label":"Sekcia:","text-hu-label":"Text HU:","text-en-label":"Text EN:","text-sk-label":"Text SK:","text-ro-label":"Text RO:","text-pl-label":"Text PL:","create-help-btn":"Vytvoriť záznam pomoci","update-help-btn":"Aktualizovať","delete-help-btn":"Odstrániť","help-create-success":"Záznam pomoci úspešne vytvorený","help-create-fail":"Nepodarilo sa vytvoriť záznam pomoci:","help-update-success":"Záznam pomoci úspešne aktualizovaný","help-update-fail":"Nepodarilo sa aktualizovať záznam pomoci:","help-delete-success":"Záznam pomoci úspešne odstránený","help-delete-fail":"Nepodarilo sa odstrániť záznam pomoci:","help-table-section":"Sekcia","help-table-text-hu":"Text HU","missing-persons-editor-h2":"Editor nezvestných osôb","event-id-label":"ID udalosti:","name-label":"Meno:","age-label":"Vek:","height-label":"Výška (cm):","clothing-label":"Oblečenie:","photo-url-label":"URL fotografie:","behavior-category-label":"Kategória správania:","prob-zones-label":"Pravdepodobné zóny (JSON):","create-missing-btn":"Vytvoriť nezvestnú osobu","update-missing-btn":"Aktualizovať","delete-missing-btn":"Odstrániť","missing-create-success":"Nezvestná osoba úspešne vytvorená","missing-create-fail":"Nepodarilo sa vytvoriť nezvestnú osobu:","missing-update-success":"Nezvestná osoba úspešne aktualizovaná","missing-update-fail":"Nepodarilo sa aktualizovať nezvestnú osobu:","missing-delete-success":"Nezvestná osoba úspešne odstránená","missing-delete-fail":"Nepodarilo sa odstrániť nezvestnú osobu:","missing-table-name":"Meno","missing-table-age":"Vek","missing-table-height":"Výška","missing-table-clothing":"Oblečenie","missing-table-photo":"URL fotografie","missing-table-behavior":"Správanie","missing-table-prob-zones":"Pravdepodobné zóny","login-header":"Prihlásenie","login-email":"Email","login-password":"Heslo","login-full-name":"Celé meno","login-phone-number":"Telefónne číslo","login-save-credentials":"Uložiť prihlasovacie údaje","login-register":"Registrácia","login-login":"Prihlásiť sa","login-resend-email":"Znovu odoslať potvrdzovací email","error-invalid-email":"Neplatný formát emailu","error-password-too-short":"Heslo musí mať aspoň 6 znakov","error-full-name-required":"Celé meno je povinné","error-invalid-phone":"Neplatný formát telefónneho čísla","error-no-internet":"Žiadne internetové pripojenie","success-email-resent":"Potvrdzovací email bol úspešne znovu odoslaný","error-resend-email-failed":"Nepodarilo sa znovu odoslať potvrdzovací email","error-registration-failed":"Registrácia zlyhala","error-email-confirmation-required":"Prosím, potvrďte váš email na dokončenie registrácie","error-auth-user-already-exists":"Používateľ už existuje","error-auth-invalid-credentials":"Neplatný email alebo heslo","error-auth-weak-password":"Heslo je príliš slabé","error-registration-error":"Chyba registrácie","error-permission-denied":"Prístup k tabuľke users zamietnutý","error-column-not-found":"Chyba databázy: Stĺpec email neexistuje","error-invalid-data-type":"Chyba databázy: Neplatný typ údajov v triggeri","error-login-failed":"Prihlásenie zlyhalo","error-login-error":"Chyba prihlásenia","error-email-not-confirmed":"Email nepotvrdený","error-loading-markers":"Nepodarilo sa načítať značky:","location-label":"Vyberte miesto na mape","location-lat-label":"Zemepisná šírka","location-lng-label":"Zemepisná dĺžka","photo-label":"Fotografia",uploading:"Nahrávanie...","confirm-delete":"Ste si istý, že chcete odstrániť?","cancel-btn":"Zrušiť","actions-label":"Akcie","missing-table-location":"Umiestnenie","permission-denied":"Prístup zamietnutý","user-management-h2":"Správa používateľov","user-manager-tab":"Správca používateľov","role-update-tab":"Aktualizácia roly","quick-role-update":"Rýchla aktualizácia roly","update-user-h3":"Aktualizovať používateľa","create-user-h3":"Vytvoriť nového používateľa",yes:"Áno",no:"Nie",loading:"Načítavanie...","nav-user-management":"Správa používateľov","edit-btn":"Upraviť","save-btn":"Uložiť","discard-btn":"Odstrániť","participants-h2":"Účastníci","participant-table-name":"Meno","participant-table-email":"Email","participant-table-role":"Rola","participant-table-joined":"Pripojil sa","participant-table-status":"Stav","leave-event-btn":"Opustiť udalosť","pause-participant-btn":"Pozastaviť","resume-participant-btn":"Pokračovať","leave-participant-btn":"Odísť","participant-status-update-success":"Stav účastníka bol aktualizovaný","participant-status-update-fail":"Chyba pri aktualizácii stavu účastníka","event-leave-success":"Úspešne ste opustili udalosť","event-leave-fail":"Chyba pri opustení udalosti","status-active":"Aktívny","status-paused":"Pozastavený","status-left":"Odišiel","participant-table-phone":"Telefónne číslo","participant-table-left":"Čas odchodu","participant-table-joined":"Čas pripojenia","no-changes-detected":"V údajoch neboli zistené žiadne zmeny.","error-invalid-json":"Neplatný formát JSON pre pravdepodobnostné zóny.","missing-update-success":"Údaje boli úspešne aktualizované.","missing-update-fail":"Chyba pri aktualizácii údajov:",marker:"Značka","marker-type":"Typ",user:"Používateľ","phone-number":"Telefónne číslo","recording-time":"Čas záznamu","missing-person":"Nezvestná osoba",age:"Vek",clothing:"Oblečenie",coordinates:"Súradnice","location-required-for-zones":"Poloha (šírka, dĺžka) je potrebná pre automatické zóny pravdepodobnosti","invalid-prob-zones":"Neplatné zóny pravdepodobnosti: súradnice alebo plocha presahujú limity","select-behavior-category":"Vyberte kategóriu správania","behavior-child1-3":"Dieťa (1-3 roky)","behavior-child4-6":"Dieťa (4-6 rokov)","behavior-hiker":"Turista","behavior-despondent":"Zúfalý","behavior-hunter":"Poľovník","behavior-elderly":"Starší človek","behavior-default":"Predvolené","zone-25":"25% zóna pravdepodobnosti","zone-50":"50% zóna pravdepodobnosti","zone-75":"75% zóna pravdepodobnosti","zone-95":"95% zóna pravdepodobnosti","show-prob-zones":"Zobraziť zóny pravdepodobnosti"}},ro:{translation:{"header-title":"Panou de administrare","nav-users":"Utilizatori","nav-events":"Evenimente","nav-map":"Hartă","nav-users-manager":"Manager utilizatori","nav-help-editor":"Editor de ajutor","nav-missing-persons-editor":"Editor persoane dispărute","nav-search-manager":"Management căutare","select-page":"Selectați o pagină","users-h2":"Management utilizatori","user-id-label":"ID utilizator:","role-label":"Rol:","update-role-btn":"Actualizați rolul","events-h2":"Management evenimente","event-name-label":"Nume eveniment:","create-event-btn":"Creați eveniment","map-h2":"Hartă live","role-searcher":"Căutător","role-coordinator":"Coordonator","role-admin":"Admin","user-table-id":"ID","user-table-email":"Email","user-table-fullname":"Nume complet","user-table-role":"Rol","event-table-id":"ID","event-table-name":"Nume","event-table-status":"Stare","event-table-starttime":"Ora de începere","role-update-success":"Rol actualizat cu succes","role-update-fail":"Nu s-a putut actualiza rolul:","event-create-success":"Eveniment creat cu succes","event-create-fail":"Nu s-a putut crea evenimentul:","event-update-success":"Eveniment actualizat cu succes","event-update-fail":"Nu s-a putut actualiza evenimentul:","event-delete-success":"Eveniment șters cu succes","event-delete-fail":"Nu s-a putut șterge evenimentul:","select-event-btn":"Selectați evenimentul","join-event-btn":"Alăturați-vă evenimentului","event-join-success":"V-ați alăturat evenimentului cu succes!","event-join-fail":"Nu s-a putut alătura evenimentului:","select-event-first":"Vă rugăm să selectați mai întâi un eveniment!","event-status-label":"Stare eveniment","status-active":"Activ","status-paused":"În pauză","status-completed":"Finalizat","update-event-btn":"Actualizați evenimentul","delete-event-btn":"Ștergeți evenimentul","users-manager-h2":"Manager utilizatori","create-user-btn":"Creați utilizator","delete-user-btn":"Ștergeți","update-user-btn":"Actualizați","full-name-label":"Nume complet:","phone-label":"Număr de telefon:","email-label":"Email:","password-label":"Parolă:","active-label":"Activ:","user-create-success":"Utilizator creat cu succes","user-create-fail":"Nu s-a putut crea utilizatorul:","user-update-success":"Utilizator actualizat cu succes","user-update-fail":"Nu s-a putut actualiza utilizatorul:","user-delete-success":"Utilizator șters cu succes","user-delete-fail":"Nu s-a putut șterge utilizatorul:","user-table-phone":"Telefon","user-table-active":"Activ","help-editor-h2":"Editor de conținut de ajutor","section-label":"Secțiune:","text-hu-label":"Text HU:","text-en-label":"Text EN:","text-sk-label":"Text SK:","text-ro-label":"Text RO:","text-pl-label":"Text PL:","create-help-btn":"Creați intrare de ajutor","update-help-btn":"Actualizați","delete-help-btn":"Ștergeți","help-create-success":"Intrare de ajutor creată cu succes","help-create-fail":"Nu s-a putut crea intrarea de ajutor:","help-update-success":"Intrare de ajutor actualizată cu succes","help-update-fail":"Nu s-a putut actualiza intrarea de ajutor:","help-delete-success":"Intrare de ajutor ștearsă cu succes","help-delete-fail":"Nu s-a putut șterge intrarea de ajutor:","help-table-section":"Secțiune","help-table-text-hu":"Text HU","missing-persons-editor-h2":"Editor persoane dispărute","event-id-label":"ID eveniment:","name-label":"Nume:","age-label":"Vârstă:","height-label":"Înălțime (cm):","clothing-label":"Îmbrăcăminte:","photo-url-label":"URL fotografie:","behavior-category-label":"Categorie de comportament:","prob-zones-label":"Zone probabile (JSON):","create-missing-btn":"Creați persoană dispărută","update-missing-btn":"Actualizați","delete-missing-btn":"Ștergeți","missing-create-success":"Persoană dispărută creată cu succes","missing-create-fail":"Nu s-a putut crea persoana dispărută:","missing-update-success":"Persoană dispărută actualizată cu succes","missing-update-fail":"Nu s-a putut actualiza persoana dispărută:","missing-delete-success":"Persoană dispărută ștearsă cu succes","missing-delete-fail":"Nu s-a putut șterge persoana dispărută:","missing-table-name":"Nume","missing-table-age":"Vârstă","missing-table-height":"Înălțime","missing-table-clothing":"Îmbrăcăminte","missing-table-photo":"URL fotografie","missing-table-behavior":"Comportament","missing-table-prob-zones":"Zone probabile","login-header":"Autentificare","login-email":"Email","login-password":"Parolă","login-full-name":"Nume complet","login-phone-number":"Număr de telefon","login-save-credentials":"Salvați acreditările","login-register":"Înregistrare","login-login":"Autentificare","login-resend-email":"Retrimiteți emailul de confirmare","error-invalid-email":"Format email invalid","error-password-too-short":"Parola trebuie să aibă cel puțin 6 caractere","error-full-name-required":"Numele complet este obligatoriu","error-invalid-phone":"Format număr de telefon invalid","error-no-internet":"Fără conexiune la internet","success-email-resent":"Email de confirmare retrimis cu succes","error-resend-email-failed":"Nu s-a putut retrimite emailul de confirmare","error-registration-failed":"Înregistrarea a eșuat","error-email-confirmation-required":"Vă rugăm să confirmați emailul pentru a finaliza înregistrarea","error-auth-user-already-exists":"Utilizatorul există deja","error-auth-invalid-credentials":"Email sau parolă invalidă","error-auth-weak-password":"Parola este prea slabă","error-registration-error":"Eroare de înregistrare","error-permission-denied":"Acces refuzat la tabelul utilizatori","error-column-not-found":"Eroare bază de date: Coloana email nu există","error-invalid-data-type":"Eroare bază de date: Tip de date invalid în trigger","error-login-failed":"Autentificarea a eșuat","error-login-error":"Eroare de autentificare","error-email-not-confirmed":"Email neconfirmat","error-loading-markers":"Nu s-a putut încărca marcajele:","location-label":"Selectați locația pe hartă","location-lat-label":"Latitudine","location-lng-label":"Longitudine","photo-label":"Fotografie",uploading:"Încărcare...","confirm-delete":"Sunteți sigur că doriți să ștergeți?","cancel-btn":"Anulare","actions-label":"Acțiuni","missing-table-location":"Locație","permission-denied":"Permisiune refuzată","user-management-h2":"Management utilizatori","user-manager-tab":"Manager utilizatori","role-update-tab":"Actualizare rol","quick-role-update":"Actualizare rapidă a rolului","update-user-h3":"Actualizați utilizatorul","create-user-h3":"Creați utilizator nou",yes:"Da",no:"Nu",loading:"Încărcare...","nav-user-management":"Management utilizatori","edit-btn":"Editare","save-btn":"Salvare","discard-btn":"Ștergere","participants-h2":"Participanți","participant-table-name":"Nume","participant-table-email":"Email","participant-table-role":"Rolă","participant-table-joined":"S-a alăturat","participant-table-status":"Status","leave-event-btn":"Părăsește evenimentul","pause-participant-btn":"Pauză","resume-participant-btn":"Continuă","leave-participant-btn":"Părăsește","participant-status-update-success":"Statusul participantului a fost actualizat","participant-status-update-fail":"Eroare la actualizarea statusului participantului","event-leave-success":"Ai părăsit cu succes evenimentul","event-leave-fail":"Eroare la părăsirea evenimentului","status-active":"Activ","status-paused":"În pauză","status-left":"A părăsit","participant-table-phone":"Număr de telefon","participant-table-left":"Ora plecării","participant-table-joined":"Ora alăturării","no-changes-detected":"Nu s-au detectat modificări în date.","error-invalid-json":"Format JSON invalid pentru zonele de probabilitate.","missing-update-success":"Datele au fost actualizate cu succes.","missing-update-fail":"Eroare la actualizarea datelor:",marker:"Marcaj","marker-type":"Tip",user:"Utilizator","phone-number":"Număr de telefon","recording-time":"Timp de înregistrare","missing-person":"Persoană dispărută",age:"Vârstă",clothing:"Îmbrăcăminte",coordinates:"Coordonate","location-required-for-zones":"Locație (lat, lng) necesară pentru zonele de probabilitate automată","invalid-prob-zones":"Zone de probabilitate nevalide: coordonatele sau aria depășesc limitele","select-behavior-category":"Selectați categoria de comportament","behavior-child1-3":"Copil (1-3 ani)","behavior-child4-6":"Copil (4-6 ani)","behavior-hiker":"Excursionist","behavior-despondent":"Deprimat","behavior-hunter":"Vânător","behavior-elderly":"Vârstnic","behavior-default":"Implicit","zone-25":"Zonă de probabilitate 25%","zone-50":"Zonă de probabilitate 50%","zone-75":"Zonă de probabilitate 75%","zone-95":"Zonă de probabilitate 95%","show-prob-zones":"Afișează zonele de probabilitate"}},pl:{translation:{"header-title":"Panel administracyjny","nav-users":"Użytkownicy","nav-events":"Wydarzenia","nav-map":"Mapa","nav-users-manager":"Manager użytkowników","nav-help-editor":"Edytor pomocy","nav-missing-persons-editor":"Edytor osób zaginionych","nav-search-manager":"Zarządzanie wyszukiwaniem","select-page":"Wybierz stronę","users-h2":"Zarządzanie użytkownikami","user-id-label":"ID użytkownika:","role-label":"Rola:","update-role-btn":"Zaktualizuj rolę","events-h2":"Zarządzanie wydarzeniami","event-name-label":"Nazwa wydarzenia:","create-event-btn":"Utwórz wydarzenie","map-h2":"Mapa na żywo","role-searcher":"Poszukiwacz","role-coordinator":"Koordynator","role-admin":"Admin","user-table-id":"ID","user-table-email":"Email","user-table-fullname":"Pełne imię","user-table-role":"Rola","event-table-id":"ID","event-table-name":"Nazwa","event-table-status":"Status","event-table-starttime":"Czas rozpoczęcia","role-update-success":"Rola zaktualizowana pomyślnie","role-update-fail":"Nie udało się zaktualizować roli:","event-create-success":"Wydarzenie utworzone pomyślnie","event-create-fail":"Nie udało się utworzyć wydarzenia:","event-update-success":"Wydarzenie zaktualizowane pomyślnie","event-update-fail":"Nie udało się zaktualizować wydarzenia:","event-delete-success":"Wydarzenie usunięte pomyślnie","event-delete-fail":"Nie udało się usunąć wydarzenia:","select-event-btn":"Wybierz wydarzenie","join-event-btn":"Dołącz do wydarzenia","event-join-success":"Pomyślnie dołączono do wydarzenia!","event-join-fail":"Nie udało się dołącz do wydarzenia:","select-event-first":"Proszę najpierw wybrać wydarzenie!","event-status-label":"Status wydarzenia","status-active":"Aktywne","status-paused":"Wstrzymane","status-completed":"Zakończone","update-event-btn":"Zaktualizuj wydarzenie","delete-event-btn":"Usuń wydarzenie","users-manager-h2":"Manager użytkowników","create-user-btn":"Utwórz użytkownika","delete-user-btn":"Usuń","update-user-btn":"Zaktualizuj","full-name-label":"Pełne imię:","phone-label":"Numer telefonu:","email-label":"Email:","password-label":"Hasło:","active-label":"Aktywny:","user-create-success":"Użytkownik utworzony pomyślnie","user-create-fail":"Nie udało się utworzyć użytkownika:","user-update-success":"Użytkownik zaktualizowany pomyślnie","user-update-fail":"Nie udało się zaktualizować użytkownika:","user-delete-success":"Użytkownik usunięty pomyślnie","user-delete-fail":"Nie udało się usunąć użytkownika:","user-table-phone":"Telefon","user-table-active":"Aktywny","help-editor-h2":"Edytor treści pomocy","section-label":"Sekcja:","text-hu-label":"Tekst HU:","text-en-label":"Tekst EN:","text-sk-label":"Tekst SK:","text-ro-label":"Tekst RO:","text-pl-label":"Tekst PL:","create-help-btn":"Utwórz wpis pomocy","update-help-btn":"Zaktualizuj","delete-help-btn":"Usuń","help-create-success":"Wpis pomocy utworzony pomyślnie","help-create-fail":"Nie udało się utworzyć wpisu pomocy:","help-update-success":"Wpis pomocy zaktualizowany pomyślnie","help-update-fail":"Nie udało się zaktualizować wpisu pomocy:","help-delete-success":"Wpis pomocy usunięty pomyślnie","help-delete-fail":"Nie udało się usunąć wpisu pomocy:","help-table-section":"Sekcja","help-table-text-hu":"Tekst HU","missing-persons-editor-h2":"Edytor osób zaginionych","event-id-label":"ID wydarzenia:","name-label":"Imię:","age-label":"Wiek:","height-label":"Wzrost (cm):","clothing-label":"Ubranie:","photo-url-label":"URL zdjęcia:","behavior-category-label":"Kategoria zachowania:","prob-zones-label":"Strefy prawdopodobne (JSON):","create-missing-btn":"Utwórz osobę zaginioną","update-missing-btn":"Zaktualizuj","delete-missing-btn":"Usuń","missing-create-success":"Osoba zaginiona utworzona pomyślnie","missing-create-fail":"Nie udało się utworzyć osoby zaginionej:","missing-update-success":"Osoba zaginiona zaktualizowana pomyślnie","missing-update-fail":"Nie udało się zaktualizować osoby zaginionej:","missing-delete-success":"Osoba zaginiona usunięta pomyślnie","missing-delete-fail":"Nie udało się usunąć osoby zaginionej:","missing-table-name":"Imię","missing-table-age":"Wiek","missing-table-height":"Wzrost","missing-table-clothing":"Ubranie","missing-table-photo":"URL zdjęcia","missing-table-behavior":"Zachowanie","missing-table-prob-zones":"Strefy prawdopodobne","login-header":"Logowanie","login-email":"Email","login-password":"Hasło","login-full-name":"Pełne imię","login-phone-number":"Numer telefonu","login-save-credentials":"Zapisz dane logowania","login-register":"Rejestracja","login-login":"Zaloguj się","login-resend-email":"Ponownie wyślij email potwierdzający","error-invalid-email":"Nieprawidłowy format emaila","error-password-too-short":"Hasło musi mieć co najmniej 6 znaków","error-full-name-required":"Pełne imię jest wymagane","error-invalid-phone":"Nieprawidłowy format numeru telefonu","error-no-internet":"Brak połączenia internetowego","success-email-resent":"Email potwierdzający ponownie wysłany z sukcesem","error-resend-email-failed":"Ponowne wysłanie emaila potwierdzającego nie powiodło się","error-registration-failed":"Rejestracja nie powiodła się","error-email-confirmation-required":"Proszę potwierdzić email, aby ukończyć rejestrację","error-auth-user-already-exists":"Użytkownik już istnieje","error-auth-invalid-credentials":"Nieprawidłowy email lub hasło","error-auth-weak-password":"Hasło jest zbyt słabe","error-registration-error":"Błąd rejestracji","error-permission-denied":"Odmowa dostępu do tabeli users","error-column-not-found":"Błąd bazy danych: Kolumna email nie istnieje","error-invalid-data-type":"Błąd bazy danych: Nieprawidłowy typ danych w triggerze","error-login-failed":"Logowanie nie powiodło się","error-login-error":"Błąd logowania","error-email-not-confirmed":"Email niepotwierdzony","error-loading-markers":"Nie udało się załadować znaczników:","location-label":"Wybierz lokalizację na mapie","location-lat-label":"Szerokość geograficzna","location-lng-label":"Długość geograficzna","photo-label":"Zdjęcie",uploading:"Wgrywanie...","confirm-delete":"Czy na pewno chcesz usunąć?","cancel-btn":"Anuluj","actions-label":"Akcje","missing-table-location":"Lokalizacja","permission-denied":"Odmowa dostępu","user-management-h2":"Zarządzanie użytkownikami","user-manager-tab":"Manager użytkowników","role-update-tab":"Aktualizacja roli","quick-role-update":"Szybka aktualizacja roli","update-user-h3":"Zaktualizuj użytkownika","create-user-h3":"Utwórz nowego użytkownika",yes:"Tak",no:"Nie",loading:"Ładowanie...","nav-user-management":"Zarządzanie użytkownikami","edit-btn":"Edytuj","save-btn":"Zapisz","discard-btn":"Usuń","participants-h2":"Uczestnicy","participant-table-name":"Imię","participant-table-email":"Email","participant-table-role":"Rola","participant-table-joined":"Dołączył","participant-table-status":"Status","leave-event-btn":"Opuść wydarzenie","pause-participant-btn":"Wstrzymaj","resume-participant-btn":"Wznów","leave-participant-btn":"Opuść","participant-status-update-success":"Status uczestnika został zaktualizowany","participant-status-update-fail":"Błąd podczas aktualizacji statusu uczestnika","event-leave-success":"Pomyślnie opuściłeś wydarzenie","event-leave-fail":"Błąd podczas opuszczania wydarzenia","status-active":"Aktywny","status-paused":"Wstrzymany","status-left":"Opuścił","participant-table-phone":"Numer telefonu","participant-table-left":"Czas opuszczenia","participant-table-joined":"Czas dołączenia","no-changes-detected":"Nie wykryto zmian w danych.","error-invalid-json":"Nieprawidłowy format JSON dla stref prawdopodobieństwa.","missing-update-success":"Dane zostały pomyślnie zaktualizowane.","missing-update-fail":"Błąd podczas aktualizacji danych:",marker:"Znacznik","marker-type":"Typ",user:"Użytkownik","phone-number":"Numer telefonu","recording-time":"Czas nagrania","missing-person":"Osoba zaginiona",age:"Wiek",clothing:"Ubranie",coordinates:"Współrzędne","location-required-for-zones":"Lokalizacja (szer., dł.) wymagana dla automatycznych stref prawdopodobieństwa","invalid-prob-zones":"Nieprawidłowe strefy prawdopodobieństwa: współrzędne lub obszar przekraczają limity","select-behavior-category":"Wybierz kategorię zachowania","behavior-child1-3":"Dziecko (1-3 lata)","behavior-child4-6":"Dziecko (4-6 lat)","behavior-hiker":"Wędrowiec","behavior-despondent":"Przygnębiony","behavior-hunter":"Myśliwy","behavior-elderly":"Osoba starsza","behavior-default":"Domyślne","zone-25":"Strefa prawdopodobieństwa 25%","zone-50":"Strefa prawdopodobieństwa 50%","zone-75":"Strefa prawdopodobieństwa 75%","zone-95":"Strefa prawdopodobieństwa 95%","show-prob-zones":"Pokaż strefy prawdopodobieństwa"}}};Lt.use(gv).init({resources:yw,lng:localStorage.getItem("language")||"hu",fallbackLng:"en",interpolation:{escapeValue:!1}});function ww(){const{t:l}=Mo(),[i,r]=I.useState(Lt.language),[a,u]=I.useState(null);I.useEffect(()=>{Se.auth.getSession().then(({data:{session:g}})=>{u(g)});const{data:f}=Se.auth.onAuthStateChange((g,_)=>{u(_)});return()=>f.subscription.unsubscribe()},[]);const d=async f=>{if(Lt.changeLanguage(f),r(f),localStorage.setItem("language",f),a)try{await Se.from("users").update({language:f}).eq("id",a.user.id)}catch(g){console.error("Error updating language:",g)}};return a?P.jsxs(tv,{basename:"/rescue-admin",children:[P.jsxs("header",{children:[P.jsx("h1",{children:l("header-title")}),P.jsxs("nav",{children:[P.jsx(iu,{to:"/user-management",children:l("nav-user-management")}),P.jsx(iu,{to:"/search-manager",children:l("nav-search-manager")}),P.jsx(iu,{to:"/map",children:l("nav-map")}),P.jsx(iu,{to:"/help-editor",children:l("nav-help-editor")}),P.jsxs("select",{value:i,onChange:f=>d(f.target.value),children:[P.jsx("option",{value:"hu",children:"Magyar"}),P.jsx("option",{value:"en",children:"English"}),P.jsx("option",{value:"sk",children:"Slovenský"}),P.jsx("option",{value:"ro",children:"Română"}),P.jsx("option",{value:"pl",children:"Polski"})]}),P.jsx("button",{onClick:()=>Se.auth.signOut(),children:l("logout")})]})]}),P.jsx("main",{children:P.jsxs(Kg,{children:[P.jsx(To,{path:"/user-management",element:P.jsx(Py,{})}),P.jsx(To,{path:"/search-manager",element:P.jsx(Gy,{})}),P.jsx(To,{path:"/map",element:P.jsx(Jy,{})}),P.jsx(To,{path:"/help-editor",element:P.jsx(Qy,{})}),P.jsx(To,{path:"/",element:P.jsx(Vg,{to:"/search-manager"})})]})})]}):P.jsx(Yy,{})}tg.createRoot(document.getElementById("root")).render(P.jsx(No.StrictMode,{children:P.jsx(ww,{})}));
