function Wm(l,i){for(var r=0;r<i.length;r++){const a=i[r];if(typeof a!="string"&&!Array.isArray(a)){for(const u in a)if(u!=="default"&&!(u in l)){const d=Object.getOwnPropertyDescriptor(a,u);d&&Object.defineProperty(l,u,d.get?d:{enumerable:!0,get:()=>a[u]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(u){if(u.ep)return;u.ep=!0;const d=r(u);fetch(u.href,d)}})();function vu(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Vm(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var i=l.default;if(typeof i=="function"){var r=function a(){var u=!1;try{u=this instanceof a}catch{}return u?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};r.prototype=i.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(l).forEach(function(a){var u=Object.getOwnPropertyDescriptor(l,a);Object.defineProperty(r,a,u.get?u:{enumerable:!0,get:function(){return l[a]}})}),r}var Bc={exports:{}},La={},Zc={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gf;function qm(){if(gf)return Fe;gf=1;var l=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.iterator;function j(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,U={};function F(T,q,ce){this.props=T,this.context=q,this.refs=U,this.updater=ce||R}F.prototype.isReactComponent={},F.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},F.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function ee(){}ee.prototype=F.prototype;function ne(T,q,ce){this.props=T,this.context=q,this.refs=U,this.updater=ce||R}var G=ne.prototype=new ee;G.constructor=ne,M(G,F.prototype),G.isPureReactComponent=!0;var Q=Array.isArray,re=Object.prototype.hasOwnProperty,se={current:null},le={key:!0,ref:!0,__self:!0,__source:!0};function ve(T,q,ce){var ge,pe={},he=null,Ce=null;if(q!=null)for(ge in q.ref!==void 0&&(Ce=q.ref),q.key!==void 0&&(he=""+q.key),q)re.call(q,ge)&&!le.hasOwnProperty(ge)&&(pe[ge]=q[ge]);var we=arguments.length-2;if(we===1)pe.children=ce;else if(1<we){for(var Ge=Array(we),lt=0;lt<we;lt++)Ge[lt]=arguments[lt+2];pe.children=Ge}if(T&&T.defaultProps)for(ge in we=T.defaultProps,we)pe[ge]===void 0&&(pe[ge]=we[ge]);return{$$typeof:l,type:T,key:he,ref:Ce,props:pe,_owner:se.current}}function De(T,q){return{$$typeof:l,type:T.type,key:q,ref:T.ref,props:T.props,_owner:T._owner}}function oe(T){return typeof T=="object"&&T!==null&&T.$$typeof===l}function ke(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(ce){return q[ce]})}var We=/\/+/g;function Me(T,q){return typeof T=="object"&&T!==null&&T.key!=null?ke(""+T.key):q.toString(36)}function Ue(T,q,ce,ge,pe){var he=typeof T;(he==="undefined"||he==="boolean")&&(T=null);var Ce=!1;if(T===null)Ce=!0;else switch(he){case"string":case"number":Ce=!0;break;case"object":switch(T.$$typeof){case l:case i:Ce=!0}}if(Ce)return Ce=T,pe=pe(Ce),T=ge===""?"."+Me(Ce,0):ge,Q(pe)?(ce="",T!=null&&(ce=T.replace(We,"$&/")+"/"),Ue(pe,q,ce,"",function(lt){return lt})):pe!=null&&(oe(pe)&&(pe=De(pe,ce+(!pe.key||Ce&&Ce.key===pe.key?"":(""+pe.key).replace(We,"$&/")+"/")+T)),q.push(pe)),1;if(Ce=0,ge=ge===""?".":ge+":",Q(T))for(var we=0;we<T.length;we++){he=T[we];var Ge=ge+Me(he,we);Ce+=Ue(he,q,ce,Ge,pe)}else if(Ge=j(T),typeof Ge=="function")for(T=Ge.call(T),we=0;!(he=T.next()).done;)he=he.value,Ge=ge+Me(he,we++),Ce+=Ue(he,q,ce,Ge,pe);else if(he==="object")throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return Ce}function tt(T,q,ce){if(T==null)return T;var ge=[],pe=0;return Ue(T,ge,"","",function(he){return q.call(ce,he,pe++)}),ge}function ze(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(ce){(T._status===0||T._status===-1)&&(T._status=1,T._result=ce)},function(ce){(T._status===0||T._status===-1)&&(T._status=2,T._result=ce)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var Le={current:null},K={transition:null},H={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:K,ReactCurrentOwner:se};function Z(){throw Error("act(...) is not supported in production builds of React.")}return Fe.Children={map:tt,forEach:function(T,q,ce){tt(T,function(){q.apply(this,arguments)},ce)},count:function(T){var q=0;return tt(T,function(){q++}),q},toArray:function(T){return tt(T,function(q){return q})||[]},only:function(T){if(!oe(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},Fe.Component=F,Fe.Fragment=r,Fe.Profiler=u,Fe.PureComponent=ne,Fe.StrictMode=a,Fe.Suspense=_,Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Fe.act=Z,Fe.cloneElement=function(T,q,ce){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var ge=M({},T.props),pe=T.key,he=T.ref,Ce=T._owner;if(q!=null){if(q.ref!==void 0&&(he=q.ref,Ce=se.current),q.key!==void 0&&(pe=""+q.key),T.type&&T.type.defaultProps)var we=T.type.defaultProps;for(Ge in q)re.call(q,Ge)&&!le.hasOwnProperty(Ge)&&(ge[Ge]=q[Ge]===void 0&&we!==void 0?we[Ge]:q[Ge])}var Ge=arguments.length-2;if(Ge===1)ge.children=ce;else if(1<Ge){we=Array(Ge);for(var lt=0;lt<Ge;lt++)we[lt]=arguments[lt+2];ge.children=we}return{$$typeof:l,type:T.type,key:pe,ref:he,props:ge,_owner:Ce}},Fe.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:d,_context:T},T.Consumer=T},Fe.createElement=ve,Fe.createFactory=function(T){var q=ve.bind(null,T);return q.type=T,q},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(T){return{$$typeof:g,render:T}},Fe.isValidElement=oe,Fe.lazy=function(T){return{$$typeof:S,_payload:{_status:-1,_result:T},_init:ze}},Fe.memo=function(T,q){return{$$typeof:w,type:T,compare:q===void 0?null:q}},Fe.startTransition=function(T){var q=K.transition;K.transition={};try{T()}finally{K.transition=q}},Fe.unstable_act=Z,Fe.useCallback=function(T,q){return Le.current.useCallback(T,q)},Fe.useContext=function(T){return Le.current.useContext(T)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(T){return Le.current.useDeferredValue(T)},Fe.useEffect=function(T,q){return Le.current.useEffect(T,q)},Fe.useId=function(){return Le.current.useId()},Fe.useImperativeHandle=function(T,q,ce){return Le.current.useImperativeHandle(T,q,ce)},Fe.useInsertionEffect=function(T,q){return Le.current.useInsertionEffect(T,q)},Fe.useLayoutEffect=function(T,q){return Le.current.useLayoutEffect(T,q)},Fe.useMemo=function(T,q){return Le.current.useMemo(T,q)},Fe.useReducer=function(T,q,ce){return Le.current.useReducer(T,q,ce)},Fe.useRef=function(T){return Le.current.useRef(T)},Fe.useState=function(T){return Le.current.useState(T)},Fe.useSyncExternalStore=function(T,q,ce){return Le.current.useSyncExternalStore(T,q,ce)},Fe.useTransition=function(){return Le.current.useTransition()},Fe.version="18.3.1",Fe}var vf;function kh(){return vf||(vf=1,Zc.exports=qm()),Zc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _f;function Km(){if(_f)return La;_f=1;var l=kh(),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,u=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(g,_,w){var S,x={},j=null,R=null;w!==void 0&&(j=""+w),_.key!==void 0&&(j=""+_.key),_.ref!==void 0&&(R=_.ref);for(S in _)a.call(_,S)&&!d.hasOwnProperty(S)&&(x[S]=_[S]);if(g&&g.defaultProps)for(S in _=g.defaultProps,_)x[S]===void 0&&(x[S]=_[S]);return{$$typeof:i,type:g,key:j,ref:R,props:x,_owner:u.current}}return La.Fragment=r,La.jsx=f,La.jsxs=f,La}var yf;function Gm(){return yf||(yf=1,Bc.exports=Km()),Bc.exports}var P=Gm(),I=kh();const Oo=vu(I),Jm=Wm({__proto__:null,default:Oo},[I]);var nu={},Hc={exports:{}},on={},Wc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf;function Qm(){return wf||(wf=1,(function(l){function i(K,H){var Z=K.length;K.push(H);e:for(;0<Z;){var T=Z-1>>>1,q=K[T];if(0<u(q,H))K[T]=H,K[Z]=q,Z=T;else break e}}function r(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var H=K[0],Z=K.pop();if(Z!==H){K[0]=Z;e:for(var T=0,q=K.length,ce=q>>>1;T<ce;){var ge=2*(T+1)-1,pe=K[ge],he=ge+1,Ce=K[he];if(0>u(pe,Z))he<q&&0>u(Ce,pe)?(K[T]=Ce,K[he]=Z,T=he):(K[T]=pe,K[ge]=Z,T=ge);else if(he<q&&0>u(Ce,Z))K[T]=Ce,K[he]=Z,T=he;else break e}}return H}function u(K,H){var Z=K.sortIndex-H.sortIndex;return Z!==0?Z:K.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var f=Date,g=f.now();l.unstable_now=function(){return f.now()-g}}var _=[],w=[],S=1,x=null,j=3,R=!1,M=!1,U=!1,F=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function G(K){for(var H=r(w);H!==null;){if(H.callback===null)a(w);else if(H.startTime<=K)a(w),H.sortIndex=H.expirationTime,i(_,H);else break;H=r(w)}}function Q(K){if(U=!1,G(K),!M)if(r(_)!==null)M=!0,ze(re);else{var H=r(w);H!==null&&Le(Q,H.startTime-K)}}function re(K,H){M=!1,U&&(U=!1,ee(ve),ve=-1),R=!0;var Z=j;try{for(G(H),x=r(_);x!==null&&(!(x.expirationTime>H)||K&&!ke());){var T=x.callback;if(typeof T=="function"){x.callback=null,j=x.priorityLevel;var q=T(x.expirationTime<=H);H=l.unstable_now(),typeof q=="function"?x.callback=q:x===r(_)&&a(_),G(H)}else a(_);x=r(_)}if(x!==null)var ce=!0;else{var ge=r(w);ge!==null&&Le(Q,ge.startTime-H),ce=!1}return ce}finally{x=null,j=Z,R=!1}}var se=!1,le=null,ve=-1,De=5,oe=-1;function ke(){return!(l.unstable_now()-oe<De)}function We(){if(le!==null){var K=l.unstable_now();oe=K;var H=!0;try{H=le(!0,K)}finally{H?Me():(se=!1,le=null)}}else se=!1}var Me;if(typeof ne=="function")Me=function(){ne(We)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,tt=Ue.port2;Ue.port1.onmessage=We,Me=function(){tt.postMessage(null)}}else Me=function(){F(We,0)};function ze(K){le=K,se||(se=!0,Me())}function Le(K,H){ve=F(function(){K(l.unstable_now())},H)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(K){K.callback=null},l.unstable_continueExecution=function(){M||R||(M=!0,ze(re))},l.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):De=0<K?Math.floor(1e3/K):5},l.unstable_getCurrentPriorityLevel=function(){return j},l.unstable_getFirstCallbackNode=function(){return r(_)},l.unstable_next=function(K){switch(j){case 1:case 2:case 3:var H=3;break;default:H=j}var Z=j;j=H;try{return K()}finally{j=Z}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(K,H){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Z=j;j=K;try{return H()}finally{j=Z}},l.unstable_scheduleCallback=function(K,H,Z){var T=l.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?T+Z:T):Z=T,K){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Z+q,K={id:S++,callback:H,priorityLevel:K,startTime:Z,expirationTime:q,sortIndex:-1},Z>T?(K.sortIndex=Z,i(w,K),r(_)===null&&K===r(w)&&(U?(ee(ve),ve=-1):U=!0,Le(Q,Z-T))):(K.sortIndex=q,i(_,K),M||R||(M=!0,ze(re))),K},l.unstable_shouldYield=ke,l.unstable_wrapCallback=function(K){var H=j;return function(){var Z=j;j=H;try{return K.apply(this,arguments)}finally{j=Z}}}})(Vc)),Vc}var bf;function Ym(){return bf||(bf=1,Wc.exports=Qm()),Wc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf;function Xm(){if(xf)return on;xf=1;var l=kh(),i=Ym();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,u={};function d(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(u[e]=n,e=0;e<n.length;e++)a.add(n[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_=Object.prototype.hasOwnProperty,w=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},x={};function j(e){return _.call(x,e)?!0:_.call(S,e)?!1:w.test(e)?x[e]=!0:(S[e]=!0,!1)}function R(e,n,o,h){if(o!==null&&o.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return h?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function M(e,n,o,h){if(n===null||typeof n>"u"||R(e,n,o,h))return!0;if(h)return!1;if(o!==null)switch(o.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function U(e,n,o,h,m,v,b){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=e,this.type=n,this.sanitizeURL=v,this.removeEmptyString=b}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){F[e]=new U(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];F[n]=new U(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){F[e]=new U(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){F[e]=new U(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){F[e]=new U(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){F[e]=new U(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){F[e]=new U(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){F[e]=new U(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){F[e]=new U(e,5,!1,e.toLowerCase(),null,!1,!1)});var ee=/[\-:]([a-z])/g;function ne(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(ee,ne);F[n]=new U(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(ee,ne);F[n]=new U(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(ee,ne);F[n]=new U(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){F[e]=new U(e,1,!1,e.toLowerCase(),null,!1,!1)}),F.xlinkHref=new U("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){F[e]=new U(e,1,!1,e.toLowerCase(),null,!0,!0)});function G(e,n,o,h){var m=F.hasOwnProperty(n)?F[n]:null;(m!==null?m.type!==0:h||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(M(n,o,m,h)&&(o=null),h||m===null?j(n)&&(o===null?e.removeAttribute(n):e.setAttribute(n,""+o)):m.mustUseProperty?e[m.propertyName]=o===null?m.type===3?!1:"":o:(n=m.attributeName,h=m.attributeNamespace,o===null?e.removeAttribute(n):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,h?e.setAttributeNS(h,n,o):e.setAttribute(n,o))))}var Q=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,re=Symbol.for("react.element"),se=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),ve=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),ke=Symbol.for("react.context"),We=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),tt=Symbol.for("react.memo"),ze=Symbol.for("react.lazy"),Le=Symbol.for("react.offscreen"),K=Symbol.iterator;function H(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,T;function q(e){if(T===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);T=n&&n[1]||""}return`
`+T+e}var ce=!1;function ge(e,n){if(!e||ce)return"";ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(V){var h=V}Reflect.construct(e,[],n)}else{try{n.call()}catch(V){h=V}e.call(n.prototype)}else{try{throw Error()}catch(V){h=V}e()}}catch(V){if(V&&h&&typeof V.stack=="string"){for(var m=V.stack.split(`
`),v=h.stack.split(`
`),b=m.length-1,C=v.length-1;1<=b&&0<=C&&m[b]!==v[C];)C--;for(;1<=b&&0<=C;b--,C--)if(m[b]!==v[C]){if(b!==1||C!==1)do if(b--,C--,0>C||m[b]!==v[C]){var O=`
`+m[b].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=b&&0<=C);break}}}finally{ce=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?q(e):""}function pe(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=ge(e.type,!1),e;case 11:return e=ge(e.type.render,!1),e;case 1:return e=ge(e.type,!0),e;default:return""}}function he(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case le:return"Fragment";case se:return"Portal";case De:return"Profiler";case ve:return"StrictMode";case Me:return"Suspense";case Ue:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ke:return(e.displayName||"Context")+".Consumer";case oe:return(e._context.displayName||"Context")+".Provider";case We:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tt:return n=e.displayName||null,n!==null?n:he(e.type)||"Memo";case ze:n=e._payload,e=e._init;try{return he(e(n))}catch{}}return null}function Ce(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(n);case 8:return n===ve?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function we(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ge(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function lt(e){var n=Ge(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),h=""+e[n];if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,v=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return m.call(this)},set:function(b){h=""+b,v.call(this,b)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return h},setValue:function(b){h=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function kn(e){e._valueTracker||(e._valueTracker=lt(e))}function ni(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),h="";return e&&(h=Ge(e)?e.checked?"true":"false":e.value),e=h,e!==o?(n.setValue(e),!0):!1}function an(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bi(e,n){var o=n.checked;return Z({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function Sn(e,n){var o=n.defaultValue==null?"":n.defaultValue,h=n.checked!=null?n.checked:n.defaultChecked;o=we(n.value!=null?n.value:o),e._wrapperState={initialChecked:h,initialValue:o,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Vr(e,n){n=n.checked,n!=null&&G(e,"checked",n,!1)}function xi(e,n){Vr(e,n);var o=we(n.value),h=n.type;if(o!=null)h==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(h==="submit"||h==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Si(e,n.type,o):n.hasOwnProperty("defaultValue")&&Si(e,n.type,we(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function ki(e,n,o){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var h=n.type;if(!(h!=="submit"&&h!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,o||n===e.value||(e.value=n),e.defaultValue=n}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function Si(e,n,o){(n!=="number"||an(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var ii=Array.isArray;function Pn(e,n,o,h){if(e=e.options,n){n={};for(var m=0;m<o.length;m++)n["$"+o[m]]=!0;for(o=0;o<e.length;o++)m=n.hasOwnProperty("$"+e[o].value),e[o].selected!==m&&(e[o].selected=m),m&&h&&(e[o].defaultSelected=!0)}else{for(o=""+we(o),n=null,m=0;m<e.length;m++){if(e[m].value===o){e[m].selected=!0,h&&(e[m].defaultSelected=!0);return}n!==null||e[m].disabled||(n=e[m])}n!==null&&(n.selected=!0)}}function Xe(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return Z({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Pi(e,n){var o=n.value;if(o==null){if(o=n.children,n=n.defaultValue,o!=null){if(n!=null)throw Error(r(92));if(ii(o)){if(1<o.length)throw Error(r(93));o=o[0]}n=o}n==null&&(n=""),o=n}e._wrapperState={initialValue:we(o)}}function zs(e,n){var o=we(n.value),h=we(n.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),n.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),h!=null&&(e.defaultValue=""+h)}function ri(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function En(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ln(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?En(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var un,qr=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,o,h,m){MSApp.execUnsafeLocalFunction(function(){return e(n,o,h,m)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(un=un||document.createElement("div"),un.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=un.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function si(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$o=["Webkit","ms","Moz","O"];Object.keys(oi).forEach(function(e){$o.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),oi[n]=oi[e]})});function Ei(e,n,o){return n==null||typeof n=="boolean"||n===""?"":o||typeof n!="number"||n===0||oi.hasOwnProperty(e)&&oi[e]?(""+n).trim():n+"px"}function Ji(e,n){e=e.style;for(var o in n)if(n.hasOwnProperty(o)){var h=o.indexOf("--")===0,m=Ei(o,n[o],h);o==="float"&&(o="cssFloat"),h?e.setProperty(o,m):e[o]=m}}var Qi=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yi(e,n){if(n){if(Qi[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function $n(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kr=null;function Gr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xi=null,Fn=null,Bn=null;function er(e){if(e=Ui(e)){if(typeof Xi!="function")throw Error(r(280));var n=e.stateNode;n&&(n=to(n),Xi(e.stateNode,e.type,n))}}function ai(e){Fn?Bn?Bn.push(e):Bn=[e]:Fn=e}function js(){if(Fn){var e=Fn,n=Bn;if(Bn=Fn=null,er(e),n)for(e=0;e<n.length;e++)er(n[e])}}function tr(e,n){return e(n)}function Jr(){}var nr=!1;function ir(e,n,o){if(nr)return e(n,o);nr=!0;try{return tr(e,n,o)}finally{nr=!1,(Fn!==null||Bn!==null)&&(Jr(),js())}}function Ci(e,n){var o=e.stateNode;if(o===null)return null;var h=to(o);if(h===null)return null;o=h[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(e=e.type,h=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!h;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(r(231,n,typeof o));return o}var Qr=!1;if(g)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{Qr=!1}function Fo(e,n,o,h,m,v,b,C,O){var V=Array.prototype.slice.call(arguments,3);try{n.apply(o,V)}catch(X){this.onError(X)}}var E=!1,A=null,be=!1,ue=null,$e={onError:function(e){E=!0,A=e}};function Ve(e,n,o,h,m,v,b,C,O){E=!1,A=null,Fo.apply($e,arguments)}function et(e,n,o,h,m,v,b,C,O){if(Ve.apply(this,arguments),E){if(E){var V=A;E=!1,A=null}else throw Error(r(198));be||(be=!0,ue=V)}}function mt(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function ht(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Jt(e){if(mt(e)!==e)throw Error(r(188))}function ut(e){var n=e.alternate;if(!n){if(n=mt(e),n===null)throw Error(r(188));return n!==e?null:e}for(var o=e,h=n;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){o=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return Jt(m),e;if(v===h)return Jt(m),n;v=v.sibling}throw Error(r(188))}if(o.return!==h.return)o=m,h=v;else{for(var b=!1,C=m.child;C;){if(C===o){b=!0,o=m,h=v;break}if(C===h){b=!0,h=m,o=v;break}C=C.sibling}if(!b){for(C=v.child;C;){if(C===o){b=!0,o=v,h=m;break}if(C===h){b=!0,h=v,o=m;break}C=C.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==h)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?e:n}function Cn(e){return e=ut(e),e!==null?Qt(e):null}function Qt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Qt(e);if(n!==null)return n;e=e.sibling}return null}var Zt=i.unstable_scheduleCallback,cn=i.unstable_cancelCallback,hn=i.unstable_shouldYield,Nt=i.unstable_requestPaint,nt=i.unstable_now,xu=i.unstable_getCurrentPriorityLevel,Bo=i.unstable_ImmediatePriority,Ka=i.unstable_UserBlockingPriority,Os=i.unstable_NormalPriority,Zo=i.unstable_LowPriority,rr=i.unstable_IdlePriority,Yr=null,dn=null;function Xr(e){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Yr,e,void 0,(e.current.flags&128)===128)}catch{}}var Re=Math.clz32?Math.clz32:sr,ot=Math.log,Ns=Math.LN2;function sr(e){return e>>>=0,e===0?32:31-(ot(e)/Ns|0)|0}var Zn=64,or=4194304;function Oe(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function it(e,n){var o=e.pendingLanes;if(o===0)return 0;var h=0,m=e.suspendedLanes,v=e.pingedLanes,b=o&268435455;if(b!==0){var C=b&~m;C!==0?h=Oe(C):(v&=b,v!==0&&(h=Oe(v)))}else b=o&~m,b!==0?h=Oe(b):v!==0&&(h=Oe(v));if(h===0)return 0;if(n!==0&&n!==h&&(n&m)===0&&(m=h&-h,v=n&-n,m>=v||m===16&&(v&4194240)!==0))return n;if((h&4)!==0&&(h|=o&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=h;0<n;)o=31-Re(n),m=1<<o,h|=e[o],n&=~m;return h}function Ho(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rs(e,n){for(var o=e.suspendedLanes,h=e.pingedLanes,m=e.expirationTimes,v=e.pendingLanes;0<v;){var b=31-Re(v),C=1<<b,O=m[b];O===-1?((C&o)===0||(C&h)!==0)&&(m[b]=Ho(C,n)):O<=n&&(e.expiredLanes|=C),v&=~C}}function At(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ga(){var e=Zn;return Zn<<=1,(Zn&4194240)===0&&(Zn=64),e}function ar(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function fn(e,n,o){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Re(n),e[n]=o}function gt(e,n){var o=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var h=e.eventTimes;for(e=e.expirationTimes;0<o;){var m=31-Re(o),v=1<<m;n[m]=0,h[m]=-1,e[m]=-1,o&=~v}}function Hn(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var h=31-Re(o),m=1<<h;m&n|e[h]&n&&(e[h]|=n),o&=~m}}var He=0;function lr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Is,Ti,As,Ms,es,ts=!1,ur=[],pn=null,Wn=null,Ln=null,ns=new Map,Te=new Map,xt=[],Qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wo(e,n){switch(e){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":ns.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Te.delete(n.pointerId)}}function zi(e,n,o,h,m,v){return e===null||e.nativeEvent!==v?(e={blockedOn:n,domEventName:o,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},n!==null&&(n=Ui(n),n!==null&&Ti(n)),e):(e.eventSystemFlags|=h,n=e.targetContainers,m!==null&&n.indexOf(m)===-1&&n.push(m),e)}function Vo(e,n,o,h,m){switch(n){case"focusin":return pn=zi(pn,e,n,o,h,m),!0;case"dragenter":return Wn=zi(Wn,e,n,o,h,m),!0;case"mouseover":return Ln=zi(Ln,e,n,o,h,m),!0;case"pointerover":var v=m.pointerId;return ns.set(v,zi(ns.get(v)||null,e,n,o,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Te.set(v,zi(Te.get(v)||null,e,n,o,h,m)),!0}return!1}function Ds(e){var n=Di(e.target);if(n!==null){var o=mt(n);if(o!==null){if(n=o.tag,n===13){if(n=ht(o),n!==null){e.blockedOn=n,es(e.priority,function(){As(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Fs(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var h=new o.constructor(o.type,o);Kr=h,o.target.dispatchEvent(h),Kr=null}else return n=Ui(o),n!==null&&Ti(n),e.blockedOn=o,!1;n.shift()}return!0}function Us(e,n,o){Tn(e)&&o.delete(n)}function is(){ts=!1,pn!==null&&Tn(pn)&&(pn=null),Wn!==null&&Tn(Wn)&&(Wn=null),Ln!==null&&Tn(Ln)&&(Ln=null),ns.forEach(Us),Te.forEach(Us)}function dt(e,n){e.blockedOn===n&&(e.blockedOn=null,ts||(ts=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,is)))}function mn(e){function n(m){return dt(m,e)}if(0<ur.length){dt(ur[0],e);for(var o=1;o<ur.length;o++){var h=ur[o];h.blockedOn===e&&(h.blockedOn=null)}}for(pn!==null&&dt(pn,e),Wn!==null&&dt(Wn,e),Ln!==null&&dt(Ln,e),ns.forEach(n),Te.forEach(n),o=0;o<xt.length;o++)h=xt[o],h.blockedOn===e&&(h.blockedOn=null);for(;0<xt.length&&(o=xt[0],o.blockedOn===null);)Ds(o),o.blockedOn===null&&xt.shift()}var ji=Q.ReactCurrentBatchConfig,rs=!0;function ku(e,n,o,h){var m=He,v=ji.transition;ji.transition=null;try{He=1,ss(e,n,o,h)}finally{He=m,ji.transition=v}}function Ja(e,n,o,h){var m=He,v=ji.transition;ji.transition=null;try{He=4,ss(e,n,o,h)}finally{He=m,ji.transition=v}}function ss(e,n,o,h){if(rs){var m=Fs(e,n,o,h);if(m===null)t(e,n,h,$s,o),Wo(e,h);else if(Vo(m,e,n,o,h))h.stopPropagation();else if(Wo(e,h),n&4&&-1<Qe.indexOf(e)){for(;m!==null;){var v=Ui(m);if(v!==null&&Is(v),v=Fs(e,n,o,h),v===null&&t(e,n,h,$s,o),v===m)break;m=v}m!==null&&h.stopPropagation()}else t(e,n,h,null,o)}}var $s=null;function Fs(e,n,o,h){if($s=null,e=Gr(h),e=Di(e),e!==null)if(n=mt(e),n===null)e=null;else if(o=n.tag,o===13){if(e=ht(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return $s=e,null}function Be(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xu()){case Bo:return 1;case Ka:return 4;case Os:case Zo:return 16;case rr:return 536870912;default:return 16}default:return 16}}var li=null,Ht=null,ui=null;function qo(){if(ui)return ui;var e,n=Ht,o=n.length,h,m="value"in li?li.value:li.textContent,v=m.length;for(e=0;e<o&&n[e]===m[e];e++);var b=o-e;for(h=1;h<=b&&n[o-h]===m[v-h];h++);return ui=m.slice(e,1<h?1-h:void 0)}function Bs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function cr(){return!0}function Qa(){return!1}function Mt(e){function n(o,h,m,v,b){this._reactName=o,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(o=e[C],this[C]=o?o(v):v[C]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?cr:Qa,this.isPropagationStopped=Qa,this}return Z(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),n}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ko=Mt(hr),Oi=Z({},hr,{view:0,detail:0}),Su=Mt(Oi),Yt,Go,dr,gn=Z({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ri,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dr&&(dr&&e.type==="mousemove"?(Yt=e.screenX-dr.screenX,Go=e.screenY-dr.screenY):Go=Yt=0,dr=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Go}}),Jo=Mt(gn),Ya=Z({},gn,{dataTransfer:0}),Qo=Mt(Ya),Pu=Z({},Oi,{relatedTarget:0}),Zs=Mt(Pu),Xa=Z({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Mt(Xa),Cu=Z({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yo=Mt(Cu),Lu=Z({},hr,{data:0}),Xo=Mt(Lu),el={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hs={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ni={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ni[e])?!!n[e]:!1}function Ri(){return Tu}var Xt=Z({},Oi,{key:function(e){if(e.key){var n=el[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Bs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hs[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ri,charCode:function(e){return e.type==="keypress"?Bs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tl=Mt(Xt),nl=Z({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=Mt(nl),ea=Z({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ri}),ta=Mt(ea),zu=Z({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ju=Mt(zu),rl=Z({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ou=Mt(rl),vn=[9,13,27,32],ci=g&&"CompositionEvent"in window,os=null;g&&"documentMode"in document&&(os=document.documentMode);var Vn=g&&"TextEvent"in window&&!os,sl=g&&(!ci||os&&8<os&&11>=os),Ii=" ",ol=!1;function fr(e,n){switch(e){case"keyup":return vn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function na(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function Nu(e,n){switch(e){case"compositionend":return na(n);case"keypress":return n.which!==32?null:(ol=!0,Ii);case"textInput":return e=n.data,e===Ii&&ol?null:e;default:return null}}function hi(e,n){if(qn)return e==="compositionend"||!ci&&fr(e,n)?(e=qo(),ui=Ht=li=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return sl&&n.locale!=="ko"?null:n.data;default:return null}}var Ws={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function al(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ws[e.type]:n==="textarea"}function Vs(e,n,o,h){ai(h),n=c(n,"onChange"),0<n.length&&(o=new Ko("onChange","change",null,o,h),e.push({event:o,listeners:n}))}var as=null,Wt=null;function Ru(e){ha(e,0)}function Kn(e){var n=$i(e);if(ni(n))return e}function Iu(e,n){if(e==="change")return n}var zn=!1;if(g){var pr;if(g){var qs="oninput"in document;if(!qs){var Ks=document.createElement("div");Ks.setAttribute("oninput","return;"),qs=typeof Ks.oninput=="function"}pr=qs}else pr=!1;zn=pr&&(!document.documentMode||9<document.documentMode)}function ls(){as&&(as.detachEvent("onpropertychange",Gs),Wt=as=null)}function Gs(e){if(e.propertyName==="value"&&Kn(Wt)){var n=[];Vs(n,Wt,e,Gr(e)),ir(Ru,n)}}function Js(e,n,o){e==="focusin"?(ls(),as=n,Wt=o,as.attachEvent("onpropertychange",Gs)):e==="focusout"&&ls()}function mr(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kn(Wt)}function Qs(e,n){if(e==="click")return Kn(n)}function ia(e,n){if(e==="input"||e==="change")return Kn(n)}function ll(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _n=typeof Object.is=="function"?Object.is:ll;function di(e,n){if(_n(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),h=Object.keys(n);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var m=o[h];if(!_.call(n,m)||!_n(e[m],n[m]))return!1}return!0}function ul(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ra(e,n){var o=ul(e);e=0;for(var h;o;){if(o.nodeType===3){if(h=e+o.textContent.length,e<=n&&h>=n)return{node:o,offset:n-e};e=h}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=ul(o)}}function cl(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?cl(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function sa(){for(var e=window,n=an();n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=an(e.document)}return n}function oa(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function jn(e){var n=sa(),o=e.focusedElem,h=e.selectionRange;if(n!==o&&o&&o.ownerDocument&&cl(o.ownerDocument.documentElement,o)){if(h!==null&&oa(o)){if(n=h.start,e=h.end,e===void 0&&(e=n),"selectionStart"in o)o.selectionStart=n,o.selectionEnd=Math.min(e,o.value.length);else if(e=(n=o.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var m=o.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!e.extend&&v>h&&(m=h,h=v,v=m),m=ra(o,v);var b=ra(o,h);m&&b&&(e.rangeCount!==1||e.anchorNode!==m.node||e.anchorOffset!==m.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(n=n.createRange(),n.setStart(m.node,m.offset),e.removeAllRanges(),v>h?(e.addRange(n),e.extend(b.node,b.offset)):(n.setEnd(b.node,b.offset),e.addRange(n)))}}for(n=[],e=o;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<n.length;o++)e=n[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ys=g&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,us=null,Xs=!1;function hl(e,n,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Xs||gr==null||gr!==an(h)||(h=gr,"selectionStart"in h&&oa(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),us&&di(us,h)||(us=h,h=c(vr,"onSelect"),0<h.length&&(n=new Ko("onSelect","select",null,n,o),e.push({event:n,listeners:h}),n.target=gr)))}function fi(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var _r={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionend:fi("Transition","TransitionEnd")},pi={},aa={};g&&(aa=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);function cs(e){if(pi[e])return pi[e];if(!_r[e])return e;var n=_r[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in aa)return pi[e]=n[o];return e}var dl=cs("animationend"),On=cs("animationiteration"),la=cs("animationstart"),ua=cs("transitionend"),yr=new Map,fl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,n){yr.set(e,n),d(n,[e])}for(var Ai=0;Ai<fl.length;Ai++){var eo=fl[Ai],pl=eo.toLowerCase(),Au=eo[0].toUpperCase()+eo.slice(1);yn(pl,"on"+Au)}yn(dl,"onAnimationEnd"),yn(On,"onAnimationIteration"),yn(la,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(ua,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ml=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function ca(e,n,o){var h=e.type||"unknown-event";e.currentTarget=o,et(h,n,void 0,e),e.currentTarget=null}function ha(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var h=e[o],m=h.event;h=h.listeners;e:{var v=void 0;if(n)for(var b=h.length-1;0<=b;b--){var C=h[b],O=C.instance,V=C.currentTarget;if(C=C.listener,O!==v&&m.isPropagationStopped())break e;ca(m,C,V),v=O}else for(b=0;b<h.length;b++){if(C=h[b],O=C.instance,V=C.currentTarget,C=C.listener,O!==v&&m.isPropagationStopped())break e;ca(m,C,V),v=O}}}if(be)throw e=ue,be=!1,ue=null,e}function Ye(e,n){var o=n[Sr];o===void 0&&(o=n[Sr]=new Set);var h=e+"__bubble";o.has(h)||(gl(n,e,2,!1),o.add(h))}function da(e,n,o){var h=0;n&&(h|=4),gl(o,e,h,n)}var hs="_reactListening"+Math.random().toString(36).slice(2);function br(e){if(!e[hs]){e[hs]=!0,a.forEach(function(o){o!=="selectionchange"&&(ml.has(o)||da(o,!1,e),da(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hs]||(n[hs]=!0,da("selectionchange",!1,n))}}function gl(e,n,o,h){switch(Be(n)){case 1:var m=ku;break;case 4:m=Ja;break;default:m=ss}o=m.bind(null,n,o,e),m=void 0,!Qr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(m=!0),h?m!==void 0?e.addEventListener(n,o,{capture:!0,passive:m}):e.addEventListener(n,o,!0):m!==void 0?e.addEventListener(n,o,{passive:m}):e.addEventListener(n,o,!1)}function t(e,n,o,h,m){var v=h;if((n&1)===0&&(n&2)===0&&h!==null)e:for(;;){if(h===null)return;var b=h.tag;if(b===3||b===4){var C=h.stateNode.containerInfo;if(C===m||C.nodeType===8&&C.parentNode===m)break;if(b===4)for(b=h.return;b!==null;){var O=b.tag;if((O===3||O===4)&&(O=b.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;b=b.return}for(;C!==null;){if(b=Di(C),b===null)return;if(O=b.tag,O===5||O===6){h=v=b;continue e}C=C.parentNode}}h=h.return}ir(function(){var V=v,X=Gr(o),te=[];e:{var Y=yr.get(e);if(Y!==void 0){var de=Ko,me=e;switch(e){case"keypress":if(Bs(o)===0)break e;case"keydown":case"keyup":de=tl;break;case"focusin":me="focus",de=Zs;break;case"focusout":me="blur",de=Zs;break;case"beforeblur":case"afterblur":de=Zs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Qo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=ta;break;case dl:case On:case la:de=Eu;break;case ua:de=ju;break;case"scroll":de=Su;break;case"wheel":de=Ou;break;case"copy":case"cut":case"paste":de=Yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=il}var _e=(n&4)!==0,_t=!_e&&e==="scroll",$=_e?Y!==null?Y+"Capture":null:Y;_e=[];for(var N=V,B;N!==null;){B=N;var ie=B.stateNode;if(B.tag===5&&ie!==null&&(B=ie,$!==null&&(ie=Ci(N,$),ie!=null&&_e.push(s(N,ie,B)))),_t)break;N=N.return}0<_e.length&&(Y=new de(Y,me,null,o,X),te.push({event:Y,listeners:_e}))}}if((n&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",de=e==="mouseout"||e==="pointerout",Y&&o!==Kr&&(me=o.relatedTarget||o.fromElement)&&(Di(me)||me[Je]))break e;if((de||Y)&&(Y=X.window===X?X:(Y=X.ownerDocument)?Y.defaultView||Y.parentWindow:window,de?(me=o.relatedTarget||o.toElement,de=V,me=me?Di(me):null,me!==null&&(_t=mt(me),me!==_t||me.tag!==5&&me.tag!==6)&&(me=null)):(de=null,me=V),de!==me)){if(_e=Jo,ie="onMouseLeave",$="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(_e=il,ie="onPointerLeave",$="onPointerEnter",N="pointer"),_t=de==null?Y:$i(de),B=me==null?Y:$i(me),Y=new _e(ie,N+"leave",de,o,X),Y.target=_t,Y.relatedTarget=B,ie=null,Di(X)===V&&(_e=new _e($,N+"enter",me,o,X),_e.target=B,_e.relatedTarget=_t,ie=_e),_t=ie,de&&me)t:{for(_e=de,$=me,N=0,B=_e;B;B=p(B))N++;for(B=0,ie=$;ie;ie=p(ie))B++;for(;0<N-B;)_e=p(_e),N--;for(;0<B-N;)$=p($),B--;for(;N--;){if(_e===$||$!==null&&_e===$.alternate)break t;_e=p(_e),$=p($)}_e=null}else _e=null;de!==null&&y(te,Y,de,_e,!1),me!==null&&_t!==null&&y(te,_t,me,_e,!0)}}e:{if(Y=V?$i(V):window,de=Y.nodeName&&Y.nodeName.toLowerCase(),de==="select"||de==="input"&&Y.type==="file")var xe=Iu;else if(al(Y))if(zn)xe=ia;else{xe=mr;var Pe=Js}else(de=Y.nodeName)&&de.toLowerCase()==="input"&&(Y.type==="checkbox"||Y.type==="radio")&&(xe=Qs);if(xe&&(xe=xe(e,V))){Vs(te,xe,o,X);break e}Pe&&Pe(e,Y,V),e==="focusout"&&(Pe=Y._wrapperState)&&Pe.controlled&&Y.type==="number"&&Si(Y,"number",Y.value)}switch(Pe=V?$i(V):window,e){case"focusin":(al(Pe)||Pe.contentEditable==="true")&&(gr=Pe,vr=V,us=null);break;case"focusout":us=vr=gr=null;break;case"mousedown":Xs=!0;break;case"contextmenu":case"mouseup":case"dragend":Xs=!1,hl(te,o,X);break;case"selectionchange":if(Ys)break;case"keydown":case"keyup":hl(te,o,X)}var Ee;if(ci)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else qn?fr(e,o)&&(je="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(sl&&o.locale!=="ko"&&(qn||je!=="onCompositionStart"?je==="onCompositionEnd"&&qn&&(Ee=qo()):(li=X,Ht="value"in li?li.value:li.textContent,qn=!0)),Pe=c(V,je),0<Pe.length&&(je=new Xo(je,e,null,o,X),te.push({event:je,listeners:Pe}),Ee?je.data=Ee:(Ee=na(o),Ee!==null&&(je.data=Ee)))),(Ee=Vn?Nu(e,o):hi(e,o))&&(V=c(V,"onBeforeInput"),0<V.length&&(X=new Xo("onBeforeInput","beforeinput",null,o,X),te.push({event:X,listeners:V}),X.data=Ee))}ha(te,n)})}function s(e,n,o){return{instance:e,listener:n,currentTarget:o}}function c(e,n){for(var o=n+"Capture",h=[];e!==null;){var m=e,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ci(e,o),v!=null&&h.unshift(s(e,v,m)),v=Ci(e,n),v!=null&&h.push(s(e,v,m))),e=e.return}return h}function p(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function y(e,n,o,h,m){for(var v=n._reactName,b=[];o!==null&&o!==h;){var C=o,O=C.alternate,V=C.stateNode;if(O!==null&&O===h)break;C.tag===5&&V!==null&&(C=V,m?(O=Ci(o,v),O!=null&&b.unshift(s(o,O,C))):m||(O=Ci(o,v),O!=null&&b.push(s(o,O,C)))),o=o.return}b.length!==0&&e.push({event:n,listeners:b})}var k=/\r\n?/g,z=/\u0000|\uFFFD/g;function D(e){return(typeof e=="string"?e:""+e).replace(k,`
`).replace(z,"")}function W(e,n,o){if(n=D(n),D(e)!==n&&o)throw Error(r(425))}function J(){}var ae=null,Se=null;function Ie(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var kt=typeof setTimeout=="function"?setTimeout:void 0,wt=typeof clearTimeout=="function"?clearTimeout:void 0,Vt=typeof Promise=="function"?Promise:void 0,Dt=typeof queueMicrotask=="function"?queueMicrotask:typeof Vt<"u"?function(e){return Vt.resolve(null).then(e).catch(xr)}:kt;function xr(e){setTimeout(function(){throw e})}function fa(e,n){var o=n,h=0;do{var m=o.nextSibling;if(e.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(h===0){e.removeChild(m),mn(n);return}h--}else o!=="$"&&o!=="$?"&&o!=="$!"||h++;o=m}while(o);mn(n)}function mi(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function vl(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return e;n--}else o==="/$"&&n++}e=e.previousSibling}return null}var Mi=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Mi,kr="__reactProps$"+Mi,Je="__reactContainer$"+Mi,Sr="__reactEvents$"+Mi,Mu="__reactListeners$"+Mi,Du="__reactHandles$"+Mi;function Di(e){var n=e[Nn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Je]||o[Nn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=vl(e);e!==null;){if(o=e[Nn])return o;e=vl(e)}return n}e=o,o=e.parentNode}return null}function Ui(e){return e=e[Nn]||e[Je],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $i(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function to(e){return e[kr]||null}var Uu=[],no=-1;function Pr(e){return{current:e}}function at(e){0>no||(e.current=Uu[no],Uu[no]=null,no--)}function rt(e,n){no++,Uu[no]=e.current,e.current=n}var Er={},Ut=Pr(Er),en=Pr(!1),ds=Er;function io(e,n){var o=e.type.contextTypes;if(!o)return Er;var h=e.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===n)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in o)m[v]=n[v];return h&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=m),m}function tn(e){return e=e.childContextTypes,e!=null}function _l(){at(en),at(Ut)}function Mh(e,n,o){if(Ut.current!==Er)throw Error(r(168));rt(Ut,n),rt(en,o)}function Dh(e,n,o){var h=e.stateNode;if(n=n.childContextTypes,typeof h.getChildContext!="function")return o;h=h.getChildContext();for(var m in h)if(!(m in n))throw Error(r(108,Ce(e)||"Unknown",m));return Z({},o,h)}function yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,ds=Ut.current,rt(Ut,e),rt(en,en.current),!0}function Uh(e,n,o){var h=e.stateNode;if(!h)throw Error(r(169));o?(e=Dh(e,n,ds),h.__reactInternalMemoizedMergedChildContext=e,at(en),at(Ut),rt(Ut,e)):at(en),rt(en,o)}var Fi=null,wl=!1,$u=!1;function $h(e){Fi===null?Fi=[e]:Fi.push(e)}function cm(e){wl=!0,$h(e)}function Cr(){if(!$u&&Fi!==null){$u=!0;var e=0,n=He;try{var o=Fi;for(He=1;e<o.length;e++){var h=o[e];do h=h(!0);while(h!==null)}Fi=null,wl=!1}catch(m){throw Fi!==null&&(Fi=Fi.slice(e+1)),Zt(Bo,Cr),m}finally{He=n,$u=!1}}return null}var ro=[],so=0,bl=null,xl=0,Rn=[],In=0,fs=null,Bi=1,Zi="";function ps(e,n){ro[so++]=xl,ro[so++]=bl,bl=e,xl=n}function Fh(e,n,o){Rn[In++]=Bi,Rn[In++]=Zi,Rn[In++]=fs,fs=e;var h=Bi;e=Zi;var m=32-Re(h)-1;h&=~(1<<m),o+=1;var v=32-Re(n)+m;if(30<v){var b=m-m%5;v=(h&(1<<b)-1).toString(32),h>>=b,m-=b,Bi=1<<32-Re(n)+m|o<<m|h,Zi=v+e}else Bi=1<<v|o<<m|h,Zi=e}function Fu(e){e.return!==null&&(ps(e,1),Fh(e,1,0))}function Bu(e){for(;e===bl;)bl=ro[--so],ro[so]=null,xl=ro[--so],ro[so]=null;for(;e===fs;)fs=Rn[--In],Rn[In]=null,Zi=Rn[--In],Rn[In]=null,Bi=Rn[--In],Rn[In]=null}var wn=null,bn=null,ct=!1,Gn=null;function Bh(e,n){var o=Un(5,null,null,0);o.elementType="DELETED",o.stateNode=n,o.return=e,n=e.deletions,n===null?(e.deletions=[o],e.flags|=16):n.push(o)}function Zh(e,n){switch(e.tag){case 5:var o=e.type;return n=n.nodeType!==1||o.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,wn=e,bn=mi(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,wn=e,bn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(o=fs!==null?{id:Bi,overflow:Zi}:null,e.memoizedState={dehydrated:n,treeContext:o,retryLane:1073741824},o=Un(18,null,null,0),o.stateNode=n,o.return=e,e.child=o,wn=e,bn=null,!0):!1;default:return!1}}function Zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hu(e){if(ct){var n=bn;if(n){var o=n;if(!Zh(e,n)){if(Zu(e))throw Error(r(418));n=mi(o.nextSibling);var h=wn;n&&Zh(e,n)?Bh(h,o):(e.flags=e.flags&-4097|2,ct=!1,wn=e)}}else{if(Zu(e))throw Error(r(418));e.flags=e.flags&-4097|2,ct=!1,wn=e}}}function Hh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wn=e}function kl(e){if(e!==wn)return!1;if(!ct)return Hh(e),ct=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ie(e.type,e.memoizedProps)),n&&(n=bn)){if(Zu(e))throw Wh(),Error(r(418));for(;n;)Bh(e,n),n=mi(n.nextSibling)}if(Hh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(n===0){bn=mi(e.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++}e=e.nextSibling}bn=null}}else bn=wn?mi(e.stateNode.nextSibling):null;return!0}function Wh(){for(var e=bn;e;)e=mi(e.nextSibling)}function oo(){bn=wn=null,ct=!1}function Wu(e){Gn===null?Gn=[e]:Gn.push(e)}var hm=Q.ReactCurrentBatchConfig;function pa(e,n,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var h=o.stateNode}if(!h)throw Error(r(147,e));var m=h,v=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===v?n.ref:(n=function(b){var C=m.refs;b===null?delete C[v]:C[v]=b},n._stringRef=v,n)}if(typeof e!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,e))}return e}function Sl(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Vh(e){var n=e._init;return n(e._payload)}function qh(e){function n($,N){if(e){var B=$.deletions;B===null?($.deletions=[N],$.flags|=16):B.push(N)}}function o($,N){if(!e)return null;for(;N!==null;)n($,N),N=N.sibling;return null}function h($,N){for($=new Map;N!==null;)N.key!==null?$.set(N.key,N):$.set(N.index,N),N=N.sibling;return $}function m($,N){return $=Ir($,N),$.index=0,$.sibling=null,$}function v($,N,B){return $.index=B,e?(B=$.alternate,B!==null?(B=B.index,B<N?($.flags|=2,N):B):($.flags|=2,N)):($.flags|=1048576,N)}function b($){return e&&$.alternate===null&&($.flags|=2),$}function C($,N,B,ie){return N===null||N.tag!==6?(N=Ac(B,$.mode,ie),N.return=$,N):(N=m(N,B),N.return=$,N)}function O($,N,B,ie){var xe=B.type;return xe===le?X($,N,B.props.children,ie,B.key):N!==null&&(N.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ze&&Vh(xe)===N.type)?(ie=m(N,B.props),ie.ref=pa($,N,B),ie.return=$,ie):(ie=Kl(B.type,B.key,B.props,null,$.mode,ie),ie.ref=pa($,N,B),ie.return=$,ie)}function V($,N,B,ie){return N===null||N.tag!==4||N.stateNode.containerInfo!==B.containerInfo||N.stateNode.implementation!==B.implementation?(N=Mc(B,$.mode,ie),N.return=$,N):(N=m(N,B.children||[]),N.return=$,N)}function X($,N,B,ie,xe){return N===null||N.tag!==7?(N=xs(B,$.mode,ie,xe),N.return=$,N):(N=m(N,B),N.return=$,N)}function te($,N,B){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Ac(""+N,$.mode,B),N.return=$,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case re:return B=Kl(N.type,N.key,N.props,null,$.mode,B),B.ref=pa($,null,N),B.return=$,B;case se:return N=Mc(N,$.mode,B),N.return=$,N;case ze:var ie=N._init;return te($,ie(N._payload),B)}if(ii(N)||H(N))return N=xs(N,$.mode,B,null),N.return=$,N;Sl($,N)}return null}function Y($,N,B,ie){var xe=N!==null?N.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return xe!==null?null:C($,N,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case re:return B.key===xe?O($,N,B,ie):null;case se:return B.key===xe?V($,N,B,ie):null;case ze:return xe=B._init,Y($,N,xe(B._payload),ie)}if(ii(B)||H(B))return xe!==null?null:X($,N,B,ie,null);Sl($,B)}return null}function de($,N,B,ie,xe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return $=$.get(B)||null,C(N,$,""+ie,xe);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case re:return $=$.get(ie.key===null?B:ie.key)||null,O(N,$,ie,xe);case se:return $=$.get(ie.key===null?B:ie.key)||null,V(N,$,ie,xe);case ze:var Pe=ie._init;return de($,N,B,Pe(ie._payload),xe)}if(ii(ie)||H(ie))return $=$.get(B)||null,X(N,$,ie,xe,null);Sl(N,ie)}return null}function me($,N,B,ie){for(var xe=null,Pe=null,Ee=N,je=N=0,zt=null;Ee!==null&&je<B.length;je++){Ee.index>je?(zt=Ee,Ee=null):zt=Ee.sibling;var Ke=Y($,Ee,B[je],ie);if(Ke===null){Ee===null&&(Ee=zt);break}e&&Ee&&Ke.alternate===null&&n($,Ee),N=v(Ke,N,je),Pe===null?xe=Ke:Pe.sibling=Ke,Pe=Ke,Ee=zt}if(je===B.length)return o($,Ee),ct&&ps($,je),xe;if(Ee===null){for(;je<B.length;je++)Ee=te($,B[je],ie),Ee!==null&&(N=v(Ee,N,je),Pe===null?xe=Ee:Pe.sibling=Ee,Pe=Ee);return ct&&ps($,je),xe}for(Ee=h($,Ee);je<B.length;je++)zt=de(Ee,$,je,B[je],ie),zt!==null&&(e&&zt.alternate!==null&&Ee.delete(zt.key===null?je:zt.key),N=v(zt,N,je),Pe===null?xe=zt:Pe.sibling=zt,Pe=zt);return e&&Ee.forEach(function(Ar){return n($,Ar)}),ct&&ps($,je),xe}function _e($,N,B,ie){var xe=H(B);if(typeof xe!="function")throw Error(r(150));if(B=xe.call(B),B==null)throw Error(r(151));for(var Pe=xe=null,Ee=N,je=N=0,zt=null,Ke=B.next();Ee!==null&&!Ke.done;je++,Ke=B.next()){Ee.index>je?(zt=Ee,Ee=null):zt=Ee.sibling;var Ar=Y($,Ee,Ke.value,ie);if(Ar===null){Ee===null&&(Ee=zt);break}e&&Ee&&Ar.alternate===null&&n($,Ee),N=v(Ar,N,je),Pe===null?xe=Ar:Pe.sibling=Ar,Pe=Ar,Ee=zt}if(Ke.done)return o($,Ee),ct&&ps($,je),xe;if(Ee===null){for(;!Ke.done;je++,Ke=B.next())Ke=te($,Ke.value,ie),Ke!==null&&(N=v(Ke,N,je),Pe===null?xe=Ke:Pe.sibling=Ke,Pe=Ke);return ct&&ps($,je),xe}for(Ee=h($,Ee);!Ke.done;je++,Ke=B.next())Ke=de(Ee,$,je,Ke.value,ie),Ke!==null&&(e&&Ke.alternate!==null&&Ee.delete(Ke.key===null?je:Ke.key),N=v(Ke,N,je),Pe===null?xe=Ke:Pe.sibling=Ke,Pe=Ke);return e&&Ee.forEach(function(Hm){return n($,Hm)}),ct&&ps($,je),xe}function _t($,N,B,ie){if(typeof B=="object"&&B!==null&&B.type===le&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case re:e:{for(var xe=B.key,Pe=N;Pe!==null;){if(Pe.key===xe){if(xe=B.type,xe===le){if(Pe.tag===7){o($,Pe.sibling),N=m(Pe,B.props.children),N.return=$,$=N;break e}}else if(Pe.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ze&&Vh(xe)===Pe.type){o($,Pe.sibling),N=m(Pe,B.props),N.ref=pa($,Pe,B),N.return=$,$=N;break e}o($,Pe);break}else n($,Pe);Pe=Pe.sibling}B.type===le?(N=xs(B.props.children,$.mode,ie,B.key),N.return=$,$=N):(ie=Kl(B.type,B.key,B.props,null,$.mode,ie),ie.ref=pa($,N,B),ie.return=$,$=ie)}return b($);case se:e:{for(Pe=B.key;N!==null;){if(N.key===Pe)if(N.tag===4&&N.stateNode.containerInfo===B.containerInfo&&N.stateNode.implementation===B.implementation){o($,N.sibling),N=m(N,B.children||[]),N.return=$,$=N;break e}else{o($,N);break}else n($,N);N=N.sibling}N=Mc(B,$.mode,ie),N.return=$,$=N}return b($);case ze:return Pe=B._init,_t($,N,Pe(B._payload),ie)}if(ii(B))return me($,N,B,ie);if(H(B))return _e($,N,B,ie);Sl($,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,N!==null&&N.tag===6?(o($,N.sibling),N=m(N,B),N.return=$,$=N):(o($,N),N=Ac(B,$.mode,ie),N.return=$,$=N),b($)):o($,N)}return _t}var ao=qh(!0),Kh=qh(!1),Pl=Pr(null),El=null,lo=null,Vu=null;function qu(){Vu=lo=El=null}function Ku(e){var n=Pl.current;at(Pl),e._currentValue=n}function Gu(e,n,o){for(;e!==null;){var h=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,h!==null&&(h.childLanes|=n)):h!==null&&(h.childLanes&n)!==n&&(h.childLanes|=n),e===o)break;e=e.return}}function uo(e,n){El=e,Vu=lo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(nn=!0),e.firstContext=null)}function An(e){var n=e._currentValue;if(Vu!==e)if(e={context:e,memoizedValue:n,next:null},lo===null){if(El===null)throw Error(r(308));lo=e,El.dependencies={lanes:0,firstContext:e}}else lo=lo.next=e;return n}var ms=null;function Ju(e){ms===null?ms=[e]:ms.push(e)}function Gh(e,n,o,h){var m=n.interleaved;return m===null?(o.next=o,Ju(n)):(o.next=m.next,m.next=o),n.interleaved=o,Hi(e,h)}function Hi(e,n){e.lanes|=n;var o=e.alternate;for(o!==null&&(o.lanes|=n),o=e,e=e.return;e!==null;)e.childLanes|=n,o=e.alternate,o!==null&&(o.childLanes|=n),o=e,e=e.return;return o.tag===3?o.stateNode:null}var Lr=!1;function Qu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wi(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Tr(e,n,o){var h=e.updateQueue;if(h===null)return null;if(h=h.shared,(qe&2)!==0){var m=h.pending;return m===null?n.next=n:(n.next=m.next,m.next=n),h.pending=n,Hi(e,o)}return m=h.interleaved,m===null?(n.next=n,Ju(h)):(n.next=m.next,m.next=n),h.interleaved=n,Hi(e,o)}function Cl(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194240)!==0)){var h=n.lanes;h&=e.pendingLanes,o|=h,n.lanes=o,Hn(e,o)}}function Qh(e,n){var o=e.updateQueue,h=e.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var b={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};v===null?m=v=b:v=v.next=b,o=o.next}while(o!==null);v===null?m=v=n:v=v.next=n}else m=v=n;o={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}function Ll(e,n,o,h){var m=e.updateQueue;Lr=!1;var v=m.firstBaseUpdate,b=m.lastBaseUpdate,C=m.shared.pending;if(C!==null){m.shared.pending=null;var O=C,V=O.next;O.next=null,b===null?v=V:b.next=V,b=O;var X=e.alternate;X!==null&&(X=X.updateQueue,C=X.lastBaseUpdate,C!==b&&(C===null?X.firstBaseUpdate=V:C.next=V,X.lastBaseUpdate=O))}if(v!==null){var te=m.baseState;b=0,X=V=O=null,C=v;do{var Y=C.lane,de=C.eventTime;if((h&Y)===Y){X!==null&&(X=X.next={eventTime:de,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var me=e,_e=C;switch(Y=n,de=o,_e.tag){case 1:if(me=_e.payload,typeof me=="function"){te=me.call(de,te,Y);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=_e.payload,Y=typeof me=="function"?me.call(de,te,Y):me,Y==null)break e;te=Z({},te,Y);break e;case 2:Lr=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,Y=m.effects,Y===null?m.effects=[C]:Y.push(C))}else de={eventTime:de,lane:Y,tag:C.tag,payload:C.payload,callback:C.callback,next:null},X===null?(V=X=de,O=te):X=X.next=de,b|=Y;if(C=C.next,C===null){if(C=m.shared.pending,C===null)break;Y=C,C=Y.next,Y.next=null,m.lastBaseUpdate=Y,m.shared.pending=null}}while(!0);if(X===null&&(O=te),m.baseState=O,m.firstBaseUpdate=V,m.lastBaseUpdate=X,n=m.shared.interleaved,n!==null){m=n;do b|=m.lane,m=m.next;while(m!==n)}else v===null&&(m.shared.lanes=0);_s|=b,e.lanes=b,e.memoizedState=te}}function Yh(e,n,o){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var h=e[n],m=h.callback;if(m!==null){if(h.callback=null,h=o,typeof m!="function")throw Error(r(191,m));m.call(h)}}}var ma={},gi=Pr(ma),ga=Pr(ma),va=Pr(ma);function gs(e){if(e===ma)throw Error(r(174));return e}function Yu(e,n){switch(rt(va,n),rt(ga,e),rt(gi,ma),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ln(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ln(n,e)}at(gi),rt(gi,n)}function co(){at(gi),at(ga),at(va)}function Xh(e){gs(va.current);var n=gs(gi.current),o=ln(n,e.type);n!==o&&(rt(ga,e),rt(gi,o))}function Xu(e){ga.current===e&&(at(gi),at(ga))}var ft=Pr(0);function Tl(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ec=[];function tc(){for(var e=0;e<ec.length;e++)ec[e]._workInProgressVersionPrimary=null;ec.length=0}var zl=Q.ReactCurrentDispatcher,nc=Q.ReactCurrentBatchConfig,vs=0,pt=null,St=null,Lt=null,jl=!1,_a=!1,ya=0,dm=0;function $t(){throw Error(r(321))}function ic(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!_n(e[o],n[o]))return!1;return!0}function rc(e,n,o,h,m,v){if(vs=v,pt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,zl.current=e===null||e.memoizedState===null?gm:vm,e=o(h,m),_a){v=0;do{if(_a=!1,ya=0,25<=v)throw Error(r(301));v+=1,Lt=St=null,n.updateQueue=null,zl.current=_m,e=o(h,m)}while(_a)}if(zl.current=Rl,n=St!==null&&St.next!==null,vs=0,Lt=St=pt=null,jl=!1,n)throw Error(r(300));return e}function sc(){var e=ya!==0;return ya=0,e}function vi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?pt.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function Mn(){if(St===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var n=Lt===null?pt.memoizedState:Lt.next;if(n!==null)Lt=n,St=e;else{if(e===null)throw Error(r(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Lt===null?pt.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function wa(e,n){return typeof n=="function"?n(e):n}function oc(e){var n=Mn(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var h=St,m=h.baseQueue,v=o.pending;if(v!==null){if(m!==null){var b=m.next;m.next=v.next,v.next=b}h.baseQueue=m=v,o.pending=null}if(m!==null){v=m.next,h=h.baseState;var C=b=null,O=null,V=v;do{var X=V.lane;if((vs&X)===X)O!==null&&(O=O.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),h=V.hasEagerState?V.eagerState:e(h,V.action);else{var te={lane:X,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};O===null?(C=O=te,b=h):O=O.next=te,pt.lanes|=X,_s|=X}V=V.next}while(V!==null&&V!==v);O===null?b=h:O.next=C,_n(h,n.memoizedState)||(nn=!0),n.memoizedState=h,n.baseState=b,n.baseQueue=O,o.lastRenderedState=h}if(e=o.interleaved,e!==null){m=e;do v=m.lane,pt.lanes|=v,_s|=v,m=m.next;while(m!==e)}else m===null&&(o.lanes=0);return[n.memoizedState,o.dispatch]}function ac(e){var n=Mn(),o=n.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=e;var h=o.dispatch,m=o.pending,v=n.memoizedState;if(m!==null){o.pending=null;var b=m=m.next;do v=e(v,b.action),b=b.next;while(b!==m);_n(v,n.memoizedState)||(nn=!0),n.memoizedState=v,n.baseQueue===null&&(n.baseState=v),o.lastRenderedState=v}return[v,h]}function ed(){}function td(e,n){var o=pt,h=Mn(),m=n(),v=!_n(h.memoizedState,m);if(v&&(h.memoizedState=m,nn=!0),h=h.queue,lc(rd.bind(null,o,h,e),[e]),h.getSnapshot!==n||v||Lt!==null&&Lt.memoizedState.tag&1){if(o.flags|=2048,ba(9,id.bind(null,o,h,m,n),void 0,null),Tt===null)throw Error(r(349));(vs&30)!==0||nd(o,n,m)}return m}function nd(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=pt.updateQueue,n===null?(n={lastEffect:null,stores:null},pt.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function id(e,n,o,h){n.value=o,n.getSnapshot=h,sd(n)&&od(e)}function rd(e,n,o){return o(function(){sd(n)&&od(e)})}function sd(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!_n(e,o)}catch{return!0}}function od(e){var n=Hi(e,1);n!==null&&Xn(n,e,1,-1)}function ad(e){var n=vi();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},n.queue=e,e=e.dispatch=mm.bind(null,pt,e),[n.memoizedState,e]}function ba(e,n,o,h){return e={tag:e,create:n,destroy:o,deps:h,next:null},n=pt.updateQueue,n===null?(n={lastEffect:null,stores:null},pt.updateQueue=n,n.lastEffect=e.next=e):(o=n.lastEffect,o===null?n.lastEffect=e.next=e:(h=o.next,o.next=e,e.next=h,n.lastEffect=e)),e}function ld(){return Mn().memoizedState}function Ol(e,n,o,h){var m=vi();pt.flags|=e,m.memoizedState=ba(1|n,o,void 0,h===void 0?null:h)}function Nl(e,n,o,h){var m=Mn();h=h===void 0?null:h;var v=void 0;if(St!==null){var b=St.memoizedState;if(v=b.destroy,h!==null&&ic(h,b.deps)){m.memoizedState=ba(n,o,v,h);return}}pt.flags|=e,m.memoizedState=ba(1|n,o,v,h)}function ud(e,n){return Ol(8390656,8,e,n)}function lc(e,n){return Nl(2048,8,e,n)}function cd(e,n){return Nl(4,2,e,n)}function hd(e,n){return Nl(4,4,e,n)}function dd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function fd(e,n,o){return o=o!=null?o.concat([e]):null,Nl(4,4,dd.bind(null,n,e),o)}function uc(){}function pd(e,n){var o=Mn();n=n===void 0?null:n;var h=o.memoizedState;return h!==null&&n!==null&&ic(n,h[1])?h[0]:(o.memoizedState=[e,n],e)}function md(e,n){var o=Mn();n=n===void 0?null:n;var h=o.memoizedState;return h!==null&&n!==null&&ic(n,h[1])?h[0]:(e=e(),o.memoizedState=[e,n],e)}function gd(e,n,o){return(vs&21)===0?(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=o):(_n(o,n)||(o=Ga(),pt.lanes|=o,_s|=o,e.baseState=!0),n)}function fm(e,n){var o=He;He=o!==0&&4>o?o:4,e(!0);var h=nc.transition;nc.transition={};try{e(!1),n()}finally{He=o,nc.transition=h}}function vd(){return Mn().memoizedState}function pm(e,n,o){var h=Nr(e);if(o={lane:h,action:o,hasEagerState:!1,eagerState:null,next:null},_d(e))yd(n,o);else if(o=Gh(e,n,o,h),o!==null){var m=Kt();Xn(o,e,h,m),wd(o,n,h)}}function mm(e,n,o){var h=Nr(e),m={lane:h,action:o,hasEagerState:!1,eagerState:null,next:null};if(_d(e))yd(n,m);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=n.lastRenderedReducer,v!==null))try{var b=n.lastRenderedState,C=v(b,o);if(m.hasEagerState=!0,m.eagerState=C,_n(C,b)){var O=n.interleaved;O===null?(m.next=m,Ju(n)):(m.next=O.next,O.next=m),n.interleaved=m;return}}catch{}finally{}o=Gh(e,n,m,h),o!==null&&(m=Kt(),Xn(o,e,h,m),wd(o,n,h))}}function _d(e){var n=e.alternate;return e===pt||n!==null&&n===pt}function yd(e,n){_a=jl=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function wd(e,n,o){if((o&4194240)!==0){var h=n.lanes;h&=e.pendingLanes,o|=h,n.lanes=o,Hn(e,o)}}var Rl={readContext:An,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},gm={readContext:An,useCallback:function(e,n){return vi().memoizedState=[e,n===void 0?null:n],e},useContext:An,useEffect:ud,useImperativeHandle:function(e,n,o){return o=o!=null?o.concat([e]):null,Ol(4194308,4,dd.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Ol(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ol(4,2,e,n)},useMemo:function(e,n){var o=vi();return n=n===void 0?null:n,e=e(),o.memoizedState=[e,n],e},useReducer:function(e,n,o){var h=vi();return n=o!==void 0?o(n):n,h.memoizedState=h.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},h.queue=e,e=e.dispatch=pm.bind(null,pt,e),[h.memoizedState,e]},useRef:function(e){var n=vi();return e={current:e},n.memoizedState=e},useState:ad,useDebugValue:uc,useDeferredValue:function(e){return vi().memoizedState=e},useTransition:function(){var e=ad(!1),n=e[0];return e=fm.bind(null,e[1]),vi().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,o){var h=pt,m=vi();if(ct){if(o===void 0)throw Error(r(407));o=o()}else{if(o=n(),Tt===null)throw Error(r(349));(vs&30)!==0||nd(h,n,o)}m.memoizedState=o;var v={value:o,getSnapshot:n};return m.queue=v,ud(rd.bind(null,h,v,e),[e]),h.flags|=2048,ba(9,id.bind(null,h,v,o,n),void 0,null),o},useId:function(){var e=vi(),n=Tt.identifierPrefix;if(ct){var o=Zi,h=Bi;o=(h&~(1<<32-Re(h)-1)).toString(32)+o,n=":"+n+"R"+o,o=ya++,0<o&&(n+="H"+o.toString(32)),n+=":"}else o=dm++,n=":"+n+"r"+o.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},vm={readContext:An,useCallback:pd,useContext:An,useEffect:lc,useImperativeHandle:fd,useInsertionEffect:cd,useLayoutEffect:hd,useMemo:md,useReducer:oc,useRef:ld,useState:function(){return oc(wa)},useDebugValue:uc,useDeferredValue:function(e){var n=Mn();return gd(n,St.memoizedState,e)},useTransition:function(){var e=oc(wa)[0],n=Mn().memoizedState;return[e,n]},useMutableSource:ed,useSyncExternalStore:td,useId:vd,unstable_isNewReconciler:!1},_m={readContext:An,useCallback:pd,useContext:An,useEffect:lc,useImperativeHandle:fd,useInsertionEffect:cd,useLayoutEffect:hd,useMemo:md,useReducer:ac,useRef:ld,useState:function(){return ac(wa)},useDebugValue:uc,useDeferredValue:function(e){var n=Mn();return St===null?n.memoizedState=e:gd(n,St.memoizedState,e)},useTransition:function(){var e=ac(wa)[0],n=Mn().memoizedState;return[e,n]},useMutableSource:ed,useSyncExternalStore:td,useId:vd,unstable_isNewReconciler:!1};function Jn(e,n){if(e&&e.defaultProps){n=Z({},n),e=e.defaultProps;for(var o in e)n[o]===void 0&&(n[o]=e[o]);return n}return n}function cc(e,n,o,h){n=e.memoizedState,o=o(h,n),o=o==null?n:Z({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Il={isMounted:function(e){return(e=e._reactInternals)?mt(e)===e:!1},enqueueSetState:function(e,n,o){e=e._reactInternals;var h=Kt(),m=Nr(e),v=Wi(h,m);v.payload=n,o!=null&&(v.callback=o),n=Tr(e,v,m),n!==null&&(Xn(n,e,m,h),Cl(n,e,m))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var h=Kt(),m=Nr(e),v=Wi(h,m);v.tag=1,v.payload=n,o!=null&&(v.callback=o),n=Tr(e,v,m),n!==null&&(Xn(n,e,m,h),Cl(n,e,m))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Kt(),h=Nr(e),m=Wi(o,h);m.tag=2,n!=null&&(m.callback=n),n=Tr(e,m,h),n!==null&&(Xn(n,e,h,o),Cl(n,e,h))}};function bd(e,n,o,h,m,v,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(h,v,b):n.prototype&&n.prototype.isPureReactComponent?!di(o,h)||!di(m,v):!0}function xd(e,n,o){var h=!1,m=Er,v=n.contextType;return typeof v=="object"&&v!==null?v=An(v):(m=tn(n)?ds:Ut.current,h=n.contextTypes,v=(h=h!=null)?io(e,m):Er),n=new n(o,v),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Il,e.stateNode=n,n._reactInternals=e,h&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=m,e.__reactInternalMemoizedMaskedChildContext=v),n}function kd(e,n,o,h){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,h),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,h),n.state!==e&&Il.enqueueReplaceState(n,n.state,null)}function hc(e,n,o,h){var m=e.stateNode;m.props=o,m.state=e.memoizedState,m.refs={},Qu(e);var v=n.contextType;typeof v=="object"&&v!==null?m.context=An(v):(v=tn(n)?ds:Ut.current,m.context=io(e,v)),m.state=e.memoizedState,v=n.getDerivedStateFromProps,typeof v=="function"&&(cc(e,n,v,o),m.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(n=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),n!==m.state&&Il.enqueueReplaceState(m,m.state,null),Ll(e,o,m,h),m.state=e.memoizedState),typeof m.componentDidMount=="function"&&(e.flags|=4194308)}function ho(e,n){try{var o="",h=n;do o+=pe(h),h=h.return;while(h);var m=o}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:n,stack:m,digest:null}}function dc(e,n,o){return{value:e,source:null,stack:o??null,digest:n??null}}function fc(e,n){try{console.error(n.value)}catch(o){setTimeout(function(){throw o})}}var ym=typeof WeakMap=="function"?WeakMap:Map;function Sd(e,n,o){o=Wi(-1,o),o.tag=3,o.payload={element:null};var h=n.value;return o.callback=function(){Bl||(Bl=!0,Lc=h),fc(e,n)},o}function Pd(e,n,o){o=Wi(-1,o),o.tag=3;var h=e.type.getDerivedStateFromError;if(typeof h=="function"){var m=n.value;o.payload=function(){return h(m)},o.callback=function(){fc(e,n)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(o.callback=function(){fc(e,n),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var b=n.stack;this.componentDidCatch(n.value,{componentStack:b!==null?b:""})}),o}function Ed(e,n,o){var h=e.pingCache;if(h===null){h=e.pingCache=new ym;var m=new Set;h.set(n,m)}else m=h.get(n),m===void 0&&(m=new Set,h.set(n,m));m.has(o)||(m.add(o),e=Nm.bind(null,e,n,o),n.then(e,e))}function Cd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Ld(e,n,o,h,m){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(n=Wi(-1,1),n.tag=2,Tr(o,n,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=m,e)}var wm=Q.ReactCurrentOwner,nn=!1;function qt(e,n,o,h){n.child=e===null?Kh(n,null,o,h):ao(n,e.child,o,h)}function Td(e,n,o,h,m){o=o.render;var v=n.ref;return uo(n,m),h=rc(e,n,o,h,v,m),o=sc(),e!==null&&!nn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,Vi(e,n,m)):(ct&&o&&Fu(n),n.flags|=1,qt(e,n,h,m),n.child)}function zd(e,n,o,h,m){if(e===null){var v=o.type;return typeof v=="function"&&!Ic(v)&&v.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(n.tag=15,n.type=v,jd(e,n,v,h,m)):(e=Kl(o.type,null,h,n,n.mode,m),e.ref=n.ref,e.return=n,n.child=e)}if(v=e.child,(e.lanes&m)===0){var b=v.memoizedProps;if(o=o.compare,o=o!==null?o:di,o(b,h)&&e.ref===n.ref)return Vi(e,n,m)}return n.flags|=1,e=Ir(v,h),e.ref=n.ref,e.return=n,n.child=e}function jd(e,n,o,h,m){if(e!==null){var v=e.memoizedProps;if(di(v,h)&&e.ref===n.ref)if(nn=!1,n.pendingProps=h=v,(e.lanes&m)!==0)(e.flags&131072)!==0&&(nn=!0);else return n.lanes=e.lanes,Vi(e,n,m)}return pc(e,n,o,h,m)}function Od(e,n,o){var h=n.pendingProps,m=h.children,v=e!==null?e.memoizedState:null;if(h.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(po,xn),xn|=o;else{if((o&1073741824)===0)return e=v!==null?v.baseLanes|o:o,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,rt(po,xn),xn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:o,rt(po,xn),xn|=h}else v!==null?(h=v.baseLanes|o,n.memoizedState=null):h=o,rt(po,xn),xn|=h;return qt(e,n,m,o),n.child}function Nd(e,n){var o=n.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(n.flags|=512,n.flags|=2097152)}function pc(e,n,o,h,m){var v=tn(o)?ds:Ut.current;return v=io(n,v),uo(n,m),o=rc(e,n,o,h,v,m),h=sc(),e!==null&&!nn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~m,Vi(e,n,m)):(ct&&h&&Fu(n),n.flags|=1,qt(e,n,o,m),n.child)}function Rd(e,n,o,h,m){if(tn(o)){var v=!0;yl(n)}else v=!1;if(uo(n,m),n.stateNode===null)Ml(e,n),xd(n,o,h),hc(n,o,h,m),h=!0;else if(e===null){var b=n.stateNode,C=n.memoizedProps;b.props=C;var O=b.context,V=o.contextType;typeof V=="object"&&V!==null?V=An(V):(V=tn(o)?ds:Ut.current,V=io(n,V));var X=o.getDerivedStateFromProps,te=typeof X=="function"||typeof b.getSnapshotBeforeUpdate=="function";te||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==h||O!==V)&&kd(n,b,h,V),Lr=!1;var Y=n.memoizedState;b.state=Y,Ll(n,h,b,m),O=n.memoizedState,C!==h||Y!==O||en.current||Lr?(typeof X=="function"&&(cc(n,o,X,h),O=n.memoizedState),(C=Lr||bd(n,o,C,h,Y,O,V))?(te||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(n.flags|=4194308)):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=h,n.memoizedState=O),b.props=h,b.state=O,b.context=V,h=C):(typeof b.componentDidMount=="function"&&(n.flags|=4194308),h=!1)}else{b=n.stateNode,Jh(e,n),C=n.memoizedProps,V=n.type===n.elementType?C:Jn(n.type,C),b.props=V,te=n.pendingProps,Y=b.context,O=o.contextType,typeof O=="object"&&O!==null?O=An(O):(O=tn(o)?ds:Ut.current,O=io(n,O));var de=o.getDerivedStateFromProps;(X=typeof de=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==te||Y!==O)&&kd(n,b,h,O),Lr=!1,Y=n.memoizedState,b.state=Y,Ll(n,h,b,m);var me=n.memoizedState;C!==te||Y!==me||en.current||Lr?(typeof de=="function"&&(cc(n,o,de,h),me=n.memoizedState),(V=Lr||bd(n,o,V,h,Y,me,O)||!1)?(X||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,me,O),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,me,O)),typeof b.componentDidUpdate=="function"&&(n.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),n.memoizedProps=h,n.memoizedState=me),b.props=h,b.state=me,b.context=O,h=V):(typeof b.componentDidUpdate!="function"||C===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),h=!1)}return mc(e,n,o,h,v,m)}function mc(e,n,o,h,m,v){Nd(e,n);var b=(n.flags&128)!==0;if(!h&&!b)return m&&Uh(n,o,!1),Vi(e,n,v);h=n.stateNode,wm.current=n;var C=b&&typeof o.getDerivedStateFromError!="function"?null:h.render();return n.flags|=1,e!==null&&b?(n.child=ao(n,e.child,null,v),n.child=ao(n,null,C,v)):qt(e,n,C,v),n.memoizedState=h.state,m&&Uh(n,o,!0),n.child}function Id(e){var n=e.stateNode;n.pendingContext?Mh(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Mh(e,n.context,!1),Yu(e,n.containerInfo)}function Ad(e,n,o,h,m){return oo(),Wu(m),n.flags|=256,qt(e,n,o,h),n.child}var gc={dehydrated:null,treeContext:null,retryLane:0};function vc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Md(e,n,o){var h=n.pendingProps,m=ft.current,v=!1,b=(n.flags&128)!==0,C;if((C=b)||(C=e!==null&&e.memoizedState===null?!1:(m&2)!==0),C?(v=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(m|=1),rt(ft,m&1),e===null)return Hu(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(b=h.children,e=h.fallback,v?(h=n.mode,v=n.child,b={mode:"hidden",children:b},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=b):v=Gl(b,h,0,null),e=xs(e,h,o,null),v.return=n,e.return=n,v.sibling=e,n.child=v,n.child.memoizedState=vc(o),n.memoizedState=gc,e):_c(n,b));if(m=e.memoizedState,m!==null&&(C=m.dehydrated,C!==null))return bm(e,n,b,h,C,m,o);if(v){v=h.fallback,b=n.mode,m=e.child,C=m.sibling;var O={mode:"hidden",children:h.children};return(b&1)===0&&n.child!==m?(h=n.child,h.childLanes=0,h.pendingProps=O,n.deletions=null):(h=Ir(m,O),h.subtreeFlags=m.subtreeFlags&14680064),C!==null?v=Ir(C,v):(v=xs(v,b,o,null),v.flags|=2),v.return=n,h.return=n,h.sibling=v,n.child=h,h=v,v=n.child,b=e.child.memoizedState,b=b===null?vc(o):{baseLanes:b.baseLanes|o,cachePool:null,transitions:b.transitions},v.memoizedState=b,v.childLanes=e.childLanes&~o,n.memoizedState=gc,h}return v=e.child,e=v.sibling,h=Ir(v,{mode:"visible",children:h.children}),(n.mode&1)===0&&(h.lanes=o),h.return=n,h.sibling=null,e!==null&&(o=n.deletions,o===null?(n.deletions=[e],n.flags|=16):o.push(e)),n.child=h,n.memoizedState=null,h}function _c(e,n){return n=Gl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Al(e,n,o,h){return h!==null&&Wu(h),ao(n,e.child,null,o),e=_c(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function bm(e,n,o,h,m,v,b){if(o)return n.flags&256?(n.flags&=-257,h=dc(Error(r(422))),Al(e,n,b,h)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(v=h.fallback,m=n.mode,h=Gl({mode:"visible",children:h.children},m,0,null),v=xs(v,m,b,null),v.flags|=2,h.return=n,v.return=n,h.sibling=v,n.child=h,(n.mode&1)!==0&&ao(n,e.child,null,b),n.child.memoizedState=vc(b),n.memoizedState=gc,v);if((n.mode&1)===0)return Al(e,n,b,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var C=h.dgst;return h=C,v=Error(r(419)),h=dc(v,h,void 0),Al(e,n,b,h)}if(C=(b&e.childLanes)!==0,nn||C){if(h=Tt,h!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|b))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Hi(e,m),Xn(h,e,m,-1))}return Rc(),h=dc(Error(r(421))),Al(e,n,b,h)}return m.data==="$?"?(n.flags|=128,n.child=e.child,n=Rm.bind(null,e),m._reactRetry=n,null):(e=v.treeContext,bn=mi(m.nextSibling),wn=n,ct=!0,Gn=null,e!==null&&(Rn[In++]=Bi,Rn[In++]=Zi,Rn[In++]=fs,Bi=e.id,Zi=e.overflow,fs=n),n=_c(n,h.children),n.flags|=4096,n)}function Dd(e,n,o){e.lanes|=n;var h=e.alternate;h!==null&&(h.lanes|=n),Gu(e.return,n,o)}function yc(e,n,o,h,m){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:m}:(v.isBackwards=n,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=o,v.tailMode=m)}function Ud(e,n,o){var h=n.pendingProps,m=h.revealOrder,v=h.tail;if(qt(e,n,h.children,o),h=ft.current,(h&2)!==0)h=h&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dd(e,o,n);else if(e.tag===19)Dd(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}h&=1}if(rt(ft,h),(n.mode&1)===0)n.memoizedState=null;else switch(m){case"forwards":for(o=n.child,m=null;o!==null;)e=o.alternate,e!==null&&Tl(e)===null&&(m=o),o=o.sibling;o=m,o===null?(m=n.child,n.child=null):(m=o.sibling,o.sibling=null),yc(n,!1,m,o,v);break;case"backwards":for(o=null,m=n.child,n.child=null;m!==null;){if(e=m.alternate,e!==null&&Tl(e)===null){n.child=m;break}e=m.sibling,m.sibling=o,o=m,m=e}yc(n,!0,o,null,v);break;case"together":yc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ml(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Vi(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),_s|=n.lanes,(o&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,o=Ir(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Ir(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function xm(e,n,o){switch(n.tag){case 3:Id(n),oo();break;case 5:Xh(n);break;case 1:tn(n.type)&&yl(n);break;case 4:Yu(n,n.stateNode.containerInfo);break;case 10:var h=n.type._context,m=n.memoizedProps.value;rt(Pl,h._currentValue),h._currentValue=m;break;case 13:if(h=n.memoizedState,h!==null)return h.dehydrated!==null?(rt(ft,ft.current&1),n.flags|=128,null):(o&n.child.childLanes)!==0?Md(e,n,o):(rt(ft,ft.current&1),e=Vi(e,n,o),e!==null?e.sibling:null);rt(ft,ft.current&1);break;case 19:if(h=(o&n.childLanes)!==0,(e.flags&128)!==0){if(h)return Ud(e,n,o);n.flags|=128}if(m=n.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),rt(ft,ft.current),h)break;return null;case 22:case 23:return n.lanes=0,Od(e,n,o)}return Vi(e,n,o)}var $d,wc,Fd,Bd;$d=function(e,n){for(var o=n.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},wc=function(){},Fd=function(e,n,o,h){var m=e.memoizedProps;if(m!==h){e=n.stateNode,gs(gi.current);var v=null;switch(o){case"input":m=bi(e,m),h=bi(e,h),v=[];break;case"select":m=Z({},m,{value:void 0}),h=Z({},h,{value:void 0}),v=[];break;case"textarea":m=Xe(e,m),h=Xe(e,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(e.onclick=J)}Yi(o,h);var b;o=null;for(V in m)if(!h.hasOwnProperty(V)&&m.hasOwnProperty(V)&&m[V]!=null)if(V==="style"){var C=m[V];for(b in C)C.hasOwnProperty(b)&&(o||(o={}),o[b]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(u.hasOwnProperty(V)?v||(v=[]):(v=v||[]).push(V,null));for(V in h){var O=h[V];if(C=m?.[V],h.hasOwnProperty(V)&&O!==C&&(O!=null||C!=null))if(V==="style")if(C){for(b in C)!C.hasOwnProperty(b)||O&&O.hasOwnProperty(b)||(o||(o={}),o[b]="");for(b in O)O.hasOwnProperty(b)&&C[b]!==O[b]&&(o||(o={}),o[b]=O[b])}else o||(v||(v=[]),v.push(V,o)),o=O;else V==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,C=C?C.__html:void 0,O!=null&&C!==O&&(v=v||[]).push(V,O)):V==="children"?typeof O!="string"&&typeof O!="number"||(v=v||[]).push(V,""+O):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(u.hasOwnProperty(V)?(O!=null&&V==="onScroll"&&Ye("scroll",e),v||C===O||(v=[])):(v=v||[]).push(V,O))}o&&(v=v||[]).push("style",o);var V=v;(n.updateQueue=V)&&(n.flags|=4)}},Bd=function(e,n,o,h){o!==h&&(n.flags|=4)};function xa(e,n){if(!ct)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:h.sibling=null}}function Ft(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,h=0;if(n)for(var m=e.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=h,e.childLanes=o,n}function km(e,n,o){var h=n.pendingProps;switch(Bu(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(n),null;case 1:return tn(n.type)&&_l(),Ft(n),null;case 3:return h=n.stateNode,co(),at(en),at(Ut),tc(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(e===null||e.child===null)&&(kl(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Gn!==null&&(jc(Gn),Gn=null))),wc(e,n),Ft(n),null;case 5:Xu(n);var m=gs(va.current);if(o=n.type,e!==null&&n.stateNode!=null)Fd(e,n,o,h,m),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!h){if(n.stateNode===null)throw Error(r(166));return Ft(n),null}if(e=gs(gi.current),kl(n)){h=n.stateNode,o=n.type;var v=n.memoizedProps;switch(h[Nn]=n,h[kr]=v,e=(n.mode&1)!==0,o){case"dialog":Ye("cancel",h),Ye("close",h);break;case"iframe":case"object":case"embed":Ye("load",h);break;case"video":case"audio":for(m=0;m<wr.length;m++)Ye(wr[m],h);break;case"source":Ye("error",h);break;case"img":case"image":case"link":Ye("error",h),Ye("load",h);break;case"details":Ye("toggle",h);break;case"input":Sn(h,v),Ye("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Ye("invalid",h);break;case"textarea":Pi(h,v),Ye("invalid",h)}Yi(o,v),m=null;for(var b in v)if(v.hasOwnProperty(b)){var C=v[b];b==="children"?typeof C=="string"?h.textContent!==C&&(v.suppressHydrationWarning!==!0&&W(h.textContent,C,e),m=["children",C]):typeof C=="number"&&h.textContent!==""+C&&(v.suppressHydrationWarning!==!0&&W(h.textContent,C,e),m=["children",""+C]):u.hasOwnProperty(b)&&C!=null&&b==="onScroll"&&Ye("scroll",h)}switch(o){case"input":kn(h),ki(h,v,!0);break;case"textarea":kn(h),ri(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=J)}h=m,n.updateQueue=h,h!==null&&(n.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=En(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof h.is=="string"?e=b.createElement(o,{is:h.is}):(e=b.createElement(o),o==="select"&&(b=e,h.multiple?b.multiple=!0:h.size&&(b.size=h.size))):e=b.createElementNS(e,o),e[Nn]=n,e[kr]=h,$d(e,n,!1,!1),n.stateNode=e;e:{switch(b=$n(o,h),o){case"dialog":Ye("cancel",e),Ye("close",e),m=h;break;case"iframe":case"object":case"embed":Ye("load",e),m=h;break;case"video":case"audio":for(m=0;m<wr.length;m++)Ye(wr[m],e);m=h;break;case"source":Ye("error",e),m=h;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),m=h;break;case"details":Ye("toggle",e),m=h;break;case"input":Sn(e,h),m=bi(e,h),Ye("invalid",e);break;case"option":m=h;break;case"select":e._wrapperState={wasMultiple:!!h.multiple},m=Z({},h,{value:void 0}),Ye("invalid",e);break;case"textarea":Pi(e,h),m=Xe(e,h),Ye("invalid",e);break;default:m=h}Yi(o,m),C=m;for(v in C)if(C.hasOwnProperty(v)){var O=C[v];v==="style"?Ji(e,O):v==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&qr(e,O)):v==="children"?typeof O=="string"?(o!=="textarea"||O!=="")&&si(e,O):typeof O=="number"&&si(e,""+O):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(u.hasOwnProperty(v)?O!=null&&v==="onScroll"&&Ye("scroll",e):O!=null&&G(e,v,O,b))}switch(o){case"input":kn(e),ki(e,h,!1);break;case"textarea":kn(e),ri(e);break;case"option":h.value!=null&&e.setAttribute("value",""+we(h.value));break;case"select":e.multiple=!!h.multiple,v=h.value,v!=null?Pn(e,!!h.multiple,v,!1):h.defaultValue!=null&&Pn(e,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(e.onclick=J)}switch(o){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ft(n),null;case 6:if(e&&n.stateNode!=null)Bd(e,n,e.memoizedProps,h);else{if(typeof h!="string"&&n.stateNode===null)throw Error(r(166));if(o=gs(va.current),gs(gi.current),kl(n)){if(h=n.stateNode,o=n.memoizedProps,h[Nn]=n,(v=h.nodeValue!==o)&&(e=wn,e!==null))switch(e.tag){case 3:W(h.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&W(h.nodeValue,o,(e.mode&1)!==0)}v&&(n.flags|=4)}else h=(o.nodeType===9?o:o.ownerDocument).createTextNode(h),h[Nn]=n,n.stateNode=h}return Ft(n),null;case 13:if(at(ft),h=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ct&&bn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Wh(),oo(),n.flags|=98560,v=!1;else if(v=kl(n),h!==null&&h.dehydrated!==null){if(e===null){if(!v)throw Error(r(318));if(v=n.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Nn]=n}else oo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ft(n),v=!1}else Gn!==null&&(jc(Gn),Gn=null),v=!0;if(!v)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=o,n):(h=h!==null,h!==(e!==null&&e.memoizedState!==null)&&h&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(ft.current&1)!==0?Pt===0&&(Pt=3):Rc())),n.updateQueue!==null&&(n.flags|=4),Ft(n),null);case 4:return co(),wc(e,n),e===null&&br(n.stateNode.containerInfo),Ft(n),null;case 10:return Ku(n.type._context),Ft(n),null;case 17:return tn(n.type)&&_l(),Ft(n),null;case 19:if(at(ft),v=n.memoizedState,v===null)return Ft(n),null;if(h=(n.flags&128)!==0,b=v.rendering,b===null)if(h)xa(v,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(b=Tl(e),b!==null){for(n.flags|=128,xa(v,!1),h=b.updateQueue,h!==null&&(n.updateQueue=h,n.flags|=4),n.subtreeFlags=0,h=o,o=n.child;o!==null;)v=o,e=h,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,e=b.dependencies,v.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return rt(ft,ft.current&1|2),n.child}e=e.sibling}v.tail!==null&&nt()>mo&&(n.flags|=128,h=!0,xa(v,!1),n.lanes=4194304)}else{if(!h)if(e=Tl(b),e!==null){if(n.flags|=128,h=!0,o=e.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),xa(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!ct)return Ft(n),null}else 2*nt()-v.renderingStartTime>mo&&o!==1073741824&&(n.flags|=128,h=!0,xa(v,!1),n.lanes=4194304);v.isBackwards?(b.sibling=n.child,n.child=b):(o=v.last,o!==null?o.sibling=b:n.child=b,v.last=b)}return v.tail!==null?(n=v.tail,v.rendering=n,v.tail=n.sibling,v.renderingStartTime=nt(),n.sibling=null,o=ft.current,rt(ft,h?o&1|2:o&1),n):(Ft(n),null);case 22:case 23:return Nc(),h=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==h&&(n.flags|=8192),h&&(n.mode&1)!==0?(xn&1073741824)!==0&&(Ft(n),n.subtreeFlags&6&&(n.flags|=8192)):Ft(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function Sm(e,n){switch(Bu(n),n.tag){case 1:return tn(n.type)&&_l(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return co(),at(en),at(Ut),tc(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Xu(n),null;case 13:if(at(ft),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));oo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return at(ft),null;case 4:return co(),null;case 10:return Ku(n.type._context),null;case 22:case 23:return Nc(),null;case 24:return null;default:return null}}var Dl=!1,Bt=!1,Pm=typeof WeakSet=="function"?WeakSet:Set,fe=null;function fo(e,n){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(h){vt(e,n,h)}else o.current=null}function bc(e,n,o){try{o()}catch(h){vt(e,n,h)}}var Zd=!1;function Em(e,n){if(ae=rs,e=sa(),oa(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var b=0,C=-1,O=-1,V=0,X=0,te=e,Y=null;t:for(;;){for(var de;te!==o||m!==0&&te.nodeType!==3||(C=b+m),te!==v||h!==0&&te.nodeType!==3||(O=b+h),te.nodeType===3&&(b+=te.nodeValue.length),(de=te.firstChild)!==null;)Y=te,te=de;for(;;){if(te===e)break t;if(Y===o&&++V===m&&(C=b),Y===v&&++X===h&&(O=b),(de=te.nextSibling)!==null)break;te=Y,Y=te.parentNode}te=de}o=C===-1||O===-1?null:{start:C,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Se={focusedElem:e,selectionRange:o},rs=!1,fe=n;fe!==null;)if(n=fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,fe=e;else for(;fe!==null;){n=fe;try{var me=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var _e=me.memoizedProps,_t=me.memoizedState,$=n.stateNode,N=$.getSnapshotBeforeUpdate(n.elementType===n.type?_e:Jn(n.type,_e),_t);$.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var B=n.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ie){vt(n,n.return,ie)}if(e=n.sibling,e!==null){e.return=n.return,fe=e;break}fe=n.return}return me=Zd,Zd=!1,me}function ka(e,n,o){var h=n.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&e)===e){var v=m.destroy;m.destroy=void 0,v!==void 0&&bc(n,o,v)}m=m.next}while(m!==h)}}function Ul(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var h=o.create;o.destroy=h()}o=o.next}while(o!==n)}}function xc(e){var n=e.ref;if(n!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof n=="function"?n(e):n.current=e}}function Hd(e){var n=e.alternate;n!==null&&(e.alternate=null,Hd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Nn],delete n[kr],delete n[Sr],delete n[Mu],delete n[Du])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wd(e){return e.tag===5||e.tag===3||e.tag===4}function Vd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kc(e,n,o){var h=e.tag;if(h===5||h===6)e=e.stateNode,n?o.nodeType===8?o.parentNode.insertBefore(e,n):o.insertBefore(e,n):(o.nodeType===8?(n=o.parentNode,n.insertBefore(e,o)):(n=o,n.appendChild(e)),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=J));else if(h!==4&&(e=e.child,e!==null))for(kc(e,n,o),e=e.sibling;e!==null;)kc(e,n,o),e=e.sibling}function Sc(e,n,o){var h=e.tag;if(h===5||h===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(h!==4&&(e=e.child,e!==null))for(Sc(e,n,o),e=e.sibling;e!==null;)Sc(e,n,o),e=e.sibling}var Rt=null,Qn=!1;function zr(e,n,o){for(o=o.child;o!==null;)qd(e,n,o),o=o.sibling}function qd(e,n,o){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Yr,o)}catch{}switch(o.tag){case 5:Bt||fo(o,n);case 6:var h=Rt,m=Qn;Rt=null,zr(e,n,o),Rt=h,Qn=m,Rt!==null&&(Qn?(e=Rt,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):Rt.removeChild(o.stateNode));break;case 18:Rt!==null&&(Qn?(e=Rt,o=o.stateNode,e.nodeType===8?fa(e.parentNode,o):e.nodeType===1&&fa(e,o),mn(e)):fa(Rt,o.stateNode));break;case 4:h=Rt,m=Qn,Rt=o.stateNode.containerInfo,Qn=!0,zr(e,n,o),Rt=h,Qn=m;break;case 0:case 11:case 14:case 15:if(!Bt&&(h=o.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,b=v.destroy;v=v.tag,b!==void 0&&((v&2)!==0||(v&4)!==0)&&bc(o,n,b),m=m.next}while(m!==h)}zr(e,n,o);break;case 1:if(!Bt&&(fo(o,n),h=o.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=o.memoizedProps,h.state=o.memoizedState,h.componentWillUnmount()}catch(C){vt(o,n,C)}zr(e,n,o);break;case 21:zr(e,n,o);break;case 22:o.mode&1?(Bt=(h=Bt)||o.memoizedState!==null,zr(e,n,o),Bt=h):zr(e,n,o);break;default:zr(e,n,o)}}function Kd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new Pm),n.forEach(function(h){var m=Im.bind(null,e,h);o.has(h)||(o.add(h),h.then(m,m))})}}function Yn(e,n){var o=n.deletions;if(o!==null)for(var h=0;h<o.length;h++){var m=o[h];try{var v=e,b=n,C=b;e:for(;C!==null;){switch(C.tag){case 5:Rt=C.stateNode,Qn=!1;break e;case 3:Rt=C.stateNode.containerInfo,Qn=!0;break e;case 4:Rt=C.stateNode.containerInfo,Qn=!0;break e}C=C.return}if(Rt===null)throw Error(r(160));qd(v,b,m),Rt=null,Qn=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(V){vt(m,n,V)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Gd(n,e),n=n.sibling}function Gd(e,n){var o=e.alternate,h=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yn(n,e),_i(e),h&4){try{ka(3,e,e.return),Ul(3,e)}catch(_e){vt(e,e.return,_e)}try{ka(5,e,e.return)}catch(_e){vt(e,e.return,_e)}}break;case 1:Yn(n,e),_i(e),h&512&&o!==null&&fo(o,o.return);break;case 5:if(Yn(n,e),_i(e),h&512&&o!==null&&fo(o,o.return),e.flags&32){var m=e.stateNode;try{si(m,"")}catch(_e){vt(e,e.return,_e)}}if(h&4&&(m=e.stateNode,m!=null)){var v=e.memoizedProps,b=o!==null?o.memoizedProps:v,C=e.type,O=e.updateQueue;if(e.updateQueue=null,O!==null)try{C==="input"&&v.type==="radio"&&v.name!=null&&Vr(m,v),$n(C,b);var V=$n(C,v);for(b=0;b<O.length;b+=2){var X=O[b],te=O[b+1];X==="style"?Ji(m,te):X==="dangerouslySetInnerHTML"?qr(m,te):X==="children"?si(m,te):G(m,X,te,V)}switch(C){case"input":xi(m,v);break;case"textarea":zs(m,v);break;case"select":var Y=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var de=v.value;de!=null?Pn(m,!!v.multiple,de,!1):Y!==!!v.multiple&&(v.defaultValue!=null?Pn(m,!!v.multiple,v.defaultValue,!0):Pn(m,!!v.multiple,v.multiple?[]:"",!1))}m[kr]=v}catch(_e){vt(e,e.return,_e)}}break;case 6:if(Yn(n,e),_i(e),h&4){if(e.stateNode===null)throw Error(r(162));m=e.stateNode,v=e.memoizedProps;try{m.nodeValue=v}catch(_e){vt(e,e.return,_e)}}break;case 3:if(Yn(n,e),_i(e),h&4&&o!==null&&o.memoizedState.isDehydrated)try{mn(n.containerInfo)}catch(_e){vt(e,e.return,_e)}break;case 4:Yn(n,e),_i(e);break;case 13:Yn(n,e),_i(e),m=e.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Cc=nt())),h&4&&Kd(e);break;case 22:if(X=o!==null&&o.memoizedState!==null,e.mode&1?(Bt=(V=Bt)||X,Yn(n,e),Bt=V):Yn(n,e),_i(e),h&8192){if(V=e.memoizedState!==null,(e.stateNode.isHidden=V)&&!X&&(e.mode&1)!==0)for(fe=e,X=e.child;X!==null;){for(te=fe=X;fe!==null;){switch(Y=fe,de=Y.child,Y.tag){case 0:case 11:case 14:case 15:ka(4,Y,Y.return);break;case 1:fo(Y,Y.return);var me=Y.stateNode;if(typeof me.componentWillUnmount=="function"){h=Y,o=Y.return;try{n=h,me.props=n.memoizedProps,me.state=n.memoizedState,me.componentWillUnmount()}catch(_e){vt(h,o,_e)}}break;case 5:fo(Y,Y.return);break;case 22:if(Y.memoizedState!==null){Yd(te);continue}}de!==null?(de.return=Y,fe=de):Yd(te)}X=X.sibling}e:for(X=null,te=e;;){if(te.tag===5){if(X===null){X=te;try{m=te.stateNode,V?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(C=te.stateNode,O=te.memoizedProps.style,b=O!=null&&O.hasOwnProperty("display")?O.display:null,C.style.display=Ei("display",b))}catch(_e){vt(e,e.return,_e)}}}else if(te.tag===6){if(X===null)try{te.stateNode.nodeValue=V?"":te.memoizedProps}catch(_e){vt(e,e.return,_e)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===e)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===e)break e;for(;te.sibling===null;){if(te.return===null||te.return===e)break e;X===te&&(X=null),te=te.return}X===te&&(X=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Yn(n,e),_i(e),h&4&&Kd(e);break;case 21:break;default:Yn(n,e),_i(e)}}function _i(e){var n=e.flags;if(n&2){try{e:{for(var o=e.return;o!==null;){if(Wd(o)){var h=o;break e}o=o.return}throw Error(r(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(si(m,""),h.flags&=-33);var v=Vd(e);Sc(e,v,m);break;case 3:case 4:var b=h.stateNode.containerInfo,C=Vd(e);kc(e,C,b);break;default:throw Error(r(161))}}catch(O){vt(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Cm(e,n,o){fe=e,Jd(e)}function Jd(e,n,o){for(var h=(e.mode&1)!==0;fe!==null;){var m=fe,v=m.child;if(m.tag===22&&h){var b=m.memoizedState!==null||Dl;if(!b){var C=m.alternate,O=C!==null&&C.memoizedState!==null||Bt;C=Dl;var V=Bt;if(Dl=b,(Bt=O)&&!V)for(fe=m;fe!==null;)b=fe,O=b.child,b.tag===22&&b.memoizedState!==null?Xd(m):O!==null?(O.return=b,fe=O):Xd(m);for(;v!==null;)fe=v,Jd(v),v=v.sibling;fe=m,Dl=C,Bt=V}Qd(e)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,fe=v):Qd(e)}}function Qd(e){for(;fe!==null;){var n=fe;if((n.flags&8772)!==0){var o=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Bt||Ul(5,n);break;case 1:var h=n.stateNode;if(n.flags&4&&!Bt)if(o===null)h.componentDidMount();else{var m=n.elementType===n.type?o.memoizedProps:Jn(n.type,o.memoizedProps);h.componentDidUpdate(m,o.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=n.updateQueue;v!==null&&Yh(n,v,h);break;case 3:var b=n.updateQueue;if(b!==null){if(o=null,n.child!==null)switch(n.child.tag){case 5:o=n.child.stateNode;break;case 1:o=n.child.stateNode}Yh(n,b,o)}break;case 5:var C=n.stateNode;if(o===null&&n.flags&4){o=C;var O=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&o.focus();break;case"img":O.src&&(o.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var V=n.alternate;if(V!==null){var X=V.memoizedState;if(X!==null){var te=X.dehydrated;te!==null&&mn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Bt||n.flags&512&&xc(n)}catch(Y){vt(n,n.return,Y)}}if(n===e){fe=null;break}if(o=n.sibling,o!==null){o.return=n.return,fe=o;break}fe=n.return}}function Yd(e){for(;fe!==null;){var n=fe;if(n===e){fe=null;break}var o=n.sibling;if(o!==null){o.return=n.return,fe=o;break}fe=n.return}}function Xd(e){for(;fe!==null;){var n=fe;try{switch(n.tag){case 0:case 11:case 15:var o=n.return;try{Ul(4,n)}catch(O){vt(n,o,O)}break;case 1:var h=n.stateNode;if(typeof h.componentDidMount=="function"){var m=n.return;try{h.componentDidMount()}catch(O){vt(n,m,O)}}var v=n.return;try{xc(n)}catch(O){vt(n,v,O)}break;case 5:var b=n.return;try{xc(n)}catch(O){vt(n,b,O)}}}catch(O){vt(n,n.return,O)}if(n===e){fe=null;break}var C=n.sibling;if(C!==null){C.return=n.return,fe=C;break}fe=n.return}}var Lm=Math.ceil,$l=Q.ReactCurrentDispatcher,Pc=Q.ReactCurrentOwner,Dn=Q.ReactCurrentBatchConfig,qe=0,Tt=null,bt=null,It=0,xn=0,po=Pr(0),Pt=0,Sa=null,_s=0,Fl=0,Ec=0,Pa=null,rn=null,Cc=0,mo=1/0,qi=null,Bl=!1,Lc=null,jr=null,Zl=!1,Or=null,Hl=0,Ea=0,Tc=null,Wl=-1,Vl=0;function Kt(){return(qe&6)!==0?nt():Wl!==-1?Wl:Wl=nt()}function Nr(e){return(e.mode&1)===0?1:(qe&2)!==0&&It!==0?It&-It:hm.transition!==null?(Vl===0&&(Vl=Ga()),Vl):(e=He,e!==0||(e=window.event,e=e===void 0?16:Be(e.type)),e)}function Xn(e,n,o,h){if(50<Ea)throw Ea=0,Tc=null,Error(r(185));fn(e,o,h),((qe&2)===0||e!==Tt)&&(e===Tt&&((qe&2)===0&&(Fl|=o),Pt===4&&Rr(e,It)),sn(e,h),o===1&&qe===0&&(n.mode&1)===0&&(mo=nt()+500,wl&&Cr()))}function sn(e,n){var o=e.callbackNode;Rs(e,n);var h=it(e,e===Tt?It:0);if(h===0)o!==null&&cn(o),e.callbackNode=null,e.callbackPriority=0;else if(n=h&-h,e.callbackPriority!==n){if(o!=null&&cn(o),n===1)e.tag===0?cm(tf.bind(null,e)):$h(tf.bind(null,e)),Dt(function(){(qe&6)===0&&Cr()}),o=null;else{switch(lr(h)){case 1:o=Bo;break;case 4:o=Ka;break;case 16:o=Os;break;case 536870912:o=rr;break;default:o=Os}o=cf(o,ef.bind(null,e))}e.callbackPriority=n,e.callbackNode=o}}function ef(e,n){if(Wl=-1,Vl=0,(qe&6)!==0)throw Error(r(327));var o=e.callbackNode;if(go()&&e.callbackNode!==o)return null;var h=it(e,e===Tt?It:0);if(h===0)return null;if((h&30)!==0||(h&e.expiredLanes)!==0||n)n=ql(e,h);else{n=h;var m=qe;qe|=2;var v=rf();(Tt!==e||It!==n)&&(qi=null,mo=nt()+500,ws(e,n));do try{jm();break}catch(C){nf(e,C)}while(!0);qu(),$l.current=v,qe=m,bt!==null?n=0:(Tt=null,It=0,n=Pt)}if(n!==0){if(n===2&&(m=At(e),m!==0&&(h=m,n=zc(e,m))),n===1)throw o=Sa,ws(e,0),Rr(e,h),sn(e,nt()),o;if(n===6)Rr(e,h);else{if(m=e.current.alternate,(h&30)===0&&!Tm(m)&&(n=ql(e,h),n===2&&(v=At(e),v!==0&&(h=v,n=zc(e,v))),n===1))throw o=Sa,ws(e,0),Rr(e,h),sn(e,nt()),o;switch(e.finishedWork=m,e.finishedLanes=h,n){case 0:case 1:throw Error(r(345));case 2:bs(e,rn,qi);break;case 3:if(Rr(e,h),(h&130023424)===h&&(n=Cc+500-nt(),10<n)){if(it(e,0)!==0)break;if(m=e.suspendedLanes,(m&h)!==h){Kt(),e.pingedLanes|=e.suspendedLanes&m;break}e.timeoutHandle=kt(bs.bind(null,e,rn,qi),n);break}bs(e,rn,qi);break;case 4:if(Rr(e,h),(h&4194240)===h)break;for(n=e.eventTimes,m=-1;0<h;){var b=31-Re(h);v=1<<b,b=n[b],b>m&&(m=b),h&=~v}if(h=m,h=nt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Lm(h/1960))-h,10<h){e.timeoutHandle=kt(bs.bind(null,e,rn,qi),h);break}bs(e,rn,qi);break;case 5:bs(e,rn,qi);break;default:throw Error(r(329))}}}return sn(e,nt()),e.callbackNode===o?ef.bind(null,e):null}function zc(e,n){var o=Pa;return e.current.memoizedState.isDehydrated&&(ws(e,n).flags|=256),e=ql(e,n),e!==2&&(n=rn,rn=o,n!==null&&jc(n)),e}function jc(e){rn===null?rn=e:rn.push.apply(rn,e)}function Tm(e){for(var n=e;;){if(n.flags&16384){var o=n.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var h=0;h<o.length;h++){var m=o[h],v=m.getSnapshot;m=m.value;try{if(!_n(v(),m))return!1}catch{return!1}}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Rr(e,n){for(n&=~Ec,n&=~Fl,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var o=31-Re(n),h=1<<o;e[o]=-1,n&=~h}}function tf(e){if((qe&6)!==0)throw Error(r(327));go();var n=it(e,0);if((n&1)===0)return sn(e,nt()),null;var o=ql(e,n);if(e.tag!==0&&o===2){var h=At(e);h!==0&&(n=h,o=zc(e,h))}if(o===1)throw o=Sa,ws(e,0),Rr(e,n),sn(e,nt()),o;if(o===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,bs(e,rn,qi),sn(e,nt()),null}function Oc(e,n){var o=qe;qe|=1;try{return e(n)}finally{qe=o,qe===0&&(mo=nt()+500,wl&&Cr())}}function ys(e){Or!==null&&Or.tag===0&&(qe&6)===0&&go();var n=qe;qe|=1;var o=Dn.transition,h=He;try{if(Dn.transition=null,He=1,e)return e()}finally{He=h,Dn.transition=o,qe=n,(qe&6)===0&&Cr()}}function Nc(){xn=po.current,at(po)}function ws(e,n){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,wt(o)),bt!==null)for(o=bt.return;o!==null;){var h=o;switch(Bu(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&_l();break;case 3:co(),at(en),at(Ut),tc();break;case 5:Xu(h);break;case 4:co();break;case 13:at(ft);break;case 19:at(ft);break;case 10:Ku(h.type._context);break;case 22:case 23:Nc()}o=o.return}if(Tt=e,bt=e=Ir(e.current,null),It=xn=n,Pt=0,Sa=null,Ec=Fl=_s=0,rn=Pa=null,ms!==null){for(n=0;n<ms.length;n++)if(o=ms[n],h=o.interleaved,h!==null){o.interleaved=null;var m=h.next,v=o.pending;if(v!==null){var b=v.next;v.next=m,h.next=b}o.pending=h}ms=null}return e}function nf(e,n){do{var o=bt;try{if(qu(),zl.current=Rl,jl){for(var h=pt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}jl=!1}if(vs=0,Lt=St=pt=null,_a=!1,ya=0,Pc.current=null,o===null||o.return===null){Pt=1,Sa=n,bt=null;break}e:{var v=e,b=o.return,C=o,O=n;if(n=It,C.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var V=O,X=C,te=X.tag;if((X.mode&1)===0&&(te===0||te===11||te===15)){var Y=X.alternate;Y?(X.updateQueue=Y.updateQueue,X.memoizedState=Y.memoizedState,X.lanes=Y.lanes):(X.updateQueue=null,X.memoizedState=null)}var de=Cd(b);if(de!==null){de.flags&=-257,Ld(de,b,C,v,n),de.mode&1&&Ed(v,V,n),n=de,O=V;var me=n.updateQueue;if(me===null){var _e=new Set;_e.add(O),n.updateQueue=_e}else me.add(O);break e}else{if((n&1)===0){Ed(v,V,n),Rc();break e}O=Error(r(426))}}else if(ct&&C.mode&1){var _t=Cd(b);if(_t!==null){(_t.flags&65536)===0&&(_t.flags|=256),Ld(_t,b,C,v,n),Wu(ho(O,C));break e}}v=O=ho(O,C),Pt!==4&&(Pt=2),Pa===null?Pa=[v]:Pa.push(v),v=b;do{switch(v.tag){case 3:v.flags|=65536,n&=-n,v.lanes|=n;var $=Sd(v,O,n);Qh(v,$);break e;case 1:C=O;var N=v.type,B=v.stateNode;if((v.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(jr===null||!jr.has(B)))){v.flags|=65536,n&=-n,v.lanes|=n;var ie=Pd(v,C,n);Qh(v,ie);break e}}v=v.return}while(v!==null)}of(o)}catch(xe){n=xe,bt===o&&o!==null&&(bt=o=o.return);continue}break}while(!0)}function rf(){var e=$l.current;return $l.current=Rl,e===null?Rl:e}function Rc(){(Pt===0||Pt===3||Pt===2)&&(Pt=4),Tt===null||(_s&268435455)===0&&(Fl&268435455)===0||Rr(Tt,It)}function ql(e,n){var o=qe;qe|=2;var h=rf();(Tt!==e||It!==n)&&(qi=null,ws(e,n));do try{zm();break}catch(m){nf(e,m)}while(!0);if(qu(),qe=o,$l.current=h,bt!==null)throw Error(r(261));return Tt=null,It=0,Pt}function zm(){for(;bt!==null;)sf(bt)}function jm(){for(;bt!==null&&!hn();)sf(bt)}function sf(e){var n=uf(e.alternate,e,xn);e.memoizedProps=e.pendingProps,n===null?of(e):bt=n,Pc.current=null}function of(e){var n=e;do{var o=n.alternate;if(e=n.return,(n.flags&32768)===0){if(o=km(o,n,xn),o!==null){bt=o;return}}else{if(o=Sm(o,n),o!==null){o.flags&=32767,bt=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pt=6,bt=null;return}}if(n=n.sibling,n!==null){bt=n;return}bt=n=e}while(n!==null);Pt===0&&(Pt=5)}function bs(e,n,o){var h=He,m=Dn.transition;try{Dn.transition=null,He=1,Om(e,n,o,h)}finally{Dn.transition=m,He=h}return null}function Om(e,n,o,h){do go();while(Or!==null);if((qe&6)!==0)throw Error(r(327));o=e.finishedWork;var m=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var v=o.lanes|o.childLanes;if(gt(e,v),e===Tt&&(bt=Tt=null,It=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Zl||(Zl=!0,cf(Os,function(){return go(),null})),v=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||v){v=Dn.transition,Dn.transition=null;var b=He;He=1;var C=qe;qe|=4,Pc.current=null,Em(e,o),Gd(o,e),jn(Se),rs=!!ae,Se=ae=null,e.current=o,Cm(o),Nt(),qe=C,He=b,Dn.transition=v}else e.current=o;if(Zl&&(Zl=!1,Or=e,Hl=m),v=e.pendingLanes,v===0&&(jr=null),Xr(o.stateNode),sn(e,nt()),n!==null)for(h=e.onRecoverableError,o=0;o<n.length;o++)m=n[o],h(m.value,{componentStack:m.stack,digest:m.digest});if(Bl)throw Bl=!1,e=Lc,Lc=null,e;return(Hl&1)!==0&&e.tag!==0&&go(),v=e.pendingLanes,(v&1)!==0?e===Tc?Ea++:(Ea=0,Tc=e):Ea=0,Cr(),null}function go(){if(Or!==null){var e=lr(Hl),n=Dn.transition,o=He;try{if(Dn.transition=null,He=16>e?16:e,Or===null)var h=!1;else{if(e=Or,Or=null,Hl=0,(qe&6)!==0)throw Error(r(331));var m=qe;for(qe|=4,fe=e.current;fe!==null;){var v=fe,b=v.child;if((fe.flags&16)!==0){var C=v.deletions;if(C!==null){for(var O=0;O<C.length;O++){var V=C[O];for(fe=V;fe!==null;){var X=fe;switch(X.tag){case 0:case 11:case 15:ka(8,X,v)}var te=X.child;if(te!==null)te.return=X,fe=te;else for(;fe!==null;){X=fe;var Y=X.sibling,de=X.return;if(Hd(X),X===V){fe=null;break}if(Y!==null){Y.return=de,fe=Y;break}fe=de}}}var me=v.alternate;if(me!==null){var _e=me.child;if(_e!==null){me.child=null;do{var _t=_e.sibling;_e.sibling=null,_e=_t}while(_e!==null)}}fe=v}}if((v.subtreeFlags&2064)!==0&&b!==null)b.return=v,fe=b;else e:for(;fe!==null;){if(v=fe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:ka(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,fe=$;break e}fe=v.return}}var N=e.current;for(fe=N;fe!==null;){b=fe;var B=b.child;if((b.subtreeFlags&2064)!==0&&B!==null)B.return=b,fe=B;else e:for(b=N;fe!==null;){if(C=fe,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:Ul(9,C)}}catch(xe){vt(C,C.return,xe)}if(C===b){fe=null;break e}var ie=C.sibling;if(ie!==null){ie.return=C.return,fe=ie;break e}fe=C.return}}if(qe=m,Cr(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Yr,e)}catch{}h=!0}return h}finally{He=o,Dn.transition=n}}return!1}function af(e,n,o){n=ho(o,n),n=Sd(e,n,1),e=Tr(e,n,1),n=Kt(),e!==null&&(fn(e,1,n),sn(e,n))}function vt(e,n,o){if(e.tag===3)af(e,e,o);else for(;n!==null;){if(n.tag===3){af(n,e,o);break}else if(n.tag===1){var h=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(jr===null||!jr.has(h))){e=ho(o,e),e=Pd(n,e,1),n=Tr(n,e,1),e=Kt(),n!==null&&(fn(n,1,e),sn(n,e));break}}n=n.return}}function Nm(e,n,o){var h=e.pingCache;h!==null&&h.delete(n),n=Kt(),e.pingedLanes|=e.suspendedLanes&o,Tt===e&&(It&o)===o&&(Pt===4||Pt===3&&(It&130023424)===It&&500>nt()-Cc?ws(e,0):Ec|=o),sn(e,n)}function lf(e,n){n===0&&((e.mode&1)===0?n=1:(n=or,or<<=1,(or&130023424)===0&&(or=4194304)));var o=Kt();e=Hi(e,n),e!==null&&(fn(e,n,o),sn(e,o))}function Rm(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),lf(e,o)}function Im(e,n){var o=0;switch(e.tag){case 13:var h=e.stateNode,m=e.memoizedState;m!==null&&(o=m.retryLane);break;case 19:h=e.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(n),lf(e,o)}var uf;uf=function(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps||en.current)nn=!0;else{if((e.lanes&o)===0&&(n.flags&128)===0)return nn=!1,xm(e,n,o);nn=(e.flags&131072)!==0}else nn=!1,ct&&(n.flags&1048576)!==0&&Fh(n,xl,n.index);switch(n.lanes=0,n.tag){case 2:var h=n.type;Ml(e,n),e=n.pendingProps;var m=io(n,Ut.current);uo(n,o),m=rc(null,n,h,e,m,o);var v=sc();return n.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,tn(h)?(v=!0,yl(n)):v=!1,n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Qu(n),m.updater=Il,n.stateNode=m,m._reactInternals=n,hc(n,h,e,o),n=mc(null,n,h,!0,v,o)):(n.tag=0,ct&&v&&Fu(n),qt(null,n,m,o),n=n.child),n;case 16:h=n.elementType;e:{switch(Ml(e,n),e=n.pendingProps,m=h._init,h=m(h._payload),n.type=h,m=n.tag=Mm(h),e=Jn(h,e),m){case 0:n=pc(null,n,h,e,o);break e;case 1:n=Rd(null,n,h,e,o);break e;case 11:n=Td(null,n,h,e,o);break e;case 14:n=zd(null,n,h,Jn(h.type,e),o);break e}throw Error(r(306,h,""))}return n;case 0:return h=n.type,m=n.pendingProps,m=n.elementType===h?m:Jn(h,m),pc(e,n,h,m,o);case 1:return h=n.type,m=n.pendingProps,m=n.elementType===h?m:Jn(h,m),Rd(e,n,h,m,o);case 3:e:{if(Id(n),e===null)throw Error(r(387));h=n.pendingProps,v=n.memoizedState,m=v.element,Jh(e,n),Ll(n,h,null,o);var b=n.memoizedState;if(h=b.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},n.updateQueue.baseState=v,n.memoizedState=v,n.flags&256){m=ho(Error(r(423)),n),n=Ad(e,n,h,o,m);break e}else if(h!==m){m=ho(Error(r(424)),n),n=Ad(e,n,h,o,m);break e}else for(bn=mi(n.stateNode.containerInfo.firstChild),wn=n,ct=!0,Gn=null,o=Kh(n,null,h,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(oo(),h===m){n=Vi(e,n,o);break e}qt(e,n,h,o)}n=n.child}return n;case 5:return Xh(n),e===null&&Hu(n),h=n.type,m=n.pendingProps,v=e!==null?e.memoizedProps:null,b=m.children,Ie(h,m)?b=null:v!==null&&Ie(h,v)&&(n.flags|=32),Nd(e,n),qt(e,n,b,o),n.child;case 6:return e===null&&Hu(n),null;case 13:return Md(e,n,o);case 4:return Yu(n,n.stateNode.containerInfo),h=n.pendingProps,e===null?n.child=ao(n,null,h,o):qt(e,n,h,o),n.child;case 11:return h=n.type,m=n.pendingProps,m=n.elementType===h?m:Jn(h,m),Td(e,n,h,m,o);case 7:return qt(e,n,n.pendingProps,o),n.child;case 8:return qt(e,n,n.pendingProps.children,o),n.child;case 12:return qt(e,n,n.pendingProps.children,o),n.child;case 10:e:{if(h=n.type._context,m=n.pendingProps,v=n.memoizedProps,b=m.value,rt(Pl,h._currentValue),h._currentValue=b,v!==null)if(_n(v.value,b)){if(v.children===m.children&&!en.current){n=Vi(e,n,o);break e}}else for(v=n.child,v!==null&&(v.return=n);v!==null;){var C=v.dependencies;if(C!==null){b=v.child;for(var O=C.firstContext;O!==null;){if(O.context===h){if(v.tag===1){O=Wi(-1,o&-o),O.tag=2;var V=v.updateQueue;if(V!==null){V=V.shared;var X=V.pending;X===null?O.next=O:(O.next=X.next,X.next=O),V.pending=O}}v.lanes|=o,O=v.alternate,O!==null&&(O.lanes|=o),Gu(v.return,o,n),C.lanes|=o;break}O=O.next}}else if(v.tag===10)b=v.type===n.type?null:v.child;else if(v.tag===18){if(b=v.return,b===null)throw Error(r(341));b.lanes|=o,C=b.alternate,C!==null&&(C.lanes|=o),Gu(b,o,n),b=v.sibling}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===n){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}qt(e,n,m.children,o),n=n.child}return n;case 9:return m=n.type,h=n.pendingProps.children,uo(n,o),m=An(m),h=h(m),n.flags|=1,qt(e,n,h,o),n.child;case 14:return h=n.type,m=Jn(h,n.pendingProps),m=Jn(h.type,m),zd(e,n,h,m,o);case 15:return jd(e,n,n.type,n.pendingProps,o);case 17:return h=n.type,m=n.pendingProps,m=n.elementType===h?m:Jn(h,m),Ml(e,n),n.tag=1,tn(h)?(e=!0,yl(n)):e=!1,uo(n,o),xd(n,h,m),hc(n,h,m,o),mc(null,n,h,!0,e,o);case 19:return Ud(e,n,o);case 22:return Od(e,n,o)}throw Error(r(156,n.tag))};function cf(e,n){return Zt(e,n)}function Am(e,n,o,h){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(e,n,o,h){return new Am(e,n,o,h)}function Ic(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mm(e){if(typeof e=="function")return Ic(e)?1:0;if(e!=null){if(e=e.$$typeof,e===We)return 11;if(e===tt)return 14}return 2}function Ir(e,n){var o=e.alternate;return o===null?(o=Un(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function Kl(e,n,o,h,m,v){var b=2;if(h=e,typeof e=="function")Ic(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case le:return xs(o.children,m,v,n);case ve:b=8,m|=8;break;case De:return e=Un(12,o,n,m|2),e.elementType=De,e.lanes=v,e;case Me:return e=Un(13,o,n,m),e.elementType=Me,e.lanes=v,e;case Ue:return e=Un(19,o,n,m),e.elementType=Ue,e.lanes=v,e;case Le:return Gl(o,m,v,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case oe:b=10;break e;case ke:b=9;break e;case We:b=11;break e;case tt:b=14;break e;case ze:b=16,h=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Un(b,o,n,m),n.elementType=e,n.type=h,n.lanes=v,n}function xs(e,n,o,h){return e=Un(7,e,h,n),e.lanes=o,e}function Gl(e,n,o,h){return e=Un(22,e,h,n),e.elementType=Le,e.lanes=o,e.stateNode={isHidden:!1},e}function Ac(e,n,o){return e=Un(6,e,null,n),e.lanes=o,e}function Mc(e,n,o){return n=Un(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Dm(e,n,o,h,m){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ar(0),this.expirationTimes=ar(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ar(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Dc(e,n,o,h,m,v,b,C,O){return e=new Dm(e,n,o,C,O),n===1?(n=1,v===!0&&(n|=8)):n=0,v=Un(3,null,null,n),e.current=v,v.stateNode=e,v.memoizedState={element:h,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qu(v),e}function Um(e,n,o){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:h==null?null:""+h,children:e,containerInfo:n,implementation:o}}function hf(e){if(!e)return Er;e=e._reactInternals;e:{if(mt(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(tn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var o=e.type;if(tn(o))return Dh(e,o,n)}return n}function df(e,n,o,h,m,v,b,C,O){return e=Dc(o,h,!0,e,m,v,b,C,O),e.context=hf(null),o=e.current,h=Kt(),m=Nr(o),v=Wi(h,m),v.callback=n??null,Tr(o,v,m),e.current.lanes=m,fn(e,m,h),sn(e,h),e}function Jl(e,n,o,h){var m=n.current,v=Kt(),b=Nr(m);return o=hf(o),n.context===null?n.context=o:n.pendingContext=o,n=Wi(v,b),n.payload={element:e},h=h===void 0?null:h,h!==null&&(n.callback=h),e=Tr(m,n,b),e!==null&&(Xn(e,m,b,v),Cl(e,m,b)),b}function Ql(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ff(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Uc(e,n){ff(e,n),(e=e.alternate)&&ff(e,n)}function $m(){return null}var pf=typeof reportError=="function"?reportError:function(e){console.error(e)};function $c(e){this._internalRoot=e}Yl.prototype.render=$c.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));Jl(e,n,null,null)},Yl.prototype.unmount=$c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;ys(function(){Jl(null,e,null,null)}),n[Je]=null}};function Yl(e){this._internalRoot=e}Yl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ms();e={blockedOn:null,target:e,priority:n};for(var o=0;o<xt.length&&n!==0&&n<xt[o].priority;o++);xt.splice(o,0,e),o===0&&Ds(e)}};function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mf(){}function Fm(e,n,o,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var V=Ql(b);v.call(V)}}var b=df(n,h,e,0,null,!1,!1,"",mf);return e._reactRootContainer=b,e[Je]=b.current,br(e.nodeType===8?e.parentNode:e),ys(),b}for(;m=e.lastChild;)e.removeChild(m);if(typeof h=="function"){var C=h;h=function(){var V=Ql(O);C.call(V)}}var O=Dc(e,0,!1,null,null,!1,!1,"",mf);return e._reactRootContainer=O,e[Je]=O.current,br(e.nodeType===8?e.parentNode:e),ys(function(){Jl(n,O,o,h)}),O}function eu(e,n,o,h,m){var v=o._reactRootContainer;if(v){var b=v;if(typeof m=="function"){var C=m;m=function(){var O=Ql(b);C.call(O)}}Jl(n,b,e,m)}else b=Fm(o,n,e,m,h);return Ql(b)}Is=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var o=Oe(n.pendingLanes);o!==0&&(Hn(n,o|1),sn(n,nt()),(qe&6)===0&&(mo=nt()+500,Cr()))}break;case 13:ys(function(){var h=Hi(e,1);if(h!==null){var m=Kt();Xn(h,e,1,m)}}),Uc(e,1)}},Ti=function(e){if(e.tag===13){var n=Hi(e,134217728);if(n!==null){var o=Kt();Xn(n,e,134217728,o)}Uc(e,134217728)}},As=function(e){if(e.tag===13){var n=Nr(e),o=Hi(e,n);if(o!==null){var h=Kt();Xn(o,e,n,h)}Uc(e,n)}},Ms=function(){return He},es=function(e,n){var o=He;try{return He=e,n()}finally{He=o}},Xi=function(e,n,o){switch(n){case"input":if(xi(e,o),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<o.length;n++){var h=o[n];if(h!==e&&h.form===e.form){var m=to(h);if(!m)throw Error(r(90));ni(h),xi(h,m)}}}break;case"textarea":zs(e,o);break;case"select":n=o.value,n!=null&&Pn(e,!!o.multiple,n,!1)}},tr=Oc,Jr=ys;var Bm={usingClientEntryPoint:!1,Events:[Ui,$i,to,ai,js,Oc]},Ca={findFiberByHostInstance:Di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zm={bundleType:Ca.bundleType,version:Ca.version,rendererPackageName:Ca.rendererPackageName,rendererConfig:Ca.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Cn(e),e===null?null:e.stateNode},findFiberByHostInstance:Ca.findFiberByHostInstance||$m,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{Yr=tu.inject(Zm),dn=tu}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bm,on.createPortal=function(e,n){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fc(n))throw Error(r(200));return Um(e,n,null,o)},on.createRoot=function(e,n){if(!Fc(e))throw Error(r(299));var o=!1,h="",m=pf;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),n=Dc(e,1,!1,null,null,o,!1,h,m),e[Je]=n.current,br(e.nodeType===8?e.parentNode:e),new $c(n)},on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Cn(n),e=e===null?null:e.stateNode,e},on.flushSync=function(e){return ys(e)},on.hydrate=function(e,n,o){if(!Xl(n))throw Error(r(200));return eu(null,e,n,!0,o)},on.hydrateRoot=function(e,n,o){if(!Fc(e))throw Error(r(405));var h=o!=null&&o.hydratedSources||null,m=!1,v="",b=pf;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),n=df(n,null,e,1,o??null,m,!1,v,b),e[Je]=n.current,br(e),h)for(e=0;e<h.length;e++)o=h[e],m=o._getVersion,m=m(o._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[o,m]:n.mutableSourceEagerHydrationData.push(o,m);return new Yl(n)},on.render=function(e,n,o){if(!Xl(n))throw Error(r(200));return eu(null,e,n,!1,o)},on.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(r(40));return e._reactRootContainer?(ys(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[Je]=null})}),!0):!1},on.unstable_batchedUpdates=Oc,on.unstable_renderSubtreeIntoContainer=function(e,n,o,h){if(!Xl(o))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return eu(e,n,o,!1,h)},on.version="18.3.1-next-f1338f8080-20240426",on}var kf;function bp(){if(kf)return Hc.exports;kf=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),Hc.exports=Xm(),Hc.exports}var Sf;function eg(){if(Sf)return nu;Sf=1;var l=bp();return nu.createRoot=l.createRoot,nu.hydrateRoot=l.hydrateRoot,nu}var tg=eg();const ng=vu(tg);var ig=bp();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ma(){return Ma=Object.assign?Object.assign.bind():function(l){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])}return l},Ma.apply(this,arguments)}var $r;(function(l){l.Pop="POP",l.Push="PUSH",l.Replace="REPLACE"})($r||($r={}));const Pf="popstate";function rg(l){l===void 0&&(l={});function i(a,u){let{pathname:d,search:f,hash:g}=a.location;return ih("",{pathname:d,search:f,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(a,u){return typeof u=="string"?u:cu(u)}return og(i,r,null,l)}function yt(l,i){if(l===!1||l===null||typeof l>"u")throw new Error(i)}function xp(l,i){if(!l){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function sg(){return Math.random().toString(36).substr(2,8)}function Ef(l,i){return{usr:l.state,key:l.key,idx:i}}function ih(l,i,r,a){return r===void 0&&(r=null),Ma({pathname:typeof l=="string"?l:l.pathname,search:"",hash:""},typeof i=="string"?Ro(i):i,{state:r,key:i&&i.key||a||sg()})}function cu(l){let{pathname:i="/",search:r="",hash:a=""}=l;return r&&r!=="?"&&(i+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function Ro(l){let i={};if(l){let r=l.indexOf("#");r>=0&&(i.hash=l.substr(r),l=l.substr(0,r));let a=l.indexOf("?");a>=0&&(i.search=l.substr(a),l=l.substr(0,a)),l&&(i.pathname=l)}return i}function og(l,i,r,a){a===void 0&&(a={});let{window:u=document.defaultView,v5Compat:d=!1}=a,f=u.history,g=$r.Pop,_=null,w=S();w==null&&(w=0,f.replaceState(Ma({},f.state,{idx:w}),""));function S(){return(f.state||{idx:null}).idx}function x(){g=$r.Pop;let F=S(),ee=F==null?null:F-w;w=F,_&&_({action:g,location:U.location,delta:ee})}function j(F,ee){g=$r.Push;let ne=ih(U.location,F,ee);w=S()+1;let G=Ef(ne,w),Q=U.createHref(ne);try{f.pushState(G,"",Q)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;u.location.assign(Q)}d&&_&&_({action:g,location:U.location,delta:1})}function R(F,ee){g=$r.Replace;let ne=ih(U.location,F,ee);w=S();let G=Ef(ne,w),Q=U.createHref(ne);f.replaceState(G,"",Q),d&&_&&_({action:g,location:U.location,delta:0})}function M(F){let ee=u.location.origin!=="null"?u.location.origin:u.location.href,ne=typeof F=="string"?F:cu(F);return ne=ne.replace(/ $/,"%20"),yt(ee,"No window.location.(origin|href) available to create URL for href: "+ne),new URL(ne,ee)}let U={get action(){return g},get location(){return l(u,f)},listen(F){if(_)throw new Error("A history only accepts one active listener");return u.addEventListener(Pf,x),_=F,()=>{u.removeEventListener(Pf,x),_=null}},createHref(F){return i(u,F)},createURL:M,encodeLocation(F){let ee=M(F);return{pathname:ee.pathname,search:ee.search,hash:ee.hash}},push:j,replace:R,go(F){return f.go(F)}};return U}var Cf;(function(l){l.data="data",l.deferred="deferred",l.redirect="redirect",l.error="error"})(Cf||(Cf={}));function ag(l,i,r){return r===void 0&&(r="/"),lg(l,i,r)}function lg(l,i,r,a){let u=typeof i=="string"?Ro(i):i,d=Sh(u.pathname||"/",r);if(d==null)return null;let f=kp(l);ug(f);let g=null;for(let _=0;g==null&&_<f.length;++_){let w=bg(d);g=_g(f[_],w)}return g}function kp(l,i,r,a){i===void 0&&(i=[]),r===void 0&&(r=[]),a===void 0&&(a="");let u=(d,f,g)=>{let _={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};_.relativePath.startsWith("/")&&(yt(_.relativePath.startsWith(a),'Absolute route path "'+_.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),_.relativePath=_.relativePath.slice(a.length));let w=Fr([a,_.relativePath]),S=r.concat(_);d.children&&d.children.length>0&&(yt(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),kp(d.children,i,S,w)),!(d.path==null&&!d.index)&&i.push({path:w,score:gg(w,d.index),routesMeta:S})};return l.forEach((d,f)=>{var g;if(d.path===""||!((g=d.path)!=null&&g.includes("?")))u(d,f);else for(let _ of Sp(d.path))u(d,f,_)}),i}function Sp(l){let i=l.split("/");if(i.length===0)return[];let[r,...a]=i,u=r.endsWith("?"),d=r.replace(/\?$/,"");if(a.length===0)return u?[d,""]:[d];let f=Sp(a.join("/")),g=[];return g.push(...f.map(_=>_===""?d:[d,_].join("/"))),u&&g.push(...f),g.map(_=>l.startsWith("/")&&_===""?"/":_)}function ug(l){l.sort((i,r)=>i.score!==r.score?r.score-i.score:vg(i.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const cg=/^:[\w-]+$/,hg=3,dg=2,fg=1,pg=10,mg=-2,Lf=l=>l==="*";function gg(l,i){let r=l.split("/"),a=r.length;return r.some(Lf)&&(a+=mg),i&&(a+=dg),r.filter(u=>!Lf(u)).reduce((u,d)=>u+(cg.test(d)?hg:d===""?fg:pg),a)}function vg(l,i){return l.length===i.length&&l.slice(0,-1).every((a,u)=>a===i[u])?l[l.length-1]-i[i.length-1]:0}function _g(l,i,r){let{routesMeta:a}=l,u={},d="/",f=[];for(let g=0;g<a.length;++g){let _=a[g],w=g===a.length-1,S=d==="/"?i:i.slice(d.length)||"/",x=yg({path:_.relativePath,caseSensitive:_.caseSensitive,end:w},S),j=_.route;if(!x)return null;Object.assign(u,x.params),f.push({params:u,pathname:Fr([d,x.pathname]),pathnameBase:Pg(Fr([d,x.pathnameBase])),route:j}),x.pathnameBase!=="/"&&(d=Fr([d,x.pathnameBase]))}return f}function yg(l,i){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[r,a]=wg(l.path,l.caseSensitive,l.end),u=i.match(r);if(!u)return null;let d=u[0],f=d.replace(/(.)\/+$/,"$1"),g=u.slice(1);return{params:a.reduce((w,S,x)=>{let{paramName:j,isOptional:R}=S;if(j==="*"){let U=g[x]||"";f=d.slice(0,d.length-U.length).replace(/(.)\/+$/,"$1")}const M=g[x];return R&&!M?w[j]=void 0:w[j]=(M||"").replace(/%2F/g,"/"),w},{}),pathname:d,pathnameBase:f,pattern:l}}function wg(l,i,r){i===void 0&&(i=!1),r===void 0&&(r=!0),xp(l==="*"||!l.endsWith("*")||l.endsWith("/*"),'Route path "'+l+'" will be treated as if it were '+('"'+l.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+l.replace(/\*$/,"/*")+'".'));let a=[],u="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,_)=>(a.push({paramName:g,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(a.push({paramName:"*"}),u+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":l!==""&&l!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,i?void 0:"i"),a]}function bg(l){try{return l.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return xp(!1,'The URL path "'+l+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),l}}function Sh(l,i){if(i==="/")return l;if(!l.toLowerCase().startsWith(i.toLowerCase()))return null;let r=i.endsWith("/")?i.length-1:i.length,a=l.charAt(r);return a&&a!=="/"?null:l.slice(r)||"/"}function xg(l,i){i===void 0&&(i="/");let{pathname:r,search:a="",hash:u=""}=typeof l=="string"?Ro(l):l;return{pathname:r?r.startsWith("/")?r:kg(r,i):i,search:Eg(a),hash:Cg(u)}}function kg(l,i){let r=i.replace(/\/+$/,"").split("/");return l.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function qc(l,i,r,a){return"Cannot include a '"+l+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sg(l){return l.filter((i,r)=>r===0||i.route.path&&i.route.path.length>0)}function Ph(l,i){let r=Sg(l);return i?r.map((a,u)=>u===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function Eh(l,i,r,a){a===void 0&&(a=!1);let u;typeof l=="string"?u=Ro(l):(u=Ma({},l),yt(!u.pathname||!u.pathname.includes("?"),qc("?","pathname","search",u)),yt(!u.pathname||!u.pathname.includes("#"),qc("#","pathname","hash",u)),yt(!u.search||!u.search.includes("#"),qc("#","search","hash",u)));let d=l===""||u.pathname==="",f=d?"/":u.pathname,g;if(f==null)g=r;else{let x=i.length-1;if(!a&&f.startsWith("..")){let j=f.split("/");for(;j[0]==="..";)j.shift(),x-=1;u.pathname=j.join("/")}g=x>=0?i[x]:"/"}let _=xg(u,g),w=f&&f!=="/"&&f.endsWith("/"),S=(d||f===".")&&r.endsWith("/");return!_.pathname.endsWith("/")&&(w||S)&&(_.pathname+="/"),_}const Fr=l=>l.join("/").replace(/\/\/+/g,"/"),Pg=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),Eg=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Cg=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function Lg(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}const Pp=["post","put","patch","delete"];new Set(Pp);const Tg=["get",...Pp];new Set(Tg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Da(){return Da=Object.assign?Object.assign.bind():function(l){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])}return l},Da.apply(this,arguments)}const Ch=I.createContext(null),zg=I.createContext(null),Br=I.createContext(null),_u=I.createContext(null),Zr=I.createContext({outlet:null,matches:[],isDataRoute:!1}),Ep=I.createContext(null);function jg(l,i){let{relative:r}=i===void 0?{}:i;Io()||yt(!1);let{basename:a,navigator:u}=I.useContext(Br),{hash:d,pathname:f,search:g}=Tp(l,{relative:r}),_=f;return a!=="/"&&(_=f==="/"?a:Fr([a,f])),u.createHref({pathname:_,search:g,hash:d})}function Io(){return I.useContext(_u)!=null}function Ba(){return Io()||yt(!1),I.useContext(_u).location}function Cp(l){I.useContext(Br).static||I.useLayoutEffect(l)}function Lp(){let{isDataRoute:l}=I.useContext(Zr);return l?Hg():Og()}function Og(){Io()||yt(!1);let l=I.useContext(Ch),{basename:i,future:r,navigator:a}=I.useContext(Br),{matches:u}=I.useContext(Zr),{pathname:d}=Ba(),f=JSON.stringify(Ph(u,r.v7_relativeSplatPath)),g=I.useRef(!1);return Cp(()=>{g.current=!0}),I.useCallback(function(w,S){if(S===void 0&&(S={}),!g.current)return;if(typeof w=="number"){a.go(w);return}let x=Eh(w,JSON.parse(f),d,S.relative==="path");l==null&&i!=="/"&&(x.pathname=x.pathname==="/"?i:Fr([i,x.pathname])),(S.replace?a.replace:a.push)(x,S.state,S)},[i,a,f,d,l])}function Tp(l,i){let{relative:r}=i===void 0?{}:i,{future:a}=I.useContext(Br),{matches:u}=I.useContext(Zr),{pathname:d}=Ba(),f=JSON.stringify(Ph(u,a.v7_relativeSplatPath));return I.useMemo(()=>Eh(l,JSON.parse(f),d,r==="path"),[l,f,d,r])}function Ng(l,i){return Rg(l,i)}function Rg(l,i,r,a){Io()||yt(!1);let{navigator:u}=I.useContext(Br),{matches:d}=I.useContext(Zr),f=d[d.length-1],g=f?f.params:{};f&&f.pathname;let _=f?f.pathnameBase:"/";f&&f.route;let w=Ba(),S;if(i){var x;let F=typeof i=="string"?Ro(i):i;_==="/"||(x=F.pathname)!=null&&x.startsWith(_)||yt(!1),S=F}else S=w;let j=S.pathname||"/",R=j;if(_!=="/"){let F=_.replace(/^\//,"").split("/");R="/"+j.replace(/^\//,"").split("/").slice(F.length).join("/")}let M=ag(l,{pathname:R}),U=Ug(M&&M.map(F=>Object.assign({},F,{params:Object.assign({},g,F.params),pathname:Fr([_,u.encodeLocation?u.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?_:Fr([_,u.encodeLocation?u.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),d,r,a);return i&&U?I.createElement(_u.Provider,{value:{location:Da({pathname:"/",search:"",hash:"",state:null,key:"default"},S),navigationType:$r.Pop}},U):U}function Ig(){let l=Zg(),i=Lg(l)?l.status+" "+l.statusText:l instanceof Error?l.message:JSON.stringify(l),r=l instanceof Error?l.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},i),r?I.createElement("pre",{style:u},r):null,null)}const Ag=I.createElement(Ig,null);class Mg extends I.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,r){return r.location!==i.location||r.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:r.error,location:r.location,revalidation:i.revalidation||r.revalidation}}componentDidCatch(i,r){console.error("React Router caught the following error during render",i,r)}render(){return this.state.error!==void 0?I.createElement(Zr.Provider,{value:this.props.routeContext},I.createElement(Ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dg(l){let{routeContext:i,match:r,children:a}=l,u=I.useContext(Ch);return u&&u.static&&u.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(Zr.Provider,{value:i},a)}function Ug(l,i,r,a){var u;if(i===void 0&&(i=[]),r===void 0&&(r=null),a===void 0&&(a=null),l==null){var d;if(!r)return null;if(r.errors)l=r.matches;else if((d=a)!=null&&d.v7_partialHydration&&i.length===0&&!r.initialized&&r.matches.length>0)l=r.matches;else return null}let f=l,g=(u=r)==null?void 0:u.errors;if(g!=null){let S=f.findIndex(x=>x.route.id&&g?.[x.route.id]!==void 0);S>=0||yt(!1),f=f.slice(0,Math.min(f.length,S+1))}let _=!1,w=-1;if(r&&a&&a.v7_partialHydration)for(let S=0;S<f.length;S++){let x=f[S];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(w=S),x.route.id){let{loaderData:j,errors:R}=r,M=x.route.loader&&j[x.route.id]===void 0&&(!R||R[x.route.id]===void 0);if(x.route.lazy||M){_=!0,w>=0?f=f.slice(0,w+1):f=[f[0]];break}}}return f.reduceRight((S,x,j)=>{let R,M=!1,U=null,F=null;r&&(R=g&&x.route.id?g[x.route.id]:void 0,U=x.route.errorElement||Ag,_&&(w<0&&j===0?(Wg("route-fallback"),M=!0,F=null):w===j&&(M=!0,F=x.route.hydrateFallbackElement||null)));let ee=i.concat(f.slice(0,j+1)),ne=()=>{let G;return R?G=U:M?G=F:x.route.Component?G=I.createElement(x.route.Component,null):x.route.element?G=x.route.element:G=S,I.createElement(Dg,{match:x,routeContext:{outlet:S,matches:ee,isDataRoute:r!=null},children:G})};return r&&(x.route.ErrorBoundary||x.route.errorElement||j===0)?I.createElement(Mg,{location:r.location,revalidation:r.revalidation,component:U,error:R,children:ne(),routeContext:{outlet:null,matches:ee,isDataRoute:!0}}):ne()},null)}var zp=(function(l){return l.UseBlocker="useBlocker",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l})(zp||{}),jp=(function(l){return l.UseBlocker="useBlocker",l.UseLoaderData="useLoaderData",l.UseActionData="useActionData",l.UseRouteError="useRouteError",l.UseNavigation="useNavigation",l.UseRouteLoaderData="useRouteLoaderData",l.UseMatches="useMatches",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l.UseRouteId="useRouteId",l})(jp||{});function $g(l){let i=I.useContext(Ch);return i||yt(!1),i}function Fg(l){let i=I.useContext(zg);return i||yt(!1),i}function Bg(l){let i=I.useContext(Zr);return i||yt(!1),i}function Op(l){let i=Bg(),r=i.matches[i.matches.length-1];return r.route.id||yt(!1),r.route.id}function Zg(){var l;let i=I.useContext(Ep),r=Fg(),a=Op();return i!==void 0?i:(l=r.errors)==null?void 0:l[a]}function Hg(){let{router:l}=$g(zp.UseNavigateStable),i=Op(jp.UseNavigateStable),r=I.useRef(!1);return Cp(()=>{r.current=!0}),I.useCallback(function(u,d){d===void 0&&(d={}),r.current&&(typeof u=="number"?l.navigate(u):l.navigate(u,Da({fromRouteId:i},d)))},[l,i])}const Tf={};function Wg(l,i,r){Tf[l]||(Tf[l]=!0)}function Vg(l,i){l?.v7_startTransition,l?.v7_relativeSplatPath}function qg(l){let{to:i,replace:r,state:a,relative:u}=l;Io()||yt(!1);let{future:d,static:f}=I.useContext(Br),{matches:g}=I.useContext(Zr),{pathname:_}=Ba(),w=Lp(),S=Eh(i,Ph(g,d.v7_relativeSplatPath),_,u==="path"),x=JSON.stringify(S);return I.useEffect(()=>w(JSON.parse(x),{replace:r,state:a,relative:u}),[w,x,u,r,a]),null}function Lo(l){yt(!1)}function Kg(l){let{basename:i="/",children:r=null,location:a,navigationType:u=$r.Pop,navigator:d,static:f=!1,future:g}=l;Io()&&yt(!1);let _=i.replace(/^\/*/,"/"),w=I.useMemo(()=>({basename:_,navigator:d,static:f,future:Da({v7_relativeSplatPath:!1},g)}),[_,g,d,f]);typeof a=="string"&&(a=Ro(a));let{pathname:S="/",search:x="",hash:j="",state:R=null,key:M="default"}=a,U=I.useMemo(()=>{let F=Sh(S,_);return F==null?null:{location:{pathname:F,search:x,hash:j,state:R,key:M},navigationType:u}},[_,S,x,j,R,M,u]);return U==null?null:I.createElement(Br.Provider,{value:w},I.createElement(_u.Provider,{children:r,value:U}))}function Gg(l){let{children:i,location:r}=l;return Ng(rh(i),r)}new Promise(()=>{});function rh(l,i){i===void 0&&(i=[]);let r=[];return I.Children.forEach(l,(a,u)=>{if(!I.isValidElement(a))return;let d=[...i,u];if(a.type===I.Fragment){r.push.apply(r,rh(a.props.children,d));return}a.type!==Lo&&yt(!1),!a.props.index||!a.props.children||yt(!1);let f={id:a.props.id||d.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=rh(a.props.children,d)),r.push(f)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sh(){return sh=Object.assign?Object.assign.bind():function(l){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])}return l},sh.apply(this,arguments)}function Jg(l,i){if(l==null)return{};var r={},a=Object.keys(l),u,d;for(d=0;d<a.length;d++)u=a[d],!(i.indexOf(u)>=0)&&(r[u]=l[u]);return r}function Qg(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Yg(l,i){return l.button===0&&(!i||i==="_self")&&!Qg(l)}const Xg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ev="6";try{window.__reactRouterVersion=ev}catch{}const tv="startTransition",zf=Jm[tv];function nv(l){let{basename:i,children:r,future:a,window:u}=l,d=I.useRef();d.current==null&&(d.current=rg({window:u,v5Compat:!0}));let f=d.current,[g,_]=I.useState({action:f.action,location:f.location}),{v7_startTransition:w}=a||{},S=I.useCallback(x=>{w&&zf?zf(()=>_(x)):_(x)},[_,w]);return I.useLayoutEffect(()=>f.listen(S),[f,S]),I.useEffect(()=>Vg(a),[a]),I.createElement(Kg,{basename:i,children:r,location:g.location,navigationType:g.action,navigator:f,future:a})}const iv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iu=I.forwardRef(function(i,r){let{onClick:a,relative:u,reloadDocument:d,replace:f,state:g,target:_,to:w,preventScrollReset:S,viewTransition:x}=i,j=Jg(i,Xg),{basename:R}=I.useContext(Br),M,U=!1;if(typeof w=="string"&&rv.test(w)&&(M=w,iv))try{let G=new URL(window.location.href),Q=w.startsWith("//")?new URL(G.protocol+w):new URL(w),re=Sh(Q.pathname,R);Q.origin===G.origin&&re!=null?w=re+Q.search+Q.hash:U=!0}catch{}let F=jg(w,{relative:u}),ee=sv(w,{replace:f,state:g,target:_,preventScrollReset:S,relative:u,viewTransition:x});function ne(G){a&&a(G),G.defaultPrevented||ee(G)}return I.createElement("a",sh({},j,{href:M||F,onClick:U||d?a:ne,ref:r,target:_}))});var jf;(function(l){l.UseScrollRestoration="useScrollRestoration",l.UseSubmit="useSubmit",l.UseSubmitFetcher="useSubmitFetcher",l.UseFetcher="useFetcher",l.useViewTransitionState="useViewTransitionState"})(jf||(jf={}));var Of;(function(l){l.UseFetcher="useFetcher",l.UseFetchers="useFetchers",l.UseScrollRestoration="useScrollRestoration"})(Of||(Of={}));function sv(l,i){let{target:r,replace:a,state:u,preventScrollReset:d,relative:f,viewTransition:g}=i===void 0?{}:i,_=Lp(),w=Ba(),S=Tp(l,{relative:f});return I.useCallback(x=>{if(Yg(x,r)){x.preventDefault();let j=a!==void 0?a:cu(w)===cu(S);_(l,{replace:j,state:u,preventScrollReset:d,relative:f,viewTransition:g})}},[w,_,S,a,u,r,l,d,f,g])}const ov=(l,i,r,a)=>{const u=[r,{code:i,...a||{}}];if(l?.services?.logger?.forward)return l.services.logger.forward(u,"warn","react-i18next::",!0);Ls(u[0])&&(u[0]=`react-i18next:: ${u[0]}`),l?.services?.logger?.warn?l.services.logger.warn(...u):console?.warn&&console.warn(...u)},Nf={},oh=(l,i,r,a)=>{Ls(r)&&Nf[r]||(Ls(r)&&(Nf[r]=new Date),ov(l,i,r,a))},Np=(l,i)=>()=>{if(l.isInitialized)i();else{const r=()=>{setTimeout(()=>{l.off("initialized",r)},0),i()};l.on("initialized",r)}},ah=(l,i,r)=>{l.loadNamespaces(i,Np(l,r))},Rf=(l,i,r,a)=>{if(Ls(r)&&(r=[r]),l.options.preload&&l.options.preload.indexOf(i)>-1)return ah(l,r,a);r.forEach(u=>{l.options.ns.indexOf(u)<0&&l.options.ns.push(u)}),l.loadLanguages(i,Np(l,a))},av=(l,i,r={})=>!i.languages||!i.languages.length?(oh(i,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:i.languages}),!0):i.hasLoadedNamespace(l,{lng:r.lng,precheck:(a,u)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!u(a.isLanguageChangingTo,l))return!1}}),Ls=l=>typeof l=="string",lv=l=>typeof l=="object"&&l!==null,uv=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,cv={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},hv=l=>cv[l],dv=l=>l.replace(uv,hv);let lh={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:dv};const fv=(l={})=>{lh={...lh,...l}},pv=()=>lh;let Rp;const mv=l=>{Rp=l},gv=()=>Rp,vv={type:"3rdParty",init(l){fv(l.options.react),mv(l)}},_v=I.createContext();class yv{constructor(){this.usedNamespaces={}}addUsedNamespaces(i){i.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const wv=(l,i)=>{const r=I.useRef();return I.useEffect(()=>{r.current=l},[l,i]),r.current},Ip=(l,i,r,a)=>l.getFixedT(i,r,a),bv=(l,i,r,a)=>I.useCallback(Ip(l,i,r,a),[l,i,r,a]),Ao=(l,i={})=>{const{i18n:r}=i,{i18n:a,defaultNS:u}=I.useContext(_v)||{},d=r||a||gv();if(d&&!d.reportNamespaces&&(d.reportNamespaces=new yv),!d){oh(d,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const Q=(se,le)=>Ls(le)?le:lv(le)&&Ls(le.defaultValue)?le.defaultValue:Array.isArray(se)?se[se.length-1]:se,re=[Q,{},!1];return re.t=Q,re.i18n={},re.ready=!1,re}d.options.react?.wait&&oh(d,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const f={...pv(),...d.options.react,...i},{useSuspense:g,keyPrefix:_}=f;let w=u||d.options?.defaultNS;w=Ls(w)?[w]:w||["translation"],d.reportNamespaces.addUsedNamespaces?.(w);const S=(d.isInitialized||d.initializedStoreOnce)&&w.every(Q=>av(Q,d,f)),x=bv(d,i.lng||null,f.nsMode==="fallback"?w:w[0],_),j=()=>x,R=()=>Ip(d,i.lng||null,f.nsMode==="fallback"?w:w[0],_),[M,U]=I.useState(j);let F=w.join();i.lng&&(F=`${i.lng}${F}`);const ee=wv(F),ne=I.useRef(!0);I.useEffect(()=>{const{bindI18n:Q,bindI18nStore:re}=f;ne.current=!0,!S&&!g&&(i.lng?Rf(d,i.lng,w,()=>{ne.current&&U(R)}):ah(d,w,()=>{ne.current&&U(R)})),S&&ee&&ee!==F&&ne.current&&U(R);const se=()=>{ne.current&&U(R)};return Q&&d?.on(Q,se),re&&d?.store.on(re,se),()=>{ne.current=!1,d&&Q&&Q?.split(" ").forEach(le=>d.off(le,se)),re&&d&&re.split(" ").forEach(le=>d.store.off(le,se))}},[d,F]),I.useEffect(()=>{ne.current&&S&&U(j)},[d,_,S]);const G=[M,d,S];if(G.t=M,G.i18n=d,G.ready=S,S||!S&&!g)return G;throw new Promise(Q=>{i.lng?Rf(d,i.lng,w,()=>Q()):ah(d,w,()=>Q())})},xv="modulepreload",kv=function(l){return"/rescue-admin/"+l},If={},Za=function(i,r,a){let u=Promise.resolve();if(r&&r.length>0){let w=function(S){return Promise.all(S.map(x=>Promise.resolve(x).then(j=>({status:"fulfilled",value:j}),j=>({status:"rejected",reason:j}))))};var f=w;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),_=g?.nonce||g?.getAttribute("nonce");u=w(r.map(S=>{if(S=kv(S),S in If)return;If[S]=!0;const x=S.endsWith(".css"),j=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${S}"]${j}`))return;const R=document.createElement("link");if(R.rel=x?"stylesheet":xv,x||(R.as="script"),R.crossOrigin="",R.href=S,_&&R.setAttribute("nonce",_),document.head.appendChild(R),x)return new Promise((M,U)=>{R.addEventListener("load",M),R.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${S}`)))})}))}function d(g){const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=g,window.dispatchEvent(_),!_.defaultPrevented)throw g}return u.then(g=>{for(const _ of g||[])_.status==="rejected"&&d(_.reason);return i().catch(d)})},Sv=l=>{let i;return l?i=l:typeof fetch>"u"?i=(...r)=>Za(async()=>{const{default:a}=await Promise.resolve().then(()=>Mo);return{default:a}},void 0).then(({default:a})=>a(...r)):i=fetch,(...r)=>i(...r)};class Lh extends Error{constructor(i,r="FunctionsError",a){super(i),this.name=r,this.context=a}}class Pv extends Lh{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class Af extends Lh{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class Mf extends Lh{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var uh;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(uh||(uh={}));var Ev=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};class Cv{constructor(i,{headers:r={},customFetch:a,region:u=uh.Any}={}){this.url=i,this.headers=r,this.region=u,this.fetch=Sv(a)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,r={}){var a;return Ev(this,void 0,void 0,function*(){try{const{headers:u,method:d,body:f}=r;let g={},{region:_}=r;_||(_=this.region);const w=new URL(`${this.url}/${i}`);_&&_!=="any"&&(g["x-region"]=_,w.searchParams.set("forceFunctionRegion",_));let S;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",S=f):typeof f=="string"?(g["Content-Type"]="text/plain",S=f):typeof FormData<"u"&&f instanceof FormData?S=f:(g["Content-Type"]="application/json",S=JSON.stringify(f)));const x=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),u),body:S}).catch(U=>{throw new Pv(U)}),j=x.headers.get("x-relay-error");if(j&&j==="true")throw new Af(x);if(!x.ok)throw new Mf(x);let R=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),M;return R==="application/json"?M=yield x.json():R==="application/octet-stream"?M=yield x.blob():R==="text/event-stream"?M=x:R==="multipart/form-data"?M=yield x.formData():M=yield x.text(),{data:M,error:null,response:x}}catch(u){return{data:null,error:u,response:u instanceof Mf||u instanceof Af?u.context:void 0}}})}}var jt={},vo={},_o={},yo={},wo={},bo={},Lv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},No=Lv();const Tv=No.fetch,Ap=No.fetch.bind(No),Mp=No.Headers,zv=No.Request,jv=No.Response,Mo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Mp,Request:zv,Response:jv,default:Ap,fetch:Tv},Symbol.toStringTag,{value:"Module"})),Ov=Vm(Mo);var ru={},Df;function Dp(){if(Df)return ru;Df=1,Object.defineProperty(ru,"__esModule",{value:!0});class l extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ru.default=l,ru}var Uf;function Up(){if(Uf)return bo;Uf=1;var l=bo&&bo.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(bo,"__esModule",{value:!0});const i=l(Ov),r=l(Dp());class a{constructor(d){var f,g;this.shouldThrowOnError=!1,this.method=d.method,this.url=d.url,this.headers=new Headers(d.headers),this.schema=d.schema,this.body=d.body,this.shouldThrowOnError=(f=d.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=d.signal,this.isMaybeSingle=(g=d.isMaybeSingle)!==null&&g!==void 0?g:!1,d.fetch?this.fetch=d.fetch:typeof fetch>"u"?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(d,f){return this.headers=new Headers(this.headers),this.headers.set(d,f),this}then(d,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const g=this.fetch;let _=g(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async w=>{var S,x,j,R;let M=null,U=null,F=null,ee=w.status,ne=w.statusText;if(w.ok){if(this.method!=="HEAD"){const se=await w.text();se===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((S=this.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?U=se:U=JSON.parse(se))}const Q=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),re=(j=w.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");Q&&re&&re.length>1&&(F=parseInt(re[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(U)&&(U.length>1?(M={code:"PGRST116",details:`Results contain ${U.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},U=null,F=null,ee=406,ne="Not Acceptable"):U.length===1?U=U[0]:U=null)}else{const Q=await w.text();try{M=JSON.parse(Q),Array.isArray(M)&&w.status===404&&(U=[],M=null,ee=200,ne="OK")}catch{w.status===404&&Q===""?(ee=204,ne="No Content"):M={message:Q}}if(M&&this.isMaybeSingle&&(!((R=M?.details)===null||R===void 0)&&R.includes("0 rows"))&&(M=null,ee=200,ne="OK"),M&&this.shouldThrowOnError)throw new r.default(M)}return{error:M,data:U,count:F,status:ee,statusText:ne}});return this.shouldThrowOnError||(_=_.catch(w=>{var S,x,j;return{error:{message:`${(S=w?.name)!==null&&S!==void 0?S:"FetchError"}: ${w?.message}`,details:`${(x=w?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(j=w?.code)!==null&&j!==void 0?j:""}`},data:null,count:null,status:0,statusText:""}})),_.then(d,f)}returns(){return this}overrideTypes(){return this}}return bo.default=a,bo}var $f;function $p(){if($f)return wo;$f=1;var l=wo&&wo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(wo,"__esModule",{value:!0});const i=l(Up());class r extends i.default{select(u){let d=!1;const f=(u??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:d=!0,nullsFirst:f,foreignTable:g,referencedTable:_=g}={}){const w=_?`${_}.order`:"order",S=this.url.searchParams.get(w);return this.url.searchParams.set(w,`${S?`${S},`:""}${u}.${d?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:d,referencedTable:f=d}={}){const g=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${u}`),this}range(u,d,{foreignTable:f,referencedTable:g=f}={}){const _=typeof g>"u"?"offset":`${g}.offset`,w=typeof g>"u"?"limit":`${g}.limit`;return this.url.searchParams.set(_,`${u}`),this.url.searchParams.set(w,`${d-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:d=!1,settings:f=!1,buffers:g=!1,wal:_=!1,format:w="text"}={}){var S;const x=[u?"analyze":null,d?"verbose":null,f?"settings":null,g?"buffers":null,_?"wal":null].filter(Boolean).join("|"),j=(S=this.headers.get("Accept"))!==null&&S!==void 0?S:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${w}; for="${j}"; options=${x};`),w==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return wo.default=r,wo}var Ff;function Th(){if(Ff)return yo;Ff=1;var l=yo&&yo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(yo,"__esModule",{value:!0});const i=l($p());class r extends i.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}in(u,d){const f=Array.from(new Set(d)).map(g=>typeof g=="string"&&new RegExp("[,()]").test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:f,type:g}={}){let _="";g==="plain"?_="pl":g==="phrase"?_="ph":g==="websearch"&&(_="w");const w=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${_}fts${w}.${d}`),this}match(u){return Object.entries(u).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(u,d,f){return this.url.searchParams.append(u,`not.${d}.${f}`),this}or(u,{foreignTable:d,referencedTable:f=d}={}){const g=f?`${f}.or`:"or";return this.url.searchParams.append(g,`(${u})`),this}filter(u,d,f){return this.url.searchParams.append(u,`${d}.${f}`),this}}return yo.default=r,yo}var Bf;function Fp(){if(Bf)return _o;Bf=1;var l=_o&&_o.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(_o,"__esModule",{value:!0});const i=l(Th());class r{constructor(u,{headers:d={},schema:f,fetch:g}){this.url=u,this.headers=new Headers(d),this.schema=f,this.fetch=g}select(u,{head:d=!1,count:f}={}){const g=d?"HEAD":"GET";let _=!1;const w=(u??"*").split("").map(S=>/\s/.test(S)&&!_?"":(S==='"'&&(_=!_),S)).join("");return this.url.searchParams.set("select",w),f&&this.headers.append("Prefer",`count=${f}`),new i.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:d,defaultToNull:f=!0}={}){var g;const _="POST";if(d&&this.headers.append("Prefer",`count=${d}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const w=u.reduce((S,x)=>S.concat(Object.keys(x)),[]);if(w.length>0){const S=[...new Set(w)].map(x=>`"${x}"`);this.url.searchParams.set("columns",S.join(","))}}return new i.default({method:_,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}upsert(u,{onConflict:d,ignoreDuplicates:f=!1,count:g,defaultToNull:_=!0}={}){var w;const S="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),d!==void 0&&this.url.searchParams.set("on_conflict",d),g&&this.headers.append("Prefer",`count=${g}`),_||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const x=u.reduce((j,R)=>j.concat(Object.keys(R)),[]);if(x.length>0){const j=[...new Set(x)].map(R=>`"${R}"`);this.url.searchParams.set("columns",j.join(","))}}return new i.default({method:S,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(w=this.fetch)!==null&&w!==void 0?w:fetch})}update(u,{count:d}={}){var f;const g="PATCH";return d&&this.headers.append("Prefer",`count=${d}`),new i.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:u}={}){var d;const f="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new i.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return _o.default=r,_o}var Zf;function Nv(){if(Zf)return vo;Zf=1;var l=vo&&vo.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(vo,"__esModule",{value:!0});const i=l(Fp()),r=l(Th());class a{constructor(d,{headers:f={},schema:g,fetch:_}={}){this.url=d,this.headers=new Headers(f),this.schemaName=g,this.fetch=_}from(d){const f=new URL(`${this.url}/${d}`);return new i.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new a(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,f={},{head:g=!1,get:_=!1,count:w}={}){var S;let x;const j=new URL(`${this.url}/rpc/${d}`);let R;g||_?(x=g?"HEAD":"GET",Object.entries(f).filter(([U,F])=>F!==void 0).map(([U,F])=>[U,Array.isArray(F)?`{${F.join(",")}}`:`${F}`]).forEach(([U,F])=>{j.searchParams.append(U,F)})):(x="POST",R=f);const M=new Headers(this.headers);return w&&M.set("Prefer",`count=${w}`),new r.default({method:x,url:j,headers:M,schema:this.schemaName,body:R,fetch:(S=this.fetch)!==null&&S!==void 0?S:fetch})}}return vo.default=a,vo}var Hf;function Rv(){if(Hf)return jt;Hf=1;var l=jt&&jt.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(jt,"__esModule",{value:!0}),jt.PostgrestError=jt.PostgrestBuilder=jt.PostgrestTransformBuilder=jt.PostgrestFilterBuilder=jt.PostgrestQueryBuilder=jt.PostgrestClient=void 0;const i=l(Nv());jt.PostgrestClient=i.default;const r=l(Fp());jt.PostgrestQueryBuilder=r.default;const a=l(Th());jt.PostgrestFilterBuilder=a.default;const u=l($p());jt.PostgrestTransformBuilder=u.default;const d=l(Up());jt.PostgrestBuilder=d.default;const f=l(Dp());return jt.PostgrestError=f.default,jt.default={PostgrestClient:i.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:d.default,PostgrestError:f.default},jt}var Iv=Rv();const Av=vu(Iv),{PostgrestClient:Mv,PostgrestQueryBuilder:bw,PostgrestFilterBuilder:xw,PostgrestTransformBuilder:kw,PostgrestBuilder:Sw,PostgrestError:Pw}=Av;class Dv{static detectEnvironment(){var i;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((i=navigator.userAgent)===null||i===void 0)&&i.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const i=this.detectEnvironment();if(i.constructor)return i.constructor;let r=i.error||"WebSocket not supported in this environment.";throw i.workaround&&(r+=`

Suggested solution: ${i.workaround}`),new Error(r)}static createWebSocket(i,r){const a=this.getWebSocketConstructor();return new a(i,r)}static isWebSocketSupported(){try{const i=this.detectEnvironment();return i.type==="native"||i.type==="ws"}catch{return!1}}}const Uv="2.15.4",$v=`realtime-js/${Uv}`,Fv="1.0.0",ch=1e4,Bv=1e3,Zv=100;var Oa;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Oa||(Oa={}));var Et;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Et||(Et={}));var ti;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(ti||(ti={}));var hh;(function(l){l.websocket="websocket"})(hh||(hh={}));var Es;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(Es||(Es={}));class Hv{constructor(){this.HEADER_LENGTH=1}decode(i,r){return i.constructor===ArrayBuffer?r(this._binaryDecode(i)):r(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const r=new DataView(i),a=new TextDecoder;return this._decodeBroadcast(i,r,a)}_decodeBroadcast(i,r,a){const u=r.getUint8(1),d=r.getUint8(2);let f=this.HEADER_LENGTH+2;const g=a.decode(i.slice(f,f+u));f=f+u;const _=a.decode(i.slice(f,f+d));f=f+d;const w=JSON.parse(a.decode(i.slice(f,i.byteLength)));return{ref:null,topic:g,event:_,payload:w}}}class Bp{constructor(i,r){this.callback=i,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var st;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(st||(st={}));const Wf=(l,i,r={})=>{var a;const u=(a=r.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(i).reduce((d,f)=>(d[f]=Wv(f,l,i,u),d),{})},Wv=(l,i,r,a)=>{const u=i.find(g=>g.name===l),d=u?.type,f=r[l];return d&&!a.includes(d)?Zp(d,f):dh(f)},Zp=(l,i)=>{if(l.charAt(0)==="_"){const r=l.slice(1,l.length);return Gv(i,r)}switch(l){case st.bool:return Vv(i);case st.float4:case st.float8:case st.int2:case st.int4:case st.int8:case st.numeric:case st.oid:return qv(i);case st.json:case st.jsonb:return Kv(i);case st.timestamp:return Jv(i);case st.abstime:case st.date:case st.daterange:case st.int4range:case st.int8range:case st.money:case st.reltime:case st.text:case st.time:case st.timestamptz:case st.timetz:case st.tsrange:case st.tstzrange:return dh(i);default:return dh(i)}},dh=l=>l,Vv=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},qv=l=>{if(typeof l=="string"){const i=parseFloat(l);if(!Number.isNaN(i))return i}return l},Kv=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(i){return console.log(`JSON parse error: ${i}`),l}return l},Gv=(l,i)=>{if(typeof l!="string")return l;const r=l.length-1,a=l[r];if(l[0]==="{"&&a==="}"){let d;const f=l.slice(1,r);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(g=>Zp(i,g))}return l},Jv=l=>typeof l=="string"?l.replace(" ","T"):l,Hp=l=>{let i=l;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")+"/api/broadcast"};class Kc{constructor(i,r,a={},u=ch){this.channel=i,this.event=r,this.payload=a,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,r){var a;return this._hasReceived(i)&&r((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:i,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:r}){this.recHooks.filter(a=>a.status===i).forEach(a=>a.callback(r))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var Vf;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Vf||(Vf={}));class Na{constructor(i,r){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},u=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Na.syncState(this.state,u,d,f),this.pendingDiffs.forEach(_=>{this.state=Na.syncDiff(this.state,_,d,f)}),this.pendingDiffs=[],g()}),this.channel._on(a.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Na.syncDiff(this.state,u,d,f),g())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,r,a,u){const d=this.cloneDeep(i),f=this.transformState(r),g={},_={};return this.map(d,(w,S)=>{f[w]||(_[w]=S)}),this.map(f,(w,S)=>{const x=d[w];if(x){const j=S.map(F=>F.presence_ref),R=x.map(F=>F.presence_ref),M=S.filter(F=>R.indexOf(F.presence_ref)<0),U=x.filter(F=>j.indexOf(F.presence_ref)<0);M.length>0&&(g[w]=M),U.length>0&&(_[w]=U)}else g[w]=S}),this.syncDiff(d,{joins:g,leaves:_},a,u)}static syncDiff(i,r,a,u){const{joins:d,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return a||(a=()=>{}),u||(u=()=>{}),this.map(d,(g,_)=>{var w;const S=(w=i[g])!==null&&w!==void 0?w:[];if(i[g]=this.cloneDeep(_),S.length>0){const x=i[g].map(R=>R.presence_ref),j=S.filter(R=>x.indexOf(R.presence_ref)<0);i[g].unshift(...j)}a(g,S,_)}),this.map(f,(g,_)=>{let w=i[g];if(!w)return;const S=_.map(x=>x.presence_ref);w=w.filter(x=>S.indexOf(x.presence_ref)<0),i[g]=w,u(g,w,_),w.length===0&&delete i[g]}),i}static map(i,r){return Object.getOwnPropertyNames(i).map(a=>r(a,i[a]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((r,a)=>{const u=i[a];return"metas"in u?r[a]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):r[a]=u,r},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qf;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(qf||(qf={}));var Ra;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Ra||(Ra={}));var Gi;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Gi||(Gi={}));class zh{constructor(i,r={config:{}},a){this.topic=i,this.params=r,this.socket=a,this.bindings={},this.state=Et.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Kc(this,ti.join,this.params,this.timeout),this.rejoinTimer=new Bp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Et.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(u=>u.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Et.closed,this.socket._remove(this)}),this._onError(u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",u=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,u),this.state=Et.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ti.reply,{},(u,d)=>{this._trigger(this._replyEventName(d),u)}),this.presence=new Na(this),this.broadcastEndpointURL=Hp(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(i,r=this.timeout){var a,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==Et.closed){const{config:{broadcast:f,presence:g,private:_}}=this.params,w=(u=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(R=>R.filter))!==null&&u!==void 0?u:[],S=!!this.bindings[Ra.PRESENCE]&&this.bindings[Ra.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,x={},j={broadcast:f,presence:Object.assign(Object.assign({},g),{enabled:S}),postgres_changes:w,private:_};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(R=>i?.(Gi.CHANNEL_ERROR,R)),this._onClose(()=>i?.(Gi.CLOSED)),this.updateJoinPayload(Object.assign({config:j},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:R})=>{var M;if(this.socket.setAuth(),R===void 0){i?.(Gi.SUBSCRIBED);return}else{const U=this.bindings.postgres_changes,F=(M=U?.length)!==null&&M!==void 0?M:0,ee=[];for(let ne=0;ne<F;ne++){const G=U[ne],{filter:{event:Q,schema:re,table:se,filter:le}}=G,ve=R&&R[ne];if(ve&&ve.event===Q&&ve.schema===re&&ve.table===se&&ve.filter===le)ee.push(Object.assign(Object.assign({},G),{id:ve.id}));else{this.unsubscribe(),this.state=Et.errored,i?.(Gi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=ee,i&&i(Gi.SUBSCRIBED);return}}).receive("error",R=>{this.state=Et.errored,i?.(Gi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(R).join(", ")||"error")))}).receive("timeout",()=>{i?.(Gi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,r={}){return await this.send({type:"presence",event:"track",payload:i},r.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,r,a){return this.state===Et.joined&&i===Ra.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(i,r,a)}async send(i,r={}){var a,u;if(!this._canPush()&&i.type==="broadcast"){const{event:d,payload:f}=i,_={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const w=await this._fetchWithTimeout(this.broadcastEndpointURL,_,(a=r.timeout)!==null&&a!==void 0?a:this.timeout);return await((u=w.body)===null||u===void 0?void 0:u.cancel()),w.ok?"ok":"error"}catch(w){return w.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,g,_;const w=this._push(i.type,i,r.timeout||this.timeout);i.type==="broadcast"&&!(!((_=(g=(f=this.params)===null||f===void 0?void 0:f.config)===null||g===void 0?void 0:g.broadcast)===null||_===void 0)&&_.ack)&&d("ok"),w.receive("ok",()=>d("ok")),w.receive("error",()=>d("error")),w.receive("timeout",()=>d("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=Et.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ti.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(u=>{a=new Kc(this,ti.leave,{},i),a.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(i=>i.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Et.closed,this.bindings={}}async _fetchWithTimeout(i,r,a){const u=new AbortController,d=setTimeout(()=>u.abort(),a),f=await this.socket.fetch(i,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(d),f}_push(i,r,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Kc(this,i,r,a);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(i){if(i.startTimeout(),this.pushBuffer.push(i),this.pushBuffer.length>Zv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(i,r,a){return r}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,r,a){var u,d;const f=i.toLocaleLowerCase(),{close:g,error:_,leave:w,join:S}=ti;if(a&&[g,_,w,S].indexOf(f)>=0&&a!==this._joinRef())return;let j=this._onMessage(f,r,a);if(r&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(R=>{var M,U,F;return((M=R.filter)===null||M===void 0?void 0:M.event)==="*"||((F=(U=R.filter)===null||U===void 0?void 0:U.event)===null||F===void 0?void 0:F.toLocaleLowerCase())===f}).map(R=>R.callback(j,a)):(d=this.bindings[f])===null||d===void 0||d.filter(R=>{var M,U,F,ee,ne,G;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in R){const Q=R.id,re=(M=R.filter)===null||M===void 0?void 0:M.event;return Q&&((U=r.ids)===null||U===void 0?void 0:U.includes(Q))&&(re==="*"||re?.toLocaleLowerCase()===((F=r.data)===null||F===void 0?void 0:F.type.toLocaleLowerCase()))}else{const Q=(ne=(ee=R?.filter)===null||ee===void 0?void 0:ee.event)===null||ne===void 0?void 0:ne.toLocaleLowerCase();return Q==="*"||Q===((G=r?.event)===null||G===void 0?void 0:G.toLocaleLowerCase())}else return R.type.toLocaleLowerCase()===f}).map(R=>{if(typeof j=="object"&&"ids"in j){const M=j.data,{schema:U,table:F,commit_timestamp:ee,type:ne,errors:G}=M;j=Object.assign(Object.assign({},{schema:U,table:F,commit_timestamp:ee,eventType:ne,new:{},old:{},errors:G}),this._getPayloadRecords(M))}R.callback(j,a)})}_isClosed(){return this.state===Et.closed}_isJoined(){return this.state===Et.joined}_isJoining(){return this.state===Et.joining}_isLeaving(){return this.state===Et.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,r,a){const u=i.toLocaleLowerCase(),d={type:u,filter:r,callback:a};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(i,r){const a=i.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===a&&zh.isEqual(u.filter,r))})),this}static isEqual(i,r){if(Object.keys(i).length!==Object.keys(r).length)return!1;for(const a in i)if(i[a]!==r[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(ti.close,{},i)}_onError(i){this._on(ti.error,{},r=>i(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Et.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const r={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(r.new=Wf(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(r.old=Wf(i.columns,i.old_record)),r}}const Gc=()=>{},su={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Qv=[1e3,2e3,5e3,1e4],Yv=1e4,Xv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class e_{constructor(i,r){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ch,this.transport=null,this.heartbeatIntervalMs=su.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gc,this.ref=0,this.reconnectTimer=null,this.logger=Gc,this.conn=null,this.sendBuffer=[],this.serializer=new Hv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let d;return u?d=u:typeof fetch>"u"?d=(...f)=>Za(async()=>{const{default:g}=await Promise.resolve().then(()=>Mo);return{default:g}},void 0).then(({default:g})=>g(...f)).catch(g=>{throw new Error(`Failed to load @supabase/node-fetch: ${g.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):d=fetch,(...f)=>d(...f)},!(!((a=r?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${i}/${hh.websocket}`,this.httpEndpoint=Hp(i),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Dv.createWebSocket(this.endpointURL())}catch(i){this._setConnectionState("disconnected");const r=i.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fv}))}disconnect(i,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},i?this.conn.close(i,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(i){const r=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const i=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),i}log(i,r,a){this.logger(i,r,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Oa.connecting:return Es.Connecting;case Oa.open:return Es.Open;case Oa.closing:return Es.Closing;default:return Es.Closed}}isConnected(){return this.connectionState()===Es.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(i,r={config:{}}){const a=`realtime:${i}`,u=this.getChannels().find(d=>d.topic===a);if(u)return u;{const d=new zh(`realtime:${i}`,r,this);return this.channels.push(d),d}}push(i){const{topic:r,event:a,payload:u,ref:d}=i,f=()=>{this.encode(i,g=>{var _;(_=this.conn)===null||_===void 0||_.send(g)})};this.log("push",`${r} ${a} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(i=null){this._authPromise=this._performAuth(i);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var i;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(i=this.conn)===null||i===void 0||i.close(Bv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},su.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(i){this.heartbeatCallback=i}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let r=this.channels.find(a=>a.topic===i&&(a._isJoined()||a._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${i}"`),r.unsubscribe())}_remove(i){this.channels=this.channels.filter(r=>r.topic!==i.topic)}_onConnMessage(i){this.decode(i.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(w){this.log("error","error in heartbeat callback",w)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:u,payload:d,ref:f}=r,g=f?`(${f})`:"",_=d.status||"";this.log("receive",`${_} ${a} ${u} ${g}`.trim(),d),this.channels.filter(w=>w._isMember(a)).forEach(w=>w._trigger(u,d,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(i){var r;i==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):i==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(i=>i.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(i){var r;this._setConnectionState("disconnected"),this.log("transport","close",i),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",i)}_onConnError(i){this._setConnectionState("disconnected"),this.log("transport",`${i}`),this._triggerChanError(),this._triggerStateCallbacks("error",i)}_triggerChanError(){this.channels.forEach(i=>i._trigger(ti.error))}_appendParams(i,r){if(Object.keys(r).length===0)return i;const a=i.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${i}${a}${u}`}_workerObjectUrl(i){let r;if(i)r=i;else{const a=new Blob([Xv],{type:"application/javascript"});r=URL.createObjectURL(a)}return r}_setConnectionState(i,r=!1){this._connectionState=i,i==="connecting"?this._wasManualDisconnect=!1:i==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(i=null){let r;i?r=i:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const u={access_token:r,version:$v};r&&a.updateJoinPayload(u),a.joinedOnce&&a._isJoined()&&a._push(ti.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(i="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${i}`,r)})}_triggerStateCallbacks(i,r){try{this.stateChangeCallbacks[i].forEach(a=>{try{a(r)}catch(u){this.log("error",`error in ${i} callback`,u)}})}catch(a){this.log("error",`error triggering ${i} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Bp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},su.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(i){var r,a,u,d,f,g,_,w,S;if(this.transport=(r=i?.transport)!==null&&r!==void 0?r:null,this.timeout=(a=i?.timeout)!==null&&a!==void 0?a:ch,this.heartbeatIntervalMs=(u=i?.heartbeatIntervalMs)!==null&&u!==void 0?u:su.HEARTBEAT_INTERVAL,this.worker=(d=i?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=i?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(g=i?.heartbeatCallback)!==null&&g!==void 0?g:Gc,i?.params&&(this.params=i.params),i?.logger&&(this.logger=i.logger),(i?.logLevel||i?.log_level)&&(this.logLevel=i.logLevel||i.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(_=i?.reconnectAfterMs)!==null&&_!==void 0?_:(x=>Qv[x-1]||Yv),this.encode=(w=i?.encode)!==null&&w!==void 0?w:((x,j)=>j(JSON.stringify(x))),this.decode=(S=i?.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=i?.workerUrl}}}class jh extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function Ct(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class t_ extends jh{constructor(i,r,a){super(i),this.name="StorageApiError",this.status=r,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fh extends jh{constructor(i,r){super(i),this.name="StorageUnknownError",this.originalError=r}}var n_=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};const Wp=l=>{let i;return l?i=l:typeof fetch>"u"?i=(...r)=>Za(async()=>{const{default:a}=await Promise.resolve().then(()=>Mo);return{default:a}},void 0).then(({default:a})=>a(...r)):i=fetch,(...r)=>i(...r)},i_=()=>n_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Za(()=>Promise.resolve().then(()=>Mo),void 0)).Response:Response}),ph=l=>{if(Array.isArray(l))return l.map(r=>ph(r));if(typeof l=="function"||l!==Object(l))return l;const i={};return Object.entries(l).forEach(([r,a])=>{const u=r.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));i[u]=ph(a)}),i},r_=l=>{if(typeof l!="object"||l===null)return!1;const i=Object.getPrototypeOf(l);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)};var Ts=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};const Jc=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),s_=(l,i,r)=>Ts(void 0,void 0,void 0,function*(){const a=yield i_();l instanceof a&&!r?.noResolveJson?l.json().then(u=>{const d=l.status||500,f=u?.statusCode||d+"";i(new t_(Jc(u),d,f))}).catch(u=>{i(new fh(Jc(u),u))}):i(new fh(Jc(l),l))}),o_=(l,i,r,a)=>{const u={method:l,headers:i?.headers||{}};return l==="GET"||!a?u:(r_(a)?(u.headers=Object.assign({"Content-Type":"application/json"},i?.headers),u.body=JSON.stringify(a)):u.body=a,i?.duplex&&(u.duplex=i.duplex),Object.assign(Object.assign({},u),r))};function Ha(l,i,r,a,u,d){return Ts(this,void 0,void 0,function*(){return new Promise((f,g)=>{l(r,o_(i,a,u,d)).then(_=>{if(!_.ok)throw _;return a?.noResolveJson?_:_.json()}).then(_=>f(_)).catch(_=>s_(_,g,a))})})}function hu(l,i,r,a){return Ts(this,void 0,void 0,function*(){return Ha(l,"GET",i,r,a)})}function yi(l,i,r,a,u){return Ts(this,void 0,void 0,function*(){return Ha(l,"POST",i,a,u,r)})}function mh(l,i,r,a,u){return Ts(this,void 0,void 0,function*(){return Ha(l,"PUT",i,a,u,r)})}function a_(l,i,r,a){return Ts(this,void 0,void 0,function*(){return Ha(l,"HEAD",i,Object.assign(Object.assign({},r),{noResolveJson:!0}),a)})}function Vp(l,i,r,a,u){return Ts(this,void 0,void 0,function*(){return Ha(l,"DELETE",i,a,u,r)})}var Gt=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};const l_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Kf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class u_{constructor(i,r={},a,u){this.url=i,this.headers=r,this.bucketId=a,this.fetch=Wp(u)}uploadOrUpdate(i,r,a,u){return Gt(this,void 0,void 0,function*(){try{let d;const f=Object.assign(Object.assign({},Kf),u);let g=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const _=f.metadata;typeof Blob<"u"&&a instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),_&&d.append("metadata",this.encodeMetadata(_)),d.append("",a)):typeof FormData<"u"&&a instanceof FormData?(d=a,d.append("cacheControl",f.cacheControl),_&&d.append("metadata",this.encodeMetadata(_))):(d=a,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType,_&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(_)))),u?.headers&&(g=Object.assign(Object.assign({},g),u.headers));const w=this._removeEmptyFolders(r),S=this._getFinalPath(w),x=yield(i=="PUT"?mh:yi)(this.fetch,`${this.url}/object/${S}`,d,Object.assign({headers:g},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:w,id:x.Id,fullPath:x.Key},error:null}}catch(d){if(Ct(d))return{data:null,error:d};throw d}})}upload(i,r,a){return Gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,r,a)})}uploadToSignedUrl(i,r,a,u){return Gt(this,void 0,void 0,function*(){const d=this._removeEmptyFolders(i),f=this._getFinalPath(d),g=new URL(this.url+`/object/upload/sign/${f}`);g.searchParams.set("token",r);try{let _;const w=Object.assign({upsert:Kf.upsert},u),S=Object.assign(Object.assign({},this.headers),{"x-upsert":String(w.upsert)});typeof Blob<"u"&&a instanceof Blob?(_=new FormData,_.append("cacheControl",w.cacheControl),_.append("",a)):typeof FormData<"u"&&a instanceof FormData?(_=a,_.append("cacheControl",w.cacheControl)):(_=a,S["cache-control"]=`max-age=${w.cacheControl}`,S["content-type"]=w.contentType);const x=yield mh(this.fetch,g.toString(),_,{headers:S});return{data:{path:d,fullPath:x.Key},error:null}}catch(_){if(Ct(_))return{data:null,error:_};throw _}})}createSignedUploadUrl(i,r){return Gt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(i);const u=Object.assign({},this.headers);r?.upsert&&(u["x-upsert"]="true");const d=yield yi(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:u}),f=new URL(this.url+d.url),g=f.searchParams.get("token");if(!g)throw new jh("No token returned by API");return{data:{signedUrl:f.toString(),path:i,token:g},error:null}}catch(a){if(Ct(a))return{data:null,error:a};throw a}})}update(i,r,a){return Gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,r,a)})}move(i,r,a){return Gt(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}copy(i,r,a){return Gt(this,void 0,void 0,function*(){try{return{data:{path:(yield yi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:r,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}createSignedUrl(i,r,a){return Gt(this,void 0,void 0,function*(){try{let u=this._getFinalPath(i),d=yield yi(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:r},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const f=a?.download?`&download=${a.download===!0?"":a.download}`:"";return d={signedUrl:encodeURI(`${this.url}${d.signedURL}${f}`)},{data:d,error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}createSignedUrls(i,r,a){return Gt(this,void 0,void 0,function*(){try{const u=yield yi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:i},{headers:this.headers}),d=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:u.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${d}`):null})),error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}download(i,r){return Gt(this,void 0,void 0,function*(){const u=typeof r?.transform<"u"?"render/image/authenticated":"object",d=this.transformOptsToQueryString(r?.transform||{}),f=d?`?${d}`:"";try{const g=this._getFinalPath(i);return{data:yield(yield hu(this.fetch,`${this.url}/${u}/${g}${f}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(Ct(g))return{data:null,error:g};throw g}})}info(i){return Gt(this,void 0,void 0,function*(){const r=this._getFinalPath(i);try{const a=yield hu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ph(a),error:null}}catch(a){if(Ct(a))return{data:null,error:a};throw a}})}exists(i){return Gt(this,void 0,void 0,function*(){const r=this._getFinalPath(i);try{return yield a_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(Ct(a)&&a instanceof fh){const u=a.originalError;if([400,404].includes(u?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(i,r){const a=this._getFinalPath(i),u=[],d=r?.download?`download=${r.download===!0?"":r.download}`:"";d!==""&&u.push(d);const g=typeof r?.transform<"u"?"render/image":"object",_=this.transformOptsToQueryString(r?.transform||{});_!==""&&u.push(_);let w=u.join("&");return w!==""&&(w=`?${w}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${a}${w}`)}}}remove(i){return Gt(this,void 0,void 0,function*(){try{return{data:yield Vp(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}list(i,r,a){return Gt(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},l_),r),{prefix:i||""});return{data:yield yi(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},a),error:null}}catch(u){if(Ct(u))return{data:null,error:u};throw u}})}listV2(i,r){return Gt(this,void 0,void 0,function*(){try{const a=Object.assign({},i);return{data:yield yi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(Ct(a))return{data:null,error:a};throw a}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const r=[];return i.width&&r.push(`width=${i.width}`),i.height&&r.push(`height=${i.height}`),i.resize&&r.push(`resize=${i.resize}`),i.format&&r.push(`format=${i.format}`),i.quality&&r.push(`quality=${i.quality}`),r.join("&")}}const c_="2.11.0",h_={"X-Client-Info":`storage-js/${c_}`};var xo=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};class d_{constructor(i,r={},a,u){const d=new URL(i);u?.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href,this.headers=Object.assign(Object.assign({},h_),r),this.fetch=Wp(a)}listBuckets(){return xo(this,void 0,void 0,function*(){try{return{data:yield hu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(Ct(i))return{data:null,error:i};throw i}})}getBucket(i){return xo(this,void 0,void 0,function*(){try{return{data:yield hu(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}createBucket(i,r={public:!1}){return xo(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Ct(a))return{data:null,error:a};throw a}})}updateBucket(i,r){return xo(this,void 0,void 0,function*(){try{return{data:yield mh(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Ct(a))return{data:null,error:a};throw a}})}emptyBucket(i){return xo(this,void 0,void 0,function*(){try{return{data:yield yi(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}deleteBucket(i){return xo(this,void 0,void 0,function*(){try{return{data:yield Vp(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(r){if(Ct(r))return{data:null,error:r};throw r}})}}class f_ extends d_{constructor(i,r={},a,u){super(i,r,a,u)}from(i){return new u_(this.url,this.headers,i,this.fetch)}}const p_="2.56.1";let za="";typeof Deno<"u"?za="deno":typeof document<"u"?za="web":typeof navigator<"u"&&navigator.product==="ReactNative"?za="react-native":za="node";const m_={"X-Client-Info":`supabase-js-${za}/${p_}`},g_={headers:m_},v_={schema:"public"},__={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},y_={};var w_=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};const b_=l=>{let i;return l?i=l:typeof fetch>"u"?i=Ap:i=fetch,(...r)=>i(...r)},x_=()=>typeof Headers>"u"?Mp:Headers,k_=(l,i,r)=>{const a=b_(r),u=x_();return(d,f)=>w_(void 0,void 0,void 0,function*(){var g;const _=(g=yield i())!==null&&g!==void 0?g:l;let w=new u(f?.headers);return w.has("apikey")||w.set("apikey",l),w.has("Authorization")||w.set("Authorization",`Bearer ${_}`),a(d,Object.assign(Object.assign({},f),{headers:w}))})};var S_=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};function P_(l){return l.endsWith("/")?l:l+"/"}function E_(l,i){var r,a;const{db:u,auth:d,realtime:f,global:g}=l,{db:_,auth:w,realtime:S,global:x}=i,j={db:Object.assign(Object.assign({},_),u),auth:Object.assign(Object.assign({},w),d),realtime:Object.assign(Object.assign({},S),f),storage:{},global:Object.assign(Object.assign(Object.assign({},x),g),{headers:Object.assign(Object.assign({},(r=x?.headers)!==null&&r!==void 0?r:{}),(a=g?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>S_(this,void 0,void 0,function*(){return""})};return l.accessToken?j.accessToken=l.accessToken:delete j.accessToken,j}const qp="2.71.1",To=30*1e3,gh=3,Qc=gh*To,C_="http://localhost:9999",L_="supabase.auth.token",T_={"X-Client-Info":`gotrue-js/${qp}`},vh="X-Supabase-Api-Version",Kp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,j_=600*1e3;class Oh extends Error{constructor(i,r,a){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=a}}function Ae(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class O_ extends Oh{constructor(i,r,a){super(i,r,a),this.name="AuthApiError",this.status=r,this.code=a}}function N_(l){return Ae(l)&&l.name==="AuthApiError"}class Gp extends Oh{constructor(i,r){super(i),this.name="AuthUnknownError",this.originalError=r}}class Hr extends Oh{constructor(i,r,a,u){super(i,a,u),this.name=r,this.status=a}}class Dr extends Hr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function R_(l){return Ae(l)&&l.name==="AuthSessionMissingError"}class ou extends Hr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class au extends Hr{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class lu extends Hr{constructor(i,r=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I_(l){return Ae(l)&&l.name==="AuthImplicitGrantRedirectError"}class Gf extends Hr{constructor(i,r=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _h extends Hr{constructor(i,r){super(i,"AuthRetryableFetchError",r,void 0)}}function Yc(l){return Ae(l)&&l.name==="AuthRetryableFetchError"}class Jf extends Hr{constructor(i,r,a){super(i,"AuthWeakPasswordError",r,"weak_password"),this.reasons=a}}class yh extends Hr{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}}const du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qf=` 	
\r=`.split(""),A_=(()=>{const l=new Array(128);for(let i=0;i<l.length;i+=1)l[i]=-1;for(let i=0;i<Qf.length;i+=1)l[Qf[i].charCodeAt(0)]=-2;for(let i=0;i<du.length;i+=1)l[du[i].charCodeAt(0)]=i;return l})();function Yf(l,i,r){if(l!==null)for(i.queue=i.queue<<8|l,i.queuedBits+=8;i.queuedBits>=6;){const a=i.queue>>i.queuedBits-6&63;r(du[a]),i.queuedBits-=6}else if(i.queuedBits>0)for(i.queue=i.queue<<6-i.queuedBits,i.queuedBits=6;i.queuedBits>=6;){const a=i.queue>>i.queuedBits-6&63;r(du[a]),i.queuedBits-=6}}function Jp(l,i,r){const a=A_[l];if(a>-1)for(i.queue=i.queue<<6|a,i.queuedBits+=6;i.queuedBits>=8;)r(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Xf(l){const i=[],r=f=>{i.push(String.fromCodePoint(f))},a={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{U_(f,a,r)};for(let f=0;f<l.length;f+=1)Jp(l.charCodeAt(f),u,d);return i.join("")}function M_(l,i){if(l<=127){i(l);return}else if(l<=2047){i(192|l>>6),i(128|l&63);return}else if(l<=65535){i(224|l>>12),i(128|l>>6&63),i(128|l&63);return}else if(l<=1114111){i(240|l>>18),i(128|l>>12&63),i(128|l>>6&63),i(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function D_(l,i){for(let r=0;r<l.length;r+=1){let a=l.charCodeAt(r);if(a>55295&&a<=56319){const u=(a-55296)*1024&65535;a=(l.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}M_(a,i)}}function U_(l,i,r){if(i.utf8seq===0){if(l<=127){r(l);return}for(let a=1;a<6;a+=1)if((l>>7-a&1)===0){i.utf8seq=a;break}if(i.utf8seq===2)i.codepoint=l&31;else if(i.utf8seq===3)i.codepoint=l&15;else if(i.utf8seq===4)i.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|l&63,i.utf8seq-=1,i.utf8seq===0&&r(i.codepoint)}}function $_(l){const i=[],r={queue:0,queuedBits:0},a=u=>{i.push(u)};for(let u=0;u<l.length;u+=1)Jp(l.charCodeAt(u),r,a);return new Uint8Array(i)}function F_(l){const i=[];return D_(l,r=>i.push(r)),new Uint8Array(i)}function B_(l){const i=[],r={queue:0,queuedBits:0},a=u=>{i.push(u)};return l.forEach(u=>Yf(u,r,a)),Yf(null,r,a),i.join("")}function Z_(l){return Math.round(Date.now()/1e3)+l}function H_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const i=Math.random()*16|0;return(l=="x"?i:i&3|8).toString(16)})}const ei=()=>typeof window<"u"&&typeof document<"u",ks={tested:!1,writable:!1},Qp=()=>{if(!ei())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ks.tested)return ks.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),ks.tested=!0,ks.writable=!0}catch{ks.tested=!0,ks.writable=!1}return ks.writable};function W_(l){const i={},r=new URL(l);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,d)=>{i[d]=u})}catch{}return r.searchParams.forEach((a,u)=>{i[u]=a}),i}const Yp=l=>{let i;return l?i=l:typeof fetch>"u"?i=(...r)=>Za(async()=>{const{default:a}=await Promise.resolve().then(()=>Mo);return{default:a}},void 0).then(({default:a})=>a(...r)):i=fetch,(...r)=>i(...r)},V_=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",zo=async(l,i,r)=>{await l.setItem(i,JSON.stringify(r))},Ss=async(l,i)=>{const r=await l.getItem(i);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mr=async(l,i)=>{await l.removeItem(i)};class yu{constructor(){this.promise=new yu.promiseConstructor((i,r)=>{this.resolve=i,this.reject=r})}}yu.promiseConstructor=Promise;function Xc(l){const i=l.split(".");if(i.length!==3)throw new yh("Invalid JWT structure");for(let a=0;a<i.length;a++)if(!z_.test(i[a]))throw new yh("JWT not in base64url format");return{header:JSON.parse(Xf(i[0])),payload:JSON.parse(Xf(i[1])),signature:$_(i[2]),raw:{header:i[0],payload:i[1]}}}async function q_(l){return await new Promise(i=>{setTimeout(()=>i(null),l)})}function K_(l,i){return new Promise((a,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await l(d);if(!i(d,null,f)){a(f);return}}catch(f){if(!i(d,f)){u(f);return}}})()})}function G_(l){return("0"+l.toString(16)).substr(-2)}function J_(){const i=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=r.length;let u="";for(let d=0;d<56;d++)u+=r.charAt(Math.floor(Math.random()*a));return u}return crypto.getRandomValues(i),Array.from(i,G_).join("")}async function Q_(l){const r=new TextEncoder().encode(l),a=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(a);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function Y_(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const r=await Q_(l);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ko(l,i,r=!1){const a=J_();let u=a;r&&(u+="/PASSWORD_RECOVERY"),await zo(l,`${i}-code-verifier`,u);const d=await Y_(a);return[d,a===d?"plain":"s256"]}const X_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ey(l){const i=l.headers.get(vh);if(!i||!i.match(X_))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function ty(l){if(!l)throw new Error("Missing exp claim");const i=Math.floor(Date.now()/1e3);if(l<=i)throw new Error("JWT has expired")}function ny(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function So(l){if(!iy.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function eh(){const l={};return new Proxy(l,{get:(i,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(i,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(i,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ep(l){return JSON.parse(JSON.stringify(l))}var ry=function(l,i){var r={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&i.indexOf(a)<0&&(r[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(l);u<a.length;u++)i.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(l,a[u])&&(r[a[u]]=l[a[u]]);return r};const Ps=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),sy=[502,503,504];async function tp(l){var i;if(!V_(l))throw new _h(Ps(l),0);if(sy.includes(l.status))throw new _h(Ps(l),l.status);let r;try{r=await l.json()}catch(d){throw new Gp(Ps(d),d)}let a;const u=ey(l);if(u&&u.getTime()>=Kp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?a=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(a=r.error_code),a){if(a==="weak_password")throw new Jf(Ps(r),l.status,((i=r.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(a==="session_not_found")throw new Dr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new Jf(Ps(r),l.status,r.weak_password.reasons);throw new O_(Ps(r),l.status||500,a)}const oy=(l,i,r,a)=>{const u={method:l,headers:i?.headers||{}};return l==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),u.body=JSON.stringify(a),Object.assign(Object.assign({},u),r))};async function Ze(l,i,r,a){var u;const d=Object.assign({},a?.headers);d[vh]||(d[vh]=Kp["2024-01-01"].name),a?.jwt&&(d.Authorization=`Bearer ${a.jwt}`);const f=(u=a?.query)!==null&&u!==void 0?u:{};a?.redirectTo&&(f.redirect_to=a.redirectTo);const g=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",_=await ay(l,i,r+g,{headers:d,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(_):{data:Object.assign({},_),error:null}}async function ay(l,i,r,a,u,d){const f=oy(i,a,u,d);let g;try{g=await l(r,Object.assign({},f))}catch(_){throw console.error(_),new _h(Ps(_),0)}if(g.ok||await tp(g),a?.noResolveJson)return g;try{return await g.json()}catch(_){await tp(_)}}function Ki(l){var i;let r=null;hy(l)&&(r=Object.assign({},l),l.expires_at||(r.expires_at=Z_(l.expires_in)));const a=(i=l.user)!==null&&i!==void 0?i:l;return{data:{session:r,user:a},error:null}}function np(l){const i=Ki(l);return!i.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((r,a)=>r&&typeof a=="string",!0)&&(i.data.weak_password=l.weak_password),i}function Ur(l){var i;return{data:{user:(i=l.user)!==null&&i!==void 0?i:l},error:null}}function ly(l){return{data:l,error:null}}function uy(l){const{action_link:i,email_otp:r,hashed_token:a,redirect_to:u,verification_type:d}=l,f=ry(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:i,email_otp:r,hashed_token:a,redirect_to:u,verification_type:d},_=Object.assign({},f);return{data:{properties:g,user:_},error:null}}function cy(l){return l}function hy(l){return l.access_token&&l.refresh_token&&l.expires_in}const th=["global","local","others"];var dy=function(l,i){var r={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&i.indexOf(a)<0&&(r[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(l);u<a.length;u++)i.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(l,a[u])&&(r[a[u]]=l[a[u]]);return r};class fy{constructor({url:i="",headers:r={},fetch:a}){this.url=i,this.headers=r,this.fetch=Yp(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,r=th[0]){if(th.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${th.join(", ")}`);try{return await Ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ae(a))return{data:null,error:a};throw a}}async inviteUserByEmail(i,r={}){try{return await Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ur})}catch(a){if(Ae(a))return{data:{user:null},error:a};throw a}}async generateLink(i){try{const{options:r}=i,a=dy(i,["options"]),u=Object.assign(Object.assign({},a),r);return"newEmail"in a&&(u.new_email=a?.newEmail,delete u.newEmail),await Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:uy,redirectTo:r?.redirectTo})}catch(r){if(Ae(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(i){try{return await Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Ur})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async listUsers(i){var r,a,u,d,f,g,_;try{const w={nextPage:null,lastPage:0,total:0},S=await Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(r=i?.page)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:"",per_page:(d=(u=i?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:cy});if(S.error)throw S.error;const x=await S.json(),j=(f=S.headers.get("x-total-count"))!==null&&f!==void 0?f:0,R=(_=(g=S.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&_!==void 0?_:[];return R.length>0&&(R.forEach(M=>{const U=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),F=JSON.parse(M.split(";")[1].split("=")[1]);w[`${F}Page`]=U}),w.total=parseInt(j)),{data:Object.assign(Object.assign({},x),w),error:null}}catch(w){if(Ae(w))return{data:{users:[]},error:w};throw w}}async getUserById(i){So(i);try{return await Ze(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Ur})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async updateUserById(i,r){So(i);try{return await Ze(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:r,headers:this.headers,xform:Ur})}catch(a){if(Ae(a))return{data:{user:null},error:a};throw a}}async deleteUser(i,r=!1){So(i);try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ur})}catch(a){if(Ae(a))return{data:{user:null},error:a};throw a}}async _listFactors(i){So(i.userId);try{const{data:r,error:a}=await Ze(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:a}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _deleteFactor(i){So(i.userId),So(i.id);try{return{data:await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}function ip(l={}){return{getItem:i=>l[i]||null,setItem:(i,r)=>{l[i]=r},removeItem:i=>{delete l[i]}}}function py(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Po={debug:!!(globalThis&&Qp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xp extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class my extends Xp{}async function gy(l,i,r){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,i);const a=new globalThis.AbortController;return i>0&&setTimeout(()=>{a.abort(),Po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async u=>{if(u){Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,u.name);try{return await r()}finally{Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,u.name)}}else{if(i===0)throw Po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new my(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Po.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}py();const vy={url:C_,storageKey:L_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rp(l,i,r){return await r()}const Eo={};class Ua{constructor(i){var r,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ua.nextInstanceID,Ua.nextInstanceID+=1,this.instanceID>0&&ei()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},vy),i);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new fy({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Yp(u.fetch),this.lock=u.lock||rp,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:ei()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=gy:this.lock=rp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Qp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ip(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=ip(this.memoryStorage)),ei()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}get jwks(){var i,r;return(r=(i=Eo[this.storageKey])===null||i===void 0?void 0:i.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(i){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{jwks:i})}get jwks_cached_at(){var i,r;return(r=(i=Eo[this.storageKey])===null||i===void 0?void 0:i.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(i){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{cachedAt:i})}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qp}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const r=W_(window.location.href);let a="none";if(this._isImplicitGrantCallback(r)?a="implicit":await this._isPKCECallback(r)&&(a="pkce"),ei()&&this.detectSessionInUrl&&a!=="none"){const{data:u,error:d}=await this._getSessionFromURL(r,a);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),I_(d)){const _=(i=d.details)===null||i===void 0?void 0:i.code;if(_==="identity_already_exists"||_==="identity_not_found"||_==="single_identity_not_deletable")return{error:d}}return await this._removeSession(),{error:d}}const{session:f,redirectType:g}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",g),await this._saveSession(f),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ae(r)?{error:r}:{error:new Gp("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var r,a,u;try{const d=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=i?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(u=i?.options)===null||u===void 0?void 0:u.captchaToken}},xform:Ki}),{data:f,error:g}=d;if(g||!f)return{data:{user:null,session:null},error:g};const _=f.session,w=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",_)),{data:{user:w,session:_},error:null}}catch(d){if(Ae(d))return{data:{user:null,session:null},error:d};throw d}}async signUp(i){var r,a,u;try{let d;if("email"in i){const{email:S,password:x,options:j}=i;let R=null,M=null;this.flowType==="pkce"&&([R,M]=await ko(this.storage,this.storageKey)),d=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j?.emailRedirectTo,body:{email:S,password:x,data:(r=j?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:j?.captchaToken},code_challenge:R,code_challenge_method:M},xform:Ki})}else if("phone"in i){const{phone:S,password:x,options:j}=i;d=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:S,password:x,data:(a=j?.data)!==null&&a!==void 0?a:{},channel:(u=j?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:j?.captchaToken}},xform:Ki})}else throw new au("You must provide either an email or phone number and a password");const{data:f,error:g}=d;if(g||!f)return{data:{user:null,session:null},error:g};const _=f.session,w=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",_)),{data:{user:w,session:_},error:null}}catch(d){if(Ae(d))return{data:{user:null,session:null},error:d};throw d}}async signInWithPassword(i){try{let r;if("email"in i){const{email:d,password:f,options:g}=i;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:np})}else if("phone"in i){const{phone:d,password:f,options:g}=i;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:np})}else throw new au("You must provide either an email or phone number and a password");const{data:a,error:u}=r;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ou}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:u})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(i){var r,a,u,d;return await this._handleProviderSignIn(i.provider,{redirectTo:(r=i.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=i.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=i.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=i.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async signInWithWeb3(i){const{chain:r}=i;if(r==="solana")return await this.signInWithSolana(i);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(i){var r,a,u,d,f,g,_,w,S,x,j,R;let M,U;if("message"in i)M=i.message,U=i.signature;else{const{chain:F,wallet:ee,statement:ne,options:G}=i;let Q;if(ei())if(typeof ee=="object")Q=ee;else{const se=window;if("solana"in se&&typeof se.solana=="object"&&("signIn"in se.solana&&typeof se.solana.signIn=="function"||"signMessage"in se.solana&&typeof se.solana.signMessage=="function"))Q=se.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof ee!="object"||!G?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=ee}const re=new URL((r=G?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Q&&Q.signIn){const se=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},G?.signInWithSolana),{version:"1",domain:re.host,uri:re.href}),ne?{statement:ne}:null));let le;if(Array.isArray(se)&&se[0]&&typeof se[0]=="object")le=se[0];else if(se&&typeof se=="object"&&"signedMessage"in se&&"signature"in se)le=se;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in le&&"signature"in le&&(typeof le.signedMessage=="string"||le.signedMessage instanceof Uint8Array)&&le.signature instanceof Uint8Array)M=typeof le.signedMessage=="string"?le.signedMessage:new TextDecoder().decode(le.signedMessage),U=le.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");M=[`${re.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...ne?["",ne,""]:[""],"Version: 1",`URI: ${re.href}`,`Issued At: ${(u=(a=G?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=G?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${G.signInWithSolana.notBefore}`]:[],...!((f=G?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${G.signInWithSolana.expirationTime}`]:[],...!((g=G?.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${G.signInWithSolana.chainId}`]:[],...!((_=G?.signInWithSolana)===null||_===void 0)&&_.nonce?[`Nonce: ${G.signInWithSolana.nonce}`]:[],...!((w=G?.signInWithSolana)===null||w===void 0)&&w.requestId?[`Request ID: ${G.signInWithSolana.requestId}`]:[],...!((x=(S=G?.signInWithSolana)===null||S===void 0?void 0:S.resources)===null||x===void 0)&&x.length?["Resources",...G.signInWithSolana.resources.map(le=>`- ${le}`)]:[]].join(`
`);const se=await Q.signMessage(new TextEncoder().encode(M),"utf8");if(!se||!(se instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");U=se}}try{const{data:F,error:ee}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:M,signature:B_(U)},!((j=i.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(R=i.options)===null||R===void 0?void 0:R.captchaToken}}:null),xform:Ki});if(ee)throw ee;return!F||!F.session||!F.user?{data:{user:null,session:null},error:new ou}:(F.session&&(await this._saveSession(F.session),await this._notifyAllSubscribers("SIGNED_IN",F.session)),{data:Object.assign({},F),error:ee})}catch(F){if(Ae(F))return{data:{user:null,session:null},error:F};throw F}}async _exchangeCodeForSession(i){const r=await Ss(this.storage,`${this.storageKey}-code-verifier`),[a,u]=(r??"").split("/");try{const{data:d,error:f}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:a},xform:Ki});if(await Mr(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!d||!d.session||!d.user?{data:{user:null,session:null,redirectType:null},error:new ou}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(Ae(d))return{data:{user:null,session:null,redirectType:null},error:d};throw d}}async signInWithIdToken(i){try{const{options:r,provider:a,token:u,access_token:d,nonce:f}=i,g=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ki}),{data:_,error:w}=g;return w?{data:{user:null,session:null},error:w}:!_||!_.session||!_.user?{data:{user:null,session:null},error:new ou}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:_,error:w})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(i){var r,a,u,d,f;try{if("email"in i){const{email:g,options:_}=i;let w=null,S=null;this.flowType==="pkce"&&([w,S]=await ko(this.storage,this.storageKey));const{error:x}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(r=_?.data)!==null&&r!==void 0?r:{},create_user:(a=_?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:w,code_challenge_method:S},redirectTo:_?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in i){const{phone:g,options:_}=i,{data:w,error:S}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(u=_?.data)!==null&&u!==void 0?u:{},create_user:(d=_?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:_?.captchaToken},channel:(f=_?.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:w?.message_id},error:S}}throw new au("You must provide either an email or phone number.")}catch(g){if(Ae(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(i){var r,a;try{let u,d;"options"in i&&(u=(r=i.options)===null||r===void 0?void 0:r.redirectTo,d=(a=i.options)===null||a===void 0?void 0:a.captchaToken);const{data:f,error:g}=await Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:Ki});if(g)throw g;if(!f)throw new Error("An error occurred on token verification.");const _=f.session,w=f.user;return _?.access_token&&(await this._saveSession(_),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",_)),{data:{user:w,session:_},error:null}}catch(u){if(Ae(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(i){var r,a,u;try{let d=null,f=null;return this.flowType==="pkce"&&([d,f]=await ko(this.storage,this.storageKey)),await Ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(a=(r=i.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((u=i?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:f}),headers:this.headers,xform:ly})}catch(d){if(Ae(d))return{data:null,error:d};throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:r},error:a}=i;if(a)throw a;if(!r)throw new Dr;const{error:u}=await Ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:u}})}catch(i){if(Ae(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const r=`${this.url}/resend`;if("email"in i){const{email:a,type:u,options:d}=i,{error:f}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in i){const{phone:a,type:u,options:d}=i,{data:f,error:g}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return{data:{user:null,session:null,messageId:f?.message_id},error:g}}throw new au("You must provide either an email or phone number and a type")}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(i,r){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await a,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=r();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await i(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const r=await Ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?i=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const a=i.expires_at?i.expires_at*1e3-Date.now()<Qc:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",i.expires_at),!a){if(this.userStorage){const f=await Ss(this.userStorage,this.storageKey+"-user");f?.user?i.user=f.user:i.user=eh()}if(this.storage.isServer&&i.user){let f=this.suppressGetSessionWarning;i=new Proxy(i,{get:(_,w,S)=>(!f&&w==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(_,w,S))})}return{data:{session:i},error:null}}const{session:u,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{session:null},error:d}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Ur}):await this._useSession(async r=>{var a,u,d;const{data:f,error:g}=r;if(g)throw g;return!(!((a=f.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dr}:await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:Ur})})}catch(r){if(Ae(r))return R_(r)&&(await this._removeSession(),await Mr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(i,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,r))}async _updateUser(i,r={}){try{return await this._useSession(async a=>{const{data:u,error:d}=a;if(d)throw d;if(!u.session)throw new Dr;const f=u.session;let g=null,_=null;this.flowType==="pkce"&&i.email!=null&&([g,_]=await ko(this.storage,this.storageKey));const{data:w,error:S}=await Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:g,code_challenge_method:_}),jwt:f.access_token,xform:Ur});if(S)throw S;return f.user=w.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(a){if(Ae(a))return{data:{user:null},error:a};throw a}}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Dr;const r=Date.now()/1e3;let a=r,u=!0,d=null;const{payload:f}=Xc(i.access_token);if(f.exp&&(a=f.exp,u=a<=r),u){const{session:g,error:_}=await this._callRefreshToken(i.refresh_token);if(_)return{data:{user:null,session:null},error:_};if(!g)return{data:{user:null,session:null},error:null};d=g}else{const{data:g,error:_}=await this._getUser(i.access_token);if(_)throw _;d={access_token:i.access_token,refresh_token:i.refresh_token,user:g.user,token_type:"bearer",expires_in:a-r,expires_at:a},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return{data:{user:d.user,session:d},error:null}}catch(r){if(Ae(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async r=>{var a;if(!i){const{data:f,error:g}=r;if(g)throw g;i=(a=f.session)!==null&&a!==void 0?a:void 0}if(!i?.refresh_token)throw new Dr;const{session:u,error:d}=await this._callRefreshToken(i.refresh_token);return d?{data:{user:null,session:null},error:d}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ae(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(i,r){try{if(!ei())throw new lu("No browser detected.");if(i.error||i.error_description||i.error_code)throw new lu(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Gf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new Gf("No code detected.");const{data:ne,error:G}=await this._exchangeCodeForSession(i.code);if(G)throw G;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:ne.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:g,expires_at:_,token_type:w}=i;if(!d||!g||!f||!w)throw new lu("No session defined in URL");const S=Math.round(Date.now()/1e3),x=parseInt(g);let j=S+x;_&&(j=parseInt(_));const R=j-S;R*1e3<=To&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${R}s, should have been closer to ${x}s`);const M=j-x;S-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,j,S):S-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",M,j,S);const{data:U,error:F}=await this._getUser(d);if(F)throw F;const ee={provider_token:a,provider_refresh_token:u,access_token:d,expires_in:x,expires_at:j,refresh_token:f,token_type:w,user:U.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:ee,redirectType:i.type},error:null}}catch(a){if(Ae(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const r=await Ss(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&r)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async r=>{var a;const{data:u,error:d}=r;if(d)return{error:d};const f=(a=u.session)===null||a===void 0?void 0:a.access_token;if(f){const{error:g}=await this.admin.signOut(f,i);if(g&&!(N_(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return i!=="others"&&(await this._removeSession(),await Mr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const r=H_(),a={id:r,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:a}}}async _emitInitialSession(i){return await this._useSession(async r=>{var a,u;try{const{data:{session:d},error:f}=r;if(f)throw f;await((a=this.stateChangeEmitters.get(i))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",i,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(i))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",d),console.error(d)}})}async resetPasswordForEmail(i,r={}){let a=null,u=null;this.flowType==="pkce"&&([a,u]=await ko(this.storage,this.storageKey,!0));try{return await Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:a,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(d){if(Ae(d))return{data:null,error:d};throw d}}async getUserIdentities(){var i;try{const{data:r,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(i=r.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async linkIdentity(i){var r;try{const{data:a,error:u}=await this._useSession(async d=>{var f,g,_,w,S;const{data:x,error:j}=d;if(j)throw j;const R=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(f=i.options)===null||f===void 0?void 0:f.redirectTo,scopes:(g=i.options)===null||g===void 0?void 0:g.scopes,queryParams:(_=i.options)===null||_===void 0?void 0:_.queryParams,skipBrowserRedirect:!0});return await Ze(this.fetch,"GET",R,{headers:this.headers,jwt:(S=(w=x.session)===null||w===void 0?void 0:w.access_token)!==null&&S!==void 0?S:void 0})});if(u)throw u;return ei()&&!(!((r=i.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:i.provider,url:a?.url},error:null}}catch(a){if(Ae(a))return{data:{provider:i.provider,url:null},error:a};throw a}}async unlinkIdentity(i){try{return await this._useSession(async r=>{var a,u;const{data:d,error:f}=r;if(f)throw f;return await Ze(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(u=(a=d.session)===null||a===void 0?void 0:a.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _refreshAccessToken(i){const r=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(r,"begin");try{const a=Date.now();return await K_(async u=>(u>0&&await q_(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:Ki})),(u,d)=>{const f=200*Math.pow(2,u);return d&&Yc(d)&&Date.now()+f-a<To})}catch(a){if(this._debug(r,"error",a),Ae(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(r,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,r){const a=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",r,"url",a),ei()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:i,url:a},error:null}}async _recoverAndRefresh(){var i,r;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const u=await Ss(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Ss(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await zo(this.userStorage,this.storageKey+"-user",f)),u.user=(i=f?.user)!==null&&i!==void 0?i:eh()}else if(u&&!u.user&&!u.user){const f=await Ss(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await Mr(this.storage,this.storageKey+"-user"),await zo(this.storage,this.storageKey,u)):u.user=eh()}if(this._debug(a,"session from storage",u),!this._isValidSession(u)){this._debug(a,"session is not valid"),u!==null&&await this._removeSession();return}const d=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Qc;if(this._debug(a,`session has${d?"":" not"} expired with margin of ${Qc}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Yc(f)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:g}=await this._getUser(u.access_token);!g&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(a,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(a,"error",u),console.error(u);return}finally{this._debug(a,"end")}}async _callRefreshToken(i){var r,a;if(!i)throw new Dr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new yu;const{data:d,error:f}=await this._refreshAccessToken(i);if(f)throw f;if(!d.session)throw new Dr;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const g={session:d.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(d){if(this._debug(u,"error",d),Ae(d)){const f={session:null,error:d};return Yc(d)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(i,r,a=!0){const u=`#_notifyAllSubscribers(${i})`;this._debug(u,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:i,session:r});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(i,r)}catch(_){d.push(_)}});if(await Promise.all(f),d.length>0){for(let g=0;g<d.length;g+=1)console.error(d[g]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0;const r=Object.assign({},i),a=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&r.user&&await zo(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const d=ep(u);await zo(this.storage,this.storageKey,d)}else{const u=ep(r);await zo(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await Mr(this.storage,this.storageKey),await Mr(this.storage,this.storageKey+"-code-verifier"),await Mr(this.storage,this.storageKey+"-user"),this.userStorage&&await Mr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&ei()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),To);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async r=>{const{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((a.expires_at*1e3-i)/To);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${To}ms, refresh threshold is ${gh} ticks`),u<=gh&&await this._callRefreshToken(a.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof Xp)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ei()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const r=`#_onVisibilityChanged(${i})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,r,a){const u=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&u.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[d,f]=await ko(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(g.toString())}if(a?.queryParams){const d=new URLSearchParams(a.queryParams);u.push(d.toString())}return a?.skipBrowserRedirect&&u.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${i}?${u.join("&")}`}async _unenroll(i){try{return await this._useSession(async r=>{var a;const{data:u,error:d}=r;return d?{data:null,error:d}:await Ze(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _enroll(i){try{return await this._useSession(async r=>{var a,u;const{data:d,error:f}=r;if(f)return{data:null,error:f};const g=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:{issuer:i.issuer}),{data:_,error:w}=await Ze(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(a=d?.session)===null||a===void 0?void 0:a.access_token});return w?{data:null,error:w}:(i.factorType==="totp"&&(!((u=_?.totp)===null||u===void 0)&&u.qr_code)&&(_.totp.qr_code=`data:image/svg+xml;utf-8,${_.totp.qr_code}`),{data:_,error:null})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:u,error:d}=r;if(d)return{data:null,error:d};const{data:f,error:g}=await Ze(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),{data:f,error:g})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var a;const{data:u,error:d}=r;return d?{data:null,error:d}:await Ze(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:{channel:i.channel},headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token})})}catch(r){if(Ae(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(i){const{data:r,error:a}=await this._challenge({factorId:i.factorId});return a?{data:null,error:a}:await this._verify({factorId:i.factorId,challengeId:r.id,code:i.code})}async _listFactors(){const{data:{user:i},error:r}=await this.getUser();if(r)return{data:null,error:r};const a=i?.factors||[],u=a.filter(f=>f.factor_type==="totp"&&f.status==="verified"),d=a.filter(f=>f.factor_type==="phone"&&f.status==="verified");return{data:{all:a,totp:u,phone:d},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var r,a;const{data:{session:u},error:d}=i;if(d)return{data:null,error:d};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Xc(u.access_token);let g=null;f.aal&&(g=f.aal);let _=g;((a=(r=u.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(_="aal2");const S=f.amr||[];return{data:{currentLevel:g,nextLevel:_,currentAuthenticationMethods:S},error:null}}))}async fetchJwk(i,r={keys:[]}){let a=r.keys.find(g=>g.kid===i);if(a)return a;const u=Date.now();if(a=this.jwks.keys.find(g=>g.kid===i),a&&this.jwks_cached_at+j_>u)return a;const{data:d,error:f}=await Ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,a=d.keys.find(g=>g.kid===i),!a)?null:a}async getClaims(i,r={}){try{let a=i;if(!a){const{data:R,error:M}=await this.getSession();if(M||!R.session)return{data:null,error:M};a=R.session.access_token}const{header:u,payload:d,signature:f,raw:{header:g,payload:_}}=Xc(a);r?.allowExpired||ty(d.exp);const w=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!w){const{error:R}=await this.getUser(a);if(R)throw R;return{data:{claims:d,header:u,signature:f},error:null}}const S=ny(u.alg),x=await crypto.subtle.importKey("jwk",w,S,!0,["verify"]);if(!await crypto.subtle.verify(S,x,f,F_(`${g}.${_}`)))throw new yh("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(a){if(Ae(a))return{data:null,error:a};throw a}}}Ua.nextInstanceID=0;const _y=Ua;class yy extends _y{constructor(i){super(i)}}var wy=function(l,i,r,a){function u(d){return d instanceof r?d:new r(function(f){f(d)})}return new(r||(r=Promise))(function(d,f){function g(S){try{w(a.next(S))}catch(x){f(x)}}function _(S){try{w(a.throw(S))}catch(x){f(x)}}function w(S){S.done?d(S.value):u(S.value).then(g,_)}w((a=a.apply(l,i||[])).next())})};class by{constructor(i,r,a){var u,d,f;if(this.supabaseUrl=i,this.supabaseKey=r,!i)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const g=P_(i),_=new URL(g);this.realtimeUrl=new URL("realtime/v1",_),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",_),this.storageUrl=new URL("storage/v1",_),this.functionsUrl=new URL("functions/v1",_);const w=`sb-${_.hostname.split(".")[0]}-auth-token`,S={db:v_,realtime:y_,auth:Object.assign(Object.assign({},__),{storageKey:w}),global:g_},x=E_(a??{},S);this.storageKey=(u=x.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(d=x.global.headers)!==null&&d!==void 0?d:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(j,R)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(R)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=x.auth)!==null&&f!==void 0?f:{},this.headers,x.global.fetch),this.fetch=k_(r,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new Mv(new URL("rest/v1",_).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new f_(this.storageUrl.href,this.headers,this.fetch,a?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new Cv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,r={},a={}){return this.rest.rpc(i,r,a)}channel(i,r={config:{}}){return this.realtime.channel(i,r)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,r;return wy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(r=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:r,detectSessionInUrl:a,storage:u,storageKey:d,flowType:f,lock:g,debug:_},w,S){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yy({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),w),storageKey:d,autoRefreshToken:i,persistSession:r,detectSessionInUrl:a,storage:u,flowType:f,lock:g,debug:_,fetch:S,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(i){return new e_(this.realtimeUrl.href,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,a)=>{this._handleTokenChanged(r,"CLIENT",a?.access_token)})}_handleTokenChanged(i,r,a){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:i==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xy=(l,i,r)=>new by(l,i,r);function ky(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const i=l.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}ky()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sy="https://opwwrcfsbqlcxnuhxshp.supabase.co",Py="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9wd3dyY2ZzYnFsY3hudWh4c2hwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU2NzMxNTIsImV4cCI6MjA3MTI0OTE1Mn0.wehFwM69ob0rAj0MteWLueKVrq9Rq2bh_HYvKs448lw",ye=xy(Sy,Py,{db:{schema:"public"}}),Ey=()=>{const{t:l}=Ao(),[i,r]=I.useState([]),[a,u]=I.useState(null),[d,f]=I.useState(""),[g,_]=I.useState(""),[w,S]=I.useState(""),[x,j]=I.useState(""),[R,M]=I.useState("searcher"),[U,F]=I.useState(!0),[ee,ne]=I.useState(null),[G,Q]=I.useState(!0),[re,se]=I.useState(null),[le,ve]=I.useState({});I.useEffect(()=>{De()},[]);const De=async()=>{const{data:{user:H}}=await ye.auth.getUser();if(H){const Z=H.user_metadata?.role;ne(Z),["admin","coordinator"].includes(Z)&&oe()}Q(!1)},oe=async()=>{try{const{data:H,error:Z}=await ye.from("users").select("*");if(Z)throw Z;r(H||[])}catch(H){alert("Error: "+H.message)}},ke=async H=>{if(H.preventDefault(),!["admin","coordinator"].includes(ee)){alert(l("permission-denied"));return}try{const{data:Z,error:T}=await ye.auth.signUp({email:w,password:x,options:{data:{full_name:d,phone_number:g,role:R}}});if(T)throw T;const{error:q}=await ye.from("users").insert({id:Z.user.id,full_name:d,phone_number:g,role:R,email:w,active:U});if(q)throw q;alert(l("user-create-success")),oe(),ze()}catch(Z){alert(`${l("user-create-fail")} ${Z.message}`)}},We=async H=>{if(H.preventDefault(),!["admin","coordinator"].includes(ee)){alert(l("permission-denied"));return}try{const Z={full_name:d,phone_number:g,role:R,active:U};if(x){const{error:q}=await ye.auth.updateUser({password:x});if(q)throw q}const{error:T}=await ye.from("users").update(Z).eq("id",a.id);if(T)throw T;alert(l("user-update-success")),oe(),ze()}catch(Z){alert(`${l("user-update-fail")} ${Z.message}`)}},Me=async H=>{if(!["admin","coordinator"].includes(ee)){alert(l("permission-denied"));return}try{const Z={full_name:le[H]?.full_name||i.find(q=>q.id===H).full_name,phone_number:le[H]?.phone_number||i.find(q=>q.id===H).phone_number,role:le[H]?.role||i.find(q=>q.id===H).role,active:le[H]?.active??i.find(q=>q.id===H).active},{error:T}=await ye.from("users").update(Z).eq("id",H);if(T)throw T;alert(l("user-update-success")),oe(),se(null),ve(q=>{const ce={...q};return delete ce[H],ce})}catch(Z){alert(`${l("user-update-fail")} ${Z.message}`)}},Ue=async H=>{if(!["admin","coordinator"].includes(ee)){alert(l("permission-denied"));return}if(window.confirm(l("confirm-delete")))try{const{error:Z}=await ye.from("users").delete().eq("id",H);if(Z)throw Z;alert(l("user-delete-success")),oe()}catch(Z){alert(`${l("user-delete-fail")} ${Z.message}`)}},tt=H=>{u(H),f(H.full_name),_(H.phone_number),S(H.email),M(H.role),F(H.active),j("")},ze=()=>{u(null),f(""),_(""),S(""),j(""),M("searcher"),F(!0)},Le=H=>{se(H.id),ve({...le,[H.id]:{full_name:H.full_name,phone_number:H.phone_number,role:H.role,active:H.active}})},K=(H,Z,T)=>{ve({...le,[H]:{...le[H],[Z]:T}})};return G?P.jsx("div",{children:l("loading")}):["admin","coordinator"].includes(ee)?P.jsxs("section",{children:[P.jsx("h2",{children:l("users-manager-h2")}),P.jsxs("table",{children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:l("user-table-id")}),P.jsx("th",{children:l("user-table-email")}),P.jsx("th",{children:l("user-table-fullname")}),P.jsx("th",{children:l("user-table-phone")}),P.jsx("th",{children:l("user-table-role")}),P.jsx("th",{children:l("user-table-active")}),P.jsx("th",{children:l("actions-label")})]})}),P.jsx("tbody",{children:i.map(H=>P.jsxs("tr",{children:[P.jsx("td",{children:H.id}),P.jsx("td",{children:H.email}),P.jsx("td",{children:re===H.id?P.jsx("input",{value:le[H.id]?.full_name||H.full_name,onChange:Z=>K(H.id,"full_name",Z.target.value)}):H.full_name}),P.jsx("td",{children:re===H.id?P.jsx("input",{value:le[H.id]?.phone_number||H.phone_number,onChange:Z=>K(H.id,"phone_number",Z.target.value)}):H.phone_number}),P.jsx("td",{children:re===H.id?P.jsxs("select",{value:le[H.id]?.role||H.role,onChange:Z=>K(H.id,"role",Z.target.value),children:[P.jsx("option",{value:"searcher",children:l("role-searcher")}),P.jsx("option",{value:"coordinator",children:l("role-coordinator")}),P.jsx("option",{value:"admin",children:l("role-admin")})]}):H.role}),P.jsx("td",{children:re===H.id?P.jsxs("select",{value:le[H.id]?.active??H.active,onChange:Z=>K(H.id,"active",Z.target.value==="true"),children:[P.jsx("option",{value:!0,children:l("yes")}),P.jsx("option",{value:!1,children:l("no")})]}):H.active?l("yes"):l("no")}),P.jsx("td",{children:re===H.id?P.jsxs(P.Fragment,{children:[P.jsx("button",{onClick:()=>Me(H.id),children:l("save-btn")}),P.jsx("button",{onClick:()=>se(null),children:l("cancel-btn")})]}):P.jsxs(P.Fragment,{children:[P.jsx("button",{onClick:()=>Le(H),children:l("edit-btn")}),P.jsx("button",{onClick:()=>tt(H),children:l("update-user-btn")}),P.jsx("button",{className:"delete-btn",onClick:()=>Ue(H.id),children:l("discard-btn")})]})})]},H.id))})]}),P.jsx("h3",{children:l(a?"update-user-h3":"create-user-h3")}),P.jsxs("form",{onSubmit:a?We:ke,children:[P.jsx("label",{children:l("full-name-label")}),P.jsx("input",{value:d,onChange:H=>f(H.target.value),required:!0}),P.jsx("label",{children:l("phone-label")}),P.jsx("input",{value:g,onChange:H=>_(H.target.value),required:!0}),P.jsx("label",{children:l("email-label")}),P.jsx("input",{type:"email",value:w,onChange:H=>S(H.target.value),required:!a,disabled:!!a}),P.jsx("label",{children:l("password-label")}),P.jsx("input",{type:"password",value:x,onChange:H=>j(H.target.value),required:!a}),P.jsx("label",{children:l("role-label")}),P.jsxs("select",{value:R,onChange:H=>M(H.target.value),children:[P.jsx("option",{value:"searcher",children:l("role-searcher")}),P.jsx("option",{value:"coordinator",children:l("role-coordinator")}),P.jsx("option",{value:"admin",children:l("role-admin")})]}),P.jsx("label",{children:l("active-label")}),P.jsxs("select",{value:U,onChange:H=>F(H.target.value==="true"),children:[P.jsx("option",{value:!0,children:l("yes")}),P.jsx("option",{value:!1,children:l("no")})]}),P.jsx("button",{type:"submit",children:l(a?"update-user-btn":"create-user-btn")}),a&&P.jsx("button",{type:"button",onClick:ze,children:l("cancel-btn")})]})]}):P.jsx("p",{children:l("permission-denied")})};function em(l,i){const r=I.useRef(i);I.useEffect(function(){i!==r.current&&l.attributionControl!=null&&(r.current!=null&&l.attributionControl.removeAttribution(r.current),i!=null&&l.attributionControl.addAttribution(i)),r.current=i},[l,i])}const Cy=1;function Ly(l){return Object.freeze({__version:Cy,map:l})}function Wa(l,i){return Object.freeze({...l,...i})}const tm=I.createContext(null),Nh=tm.Provider;function Do(){const l=I.useContext(tm);if(l==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return l}function Rh(l){function i(r,a){const{instance:u,context:d}=l(r).current;return I.useImperativeHandle(a,()=>u),r.children==null?null:Oo.createElement(Nh,{value:d},r.children)}return I.forwardRef(i)}function Ty(l){function i(r,a){const[u,d]=I.useState(!1),{instance:f}=l(r,d).current;I.useImperativeHandle(a,()=>f),I.useEffect(function(){u&&f.update()},[f,u,r.children]);const g=f._contentNode;return g?ig.createPortal(r.children,g):null}return I.forwardRef(i)}function zy(l){function i(r,a){const{instance:u}=l(r).current;return I.useImperativeHandle(a,()=>u),null}return I.forwardRef(i)}function jy(l){return function(r){const a=Do(),u=l(r,a),{instance:d}=u.current,f=I.useRef(r.position),{position:g}=r;return I.useEffect(function(){return d.addTo(a.map),function(){d.remove()}},[a.map,d]),I.useEffect(function(){g!=null&&g!==f.current&&(d.setPosition(g),f.current=g)},[d,g]),u}}function Ih(l,i){const r=I.useRef();I.useEffect(function(){return i!=null&&l.instance.on(i),r.current=i,function(){r.current!=null&&l.instance.off(r.current),r.current=null}},[l,i])}function wu(l,i){const r=l.pane??i.pane;return r?{...l,pane:r}:l}function Oy(l,i){return function(a,u){const d=Do(),f=l(wu(a,d),d);return em(d.map,a.attribution),Ih(f.current,a.eventHandlers),i(f.current,d,a,u),f}}var ja={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Ny=ja.exports,sp;function Ry(){return sp||(sp=1,(function(l,i){(function(r,a){a(i)})(Ny,(function(r){var a="1.9.4";function u(t){var s,c,p,y;for(c=1,p=arguments.length;c<p;c++){y=arguments[c];for(s in y)t[s]=y[s]}return t}var d=Object.create||(function(){function t(){}return function(s){return t.prototype=s,new t}})();function f(t,s){var c=Array.prototype.slice;if(t.bind)return t.bind.apply(t,c.call(arguments,1));var p=c.call(arguments,2);return function(){return t.apply(s,p.length?p.concat(c.call(arguments)):arguments)}}var g=0;function _(t){return"_leaflet_id"in t||(t._leaflet_id=++g),t._leaflet_id}function w(t,s,c){var p,y,k,z;return z=function(){p=!1,y&&(k.apply(c,y),y=!1)},k=function(){p?y=arguments:(t.apply(c,arguments),setTimeout(z,s),p=!0)},k}function S(t,s,c){var p=s[1],y=s[0],k=p-y;return t===p&&c?t:((t-y)%k+k)%k+y}function x(){return!1}function j(t,s){if(s===!1)return t;var c=Math.pow(10,s===void 0?6:s);return Math.round(t*c)/c}function R(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function M(t){return R(t).split(/\s+/)}function U(t,s){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?d(t.options):{});for(var c in s)t.options[c]=s[c];return t.options}function F(t,s,c){var p=[];for(var y in t)p.push(encodeURIComponent(c?y.toUpperCase():y)+"="+encodeURIComponent(t[y]));return(!s||s.indexOf("?")===-1?"?":"&")+p.join("&")}var ee=/\{ *([\w_ -]+) *\}/g;function ne(t,s){return t.replace(ee,function(c,p){var y=s[p];if(y===void 0)throw new Error("No value provided for variable "+c);return typeof y=="function"&&(y=y(s)),y})}var G=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function Q(t,s){for(var c=0;c<t.length;c++)if(t[c]===s)return c;return-1}var re="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function se(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var le=0;function ve(t){var s=+new Date,c=Math.max(0,16-(s-le));return le=s+c,window.setTimeout(t,c)}var De=window.requestAnimationFrame||se("RequestAnimationFrame")||ve,oe=window.cancelAnimationFrame||se("CancelAnimationFrame")||se("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function ke(t,s,c){if(c&&De===ve)t.call(s);else return De.call(window,f(t,s))}function We(t){t&&oe.call(window,t)}var Me={__proto__:null,extend:u,create:d,bind:f,get lastId(){return g},stamp:_,throttle:w,wrapNum:S,falseFn:x,formatNum:j,trim:R,splitWords:M,setOptions:U,getParamString:F,template:ne,isArray:G,indexOf:Q,emptyImageUrl:re,requestFn:De,cancelFn:oe,requestAnimFrame:ke,cancelAnimFrame:We};function Ue(){}Ue.extend=function(t){var s=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=s.__super__=this.prototype,p=d(c);p.constructor=s,s.prototype=p;for(var y in this)Object.prototype.hasOwnProperty.call(this,y)&&y!=="prototype"&&y!=="__super__"&&(s[y]=this[y]);return t.statics&&u(s,t.statics),t.includes&&(tt(t.includes),u.apply(null,[p].concat(t.includes))),u(p,t),delete p.statics,delete p.includes,p.options&&(p.options=c.options?d(c.options):{},u(p.options,t.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,z=p._initHooks.length;k<z;k++)p._initHooks[k].call(this)}},s},Ue.include=function(t){var s=this.prototype.options;return u(this.prototype,t),t.options&&(this.prototype.options=s,this.mergeOptions(t.options)),this},Ue.mergeOptions=function(t){return u(this.prototype.options,t),this},Ue.addInitHook=function(t){var s=Array.prototype.slice.call(arguments,1),c=typeof t=="function"?t:function(){this[t].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function tt(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=G(t)?t:[t];for(var s=0;s<t.length;s++)t[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ze={on:function(t,s,c){if(typeof t=="object")for(var p in t)this._on(p,t[p],s);else{t=M(t);for(var y=0,k=t.length;y<k;y++)this._on(t[y],s,c)}return this},off:function(t,s,c){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var p in t)this._off(p,t[p],s);else{t=M(t);for(var y=arguments.length===1,k=0,z=t.length;k<z;k++)y?this._off(t[k]):this._off(t[k],s,c)}return this},_on:function(t,s,c,p){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(t,s,c)===!1){c===this&&(c=void 0);var y={fn:s,ctx:c};p&&(y.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(y)}},_off:function(t,s,c){var p,y,k;if(this._events&&(p=this._events[t],!!p)){if(arguments.length===1){if(this._firingCount)for(y=0,k=p.length;y<k;y++)p[y].fn=x;delete this._events[t];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var z=this._listens(t,s,c);if(z!==!1){var D=p[z];this._firingCount&&(D.fn=x,this._events[t]=p=p.slice()),p.splice(z,1)}}},fire:function(t,s,c){if(!this.listens(t,c))return this;var p=u({},s,{type:t,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var y=this._events[t];if(y){this._firingCount=this._firingCount+1||1;for(var k=0,z=y.length;k<z;k++){var D=y[k],W=D.fn;D.once&&this.off(t,W,D.ctx),W.call(D.ctx||this,p)}this._firingCount--}}return c&&this._propagateEvent(p),this},listens:function(t,s,c,p){typeof t!="string"&&console.warn('"string" type argument expected');var y=s;typeof s!="function"&&(p=!!s,y=void 0,c=void 0);var k=this._events&&this._events[t];if(k&&k.length&&this._listens(t,y,c)!==!1)return!0;if(p){for(var z in this._eventParents)if(this._eventParents[z].listens(t,s,c,p))return!0}return!1},_listens:function(t,s,c){if(!this._events)return!1;var p=this._events[t]||[];if(!s)return!!p.length;c===this&&(c=void 0);for(var y=0,k=p.length;y<k;y++)if(p[y].fn===s&&p[y].ctx===c)return y;return!1},once:function(t,s,c){if(typeof t=="object")for(var p in t)this._on(p,t[p],s,!0);else{t=M(t);for(var y=0,k=t.length;y<k;y++)this._on(t[y],s,c,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[_(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[_(t)],this},_propagateEvent:function(t){for(var s in this._eventParents)this._eventParents[s].fire(t.type,u({layer:t.target,propagatedFrom:t.target},t),!0)}};ze.addEventListener=ze.on,ze.removeEventListener=ze.clearAllEventListeners=ze.off,ze.addOneTimeEventListener=ze.once,ze.fireEvent=ze.fire,ze.hasEventListeners=ze.listens;var Le=Ue.extend(ze);function K(t,s,c){this.x=c?Math.round(t):t,this.y=c?Math.round(s):s}var H=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};K.prototype={clone:function(){return new K(this.x,this.y)},add:function(t){return this.clone()._add(Z(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(Z(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new K(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new K(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=H(this.x),this.y=H(this.y),this},distanceTo:function(t){t=Z(t);var s=t.x-this.x,c=t.y-this.y;return Math.sqrt(s*s+c*c)},equals:function(t){return t=Z(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=Z(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+j(this.x)+", "+j(this.y)+")"}};function Z(t,s,c){return t instanceof K?t:G(t)?new K(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new K(t.x,t.y):new K(t,s,c)}function T(t,s){if(t)for(var c=s?[t,s]:t,p=0,y=c.length;p<y;p++)this.extend(c[p])}T.prototype={extend:function(t){var s,c;if(!t)return this;if(t instanceof K||typeof t[0]=="number"||"x"in t)s=c=Z(t);else if(t=q(t),s=t.min,c=t.max,!s||!c)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=c.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(t){return Z((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return Z(this.min.x,this.max.y)},getTopRight:function(){return Z(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var s,c;return typeof t[0]=="number"||t instanceof K?t=Z(t):t=q(t),t instanceof T?(s=t.min,c=t.max):s=c=t,s.x>=this.min.x&&c.x<=this.max.x&&s.y>=this.min.y&&c.y<=this.max.y},intersects:function(t){t=q(t);var s=this.min,c=this.max,p=t.min,y=t.max,k=y.x>=s.x&&p.x<=c.x,z=y.y>=s.y&&p.y<=c.y;return k&&z},overlaps:function(t){t=q(t);var s=this.min,c=this.max,p=t.min,y=t.max,k=y.x>s.x&&p.x<c.x,z=y.y>s.y&&p.y<c.y;return k&&z},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var s=this.min,c=this.max,p=Math.abs(s.x-c.x)*t,y=Math.abs(s.y-c.y)*t;return q(Z(s.x-p,s.y-y),Z(c.x+p,c.y+y))},equals:function(t){return t?(t=q(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function q(t,s){return!t||t instanceof T?t:new T(t,s)}function ce(t,s){if(t)for(var c=s?[t,s]:t,p=0,y=c.length;p<y;p++)this.extend(c[p])}ce.prototype={extend:function(t){var s=this._southWest,c=this._northEast,p,y;if(t instanceof pe)p=t,y=t;else if(t instanceof ce){if(p=t._southWest,y=t._northEast,!p||!y)return this}else return t?this.extend(he(t)||ge(t)):this;return!s&&!c?(this._southWest=new pe(p.lat,p.lng),this._northEast=new pe(y.lat,y.lng)):(s.lat=Math.min(p.lat,s.lat),s.lng=Math.min(p.lng,s.lng),c.lat=Math.max(y.lat,c.lat),c.lng=Math.max(y.lng,c.lng)),this},pad:function(t){var s=this._southWest,c=this._northEast,p=Math.abs(s.lat-c.lat)*t,y=Math.abs(s.lng-c.lng)*t;return new ce(new pe(s.lat-p,s.lng-y),new pe(c.lat+p,c.lng+y))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof pe||"lat"in t?t=he(t):t=ge(t);var s=this._southWest,c=this._northEast,p,y;return t instanceof ce?(p=t.getSouthWest(),y=t.getNorthEast()):p=y=t,p.lat>=s.lat&&y.lat<=c.lat&&p.lng>=s.lng&&y.lng<=c.lng},intersects:function(t){t=ge(t);var s=this._southWest,c=this._northEast,p=t.getSouthWest(),y=t.getNorthEast(),k=y.lat>=s.lat&&p.lat<=c.lat,z=y.lng>=s.lng&&p.lng<=c.lng;return k&&z},overlaps:function(t){t=ge(t);var s=this._southWest,c=this._northEast,p=t.getSouthWest(),y=t.getNorthEast(),k=y.lat>s.lat&&p.lat<c.lat,z=y.lng>s.lng&&p.lng<c.lng;return k&&z},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,s){return t?(t=ge(t),this._southWest.equals(t.getSouthWest(),s)&&this._northEast.equals(t.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ge(t,s){return t instanceof ce?t:new ce(t,s)}function pe(t,s,c){if(isNaN(t)||isNaN(s))throw new Error("Invalid LatLng object: ("+t+", "+s+")");this.lat=+t,this.lng=+s,c!==void 0&&(this.alt=+c)}pe.prototype={equals:function(t,s){if(!t)return!1;t=he(t);var c=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return c<=(s===void 0?1e-9:s)},toString:function(t){return"LatLng("+j(this.lat,t)+", "+j(this.lng,t)+")"},distanceTo:function(t){return we.distance(this,he(t))},wrap:function(){return we.wrapLatLng(this)},toBounds:function(t){var s=180*t/40075017,c=s/Math.cos(Math.PI/180*this.lat);return ge([this.lat-s,this.lng-c],[this.lat+s,this.lng+c])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function he(t,s,c){return t instanceof pe?t:G(t)&&typeof t[0]!="object"?t.length===3?new pe(t[0],t[1],t[2]):t.length===2?new pe(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new pe(t.lat,"lng"in t?t.lng:t.lon,t.alt):s===void 0?null:new pe(t,s,c)}var Ce={latLngToPoint:function(t,s){var c=this.projection.project(t),p=this.scale(s);return this.transformation._transform(c,p)},pointToLatLng:function(t,s){var c=this.scale(s),p=this.transformation.untransform(t,c);return this.projection.unproject(p)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var s=this.projection.bounds,c=this.scale(t),p=this.transformation.transform(s.min,c),y=this.transformation.transform(s.max,c);return new T(p,y)},infinite:!1,wrapLatLng:function(t){var s=this.wrapLng?S(t.lng,this.wrapLng,!0):t.lng,c=this.wrapLat?S(t.lat,this.wrapLat,!0):t.lat,p=t.alt;return new pe(c,s,p)},wrapLatLngBounds:function(t){var s=t.getCenter(),c=this.wrapLatLng(s),p=s.lat-c.lat,y=s.lng-c.lng;if(p===0&&y===0)return t;var k=t.getSouthWest(),z=t.getNorthEast(),D=new pe(k.lat-p,k.lng-y),W=new pe(z.lat-p,z.lng-y);return new ce(D,W)}},we=u({},Ce,{wrapLng:[-180,180],R:6371e3,distance:function(t,s){var c=Math.PI/180,p=t.lat*c,y=s.lat*c,k=Math.sin((s.lat-t.lat)*c/2),z=Math.sin((s.lng-t.lng)*c/2),D=k*k+Math.cos(p)*Math.cos(y)*z*z,W=2*Math.atan2(Math.sqrt(D),Math.sqrt(1-D));return this.R*W}}),Ge=6378137,lt={R:Ge,MAX_LATITUDE:85.0511287798,project:function(t){var s=Math.PI/180,c=this.MAX_LATITUDE,p=Math.max(Math.min(c,t.lat),-c),y=Math.sin(p*s);return new K(this.R*t.lng*s,this.R*Math.log((1+y)/(1-y))/2)},unproject:function(t){var s=180/Math.PI;return new pe((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*s,t.x*s/this.R)},bounds:(function(){var t=Ge*Math.PI;return new T([-t,-t],[t,t])})()};function kn(t,s,c,p){if(G(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=s,this._c=c,this._d=p}kn.prototype={transform:function(t,s){return this._transform(t.clone(),s)},_transform:function(t,s){return s=s||1,t.x=s*(this._a*t.x+this._b),t.y=s*(this._c*t.y+this._d),t},untransform:function(t,s){return s=s||1,new K((t.x/s-this._b)/this._a,(t.y/s-this._d)/this._c)}};function ni(t,s,c,p){return new kn(t,s,c,p)}var an=u({},we,{code:"EPSG:3857",projection:lt,transformation:(function(){var t=.5/(Math.PI*lt.R);return ni(t,.5,-t,.5)})()}),bi=u({},an,{code:"EPSG:900913"});function Sn(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Vr(t,s){var c="",p,y,k,z,D,W;for(p=0,k=t.length;p<k;p++){for(D=t[p],y=0,z=D.length;y<z;y++)W=D[y],c+=(y?"L":"M")+W.x+" "+W.y;c+=s?A.svg?"z":"x":""}return c||"M0 0"}var xi=document.documentElement.style,ki="ActiveXObject"in window,Si=ki&&!document.addEventListener,ii="msLaunchUri"in navigator&&!("documentMode"in document),Pn=E("webkit"),Xe=E("android"),Pi=E("android 2")||E("android 3"),zs=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ri=Xe&&E("Google")&&zs<537&&!("AudioNode"in window),En=!!window.opera,ln=!ii&&E("chrome"),un=E("gecko")&&!Pn&&!En&&!ki,qr=!ln&&E("safari"),si=E("phantom"),oi="OTransition"in xi,$o=navigator.platform.indexOf("Win")===0,Ei=ki&&"transition"in xi,Ji="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Pi,Qi="MozPerspective"in xi,Yi=!window.L_DISABLE_3D&&(Ei||Ji||Qi)&&!oi&&!si,$n=typeof orientation<"u"||E("mobile"),Kr=$n&&Pn,Gr=$n&&Ji,Xi=!window.PointerEvent&&window.MSPointerEvent,Fn=!!(window.PointerEvent||Xi),Bn="ontouchstart"in window||!!window.TouchEvent,er=!window.L_NO_TOUCH&&(Bn||Fn),ai=$n&&En,js=$n&&un,tr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Jr=(function(){var t=!1;try{var s=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",x,s),window.removeEventListener("testPassiveEventSupport",x,s)}catch{}return t})(),nr=(function(){return!!document.createElement("canvas").getContext})(),ir=!!(document.createElementNS&&Sn("svg").createSVGRect),Ci=!!ir&&(function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Qr=!ir&&(function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var s=t.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}})(),Li=navigator.platform.indexOf("Mac")===0,Fo=navigator.platform.indexOf("Linux")===0;function E(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var A={ie:ki,ielt9:Si,edge:ii,webkit:Pn,android:Xe,android23:Pi,androidStock:ri,opera:En,chrome:ln,gecko:un,safari:qr,phantom:si,opera12:oi,win:$o,ie3d:Ei,webkit3d:Ji,gecko3d:Qi,any3d:Yi,mobile:$n,mobileWebkit:Kr,mobileWebkit3d:Gr,msPointer:Xi,pointer:Fn,touch:er,touchNative:Bn,mobileOpera:ai,mobileGecko:js,retina:tr,passiveEvents:Jr,canvas:nr,svg:ir,vml:Qr,inlineSvg:Ci,mac:Li,linux:Fo},be=A.msPointer?"MSPointerDown":"pointerdown",ue=A.msPointer?"MSPointerMove":"pointermove",$e=A.msPointer?"MSPointerUp":"pointerup",Ve=A.msPointer?"MSPointerCancel":"pointercancel",et={touchstart:be,touchmove:ue,touchend:$e,touchcancel:Ve},mt={touchstart:nt,touchmove:Nt,touchend:Nt,touchcancel:Nt},ht={},Jt=!1;function ut(t,s,c){return s==="touchstart"&&hn(),mt[s]?(c=mt[s].bind(this,c),t.addEventListener(et[s],c,!1),c):(console.warn("wrong event specified:",s),x)}function Cn(t,s,c){if(!et[s]){console.warn("wrong event specified:",s);return}t.removeEventListener(et[s],c,!1)}function Qt(t){ht[t.pointerId]=t}function Zt(t){ht[t.pointerId]&&(ht[t.pointerId]=t)}function cn(t){delete ht[t.pointerId]}function hn(){Jt||(document.addEventListener(be,Qt,!0),document.addEventListener(ue,Zt,!0),document.addEventListener($e,cn,!0),document.addEventListener(Ve,cn,!0),Jt=!0)}function Nt(t,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var c in ht)s.touches.push(ht[c]);s.changedTouches=[s],t(s)}}function nt(t,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&dt(s),Nt(t,s)}function xu(t){var s={},c,p;for(p in t)c=t[p],s[p]=c&&c.bind?c.bind(t):c;return t=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Bo=200;function Ka(t,s){t.addEventListener("dblclick",s);var c=0,p;function y(k){if(k.detail!==1){p=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var z=ji(k);if(!(z.some(function(W){return W instanceof HTMLLabelElement&&W.attributes.for})&&!z.some(function(W){return W instanceof HTMLInputElement||W instanceof HTMLSelectElement}))){var D=Date.now();D-c<=Bo?(p++,p===2&&s(xu(k))):p=1,c=D}}}return t.addEventListener("click",y),{dblclick:s,simDblclick:y}}function Os(t,s){t.removeEventListener("dblclick",s.dblclick),t.removeEventListener("click",s.simDblclick)}var Zo=ar(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rr=ar(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yr=rr==="webkitTransition"||rr==="OTransition"?rr+"End":"transitionend";function dn(t){return typeof t=="string"?document.getElementById(t):t}function Xr(t,s){var c=t.style[s]||t.currentStyle&&t.currentStyle[s];if((!c||c==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(t,null);c=p?p[s]:null}return c==="auto"?null:c}function Re(t,s,c){var p=document.createElement(t);return p.className=s||"",c&&c.appendChild(p),p}function ot(t){var s=t.parentNode;s&&s.removeChild(t)}function Ns(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function sr(t){var s=t.parentNode;s&&s.lastChild!==t&&s.appendChild(t)}function Zn(t){var s=t.parentNode;s&&s.firstChild!==t&&s.insertBefore(t,s.firstChild)}function or(t,s){if(t.classList!==void 0)return t.classList.contains(s);var c=Rs(t);return c.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(c)}function Oe(t,s){if(t.classList!==void 0)for(var c=M(s),p=0,y=c.length;p<y;p++)t.classList.add(c[p]);else if(!or(t,s)){var k=Rs(t);Ho(t,(k?k+" ":"")+s)}}function it(t,s){t.classList!==void 0?t.classList.remove(s):Ho(t,R((" "+Rs(t)+" ").replace(" "+s+" "," ")))}function Ho(t,s){t.className.baseVal===void 0?t.className=s:t.className.baseVal=s}function Rs(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function At(t,s){"opacity"in t.style?t.style.opacity=s:"filter"in t.style&&Ga(t,s)}function Ga(t,s){var c=!1,p="DXImageTransform.Microsoft.Alpha";try{c=t.filters.item(p)}catch{if(s===1)return}s=Math.round(s*100),c?(c.Enabled=s!==100,c.Opacity=s):t.style.filter+=" progid:"+p+"(opacity="+s+")"}function ar(t){for(var s=document.documentElement.style,c=0;c<t.length;c++)if(t[c]in s)return t[c];return!1}function fn(t,s,c){var p=s||new K(0,0);t.style[Zo]=(A.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(c?" scale("+c+")":"")}function gt(t,s){t._leaflet_pos=s,A.any3d?fn(t,s):(t.style.left=s.x+"px",t.style.top=s.y+"px")}function Hn(t){return t._leaflet_pos||new K(0,0)}var He,lr,Is;if("onselectstart"in document)He=function(){Te(window,"selectstart",dt)},lr=function(){Qe(window,"selectstart",dt)};else{var Ti=ar(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);He=function(){if(Ti){var t=document.documentElement.style;Is=t[Ti],t[Ti]="none"}},lr=function(){Ti&&(document.documentElement.style[Ti]=Is,Is=void 0)}}function As(){Te(window,"dragstart",dt)}function Ms(){Qe(window,"dragstart",dt)}var es,ts;function ur(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(pn(),es=t,ts=t.style.outlineStyle,t.style.outlineStyle="none",Te(window,"keydown",pn))}function pn(){es&&(es.style.outlineStyle=ts,es=void 0,ts=void 0,Qe(window,"keydown",pn))}function Wn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Ln(t){var s=t.getBoundingClientRect();return{x:s.width/t.offsetWidth||1,y:s.height/t.offsetHeight||1,boundingClientRect:s}}var ns={__proto__:null,TRANSFORM:Zo,TRANSITION:rr,TRANSITION_END:Yr,get:dn,getStyle:Xr,create:Re,remove:ot,empty:Ns,toFront:sr,toBack:Zn,hasClass:or,addClass:Oe,removeClass:it,setClass:Ho,getClass:Rs,setOpacity:At,testProp:ar,setTransform:fn,setPosition:gt,getPosition:Hn,get disableTextSelection(){return He},get enableTextSelection(){return lr},disableImageDrag:As,enableImageDrag:Ms,preventOutline:ur,restoreOutline:pn,getSizedParentNode:Wn,getScale:Ln};function Te(t,s,c,p){if(s&&typeof s=="object")for(var y in s)Vo(t,y,s[y],c);else{s=M(s);for(var k=0,z=s.length;k<z;k++)Vo(t,s[k],c,p)}return this}var xt="_leaflet_events";function Qe(t,s,c,p){if(arguments.length===1)Wo(t),delete t[xt];else if(s&&typeof s=="object")for(var y in s)Ds(t,y,s[y],c);else if(s=M(s),arguments.length===2)Wo(t,function(D){return Q(s,D)!==-1});else for(var k=0,z=s.length;k<z;k++)Ds(t,s[k],c,p);return this}function Wo(t,s){for(var c in t[xt]){var p=c.split(/\d/)[0];(!s||s(p))&&Ds(t,p,null,null,c)}}var zi={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Vo(t,s,c,p){var y=s+_(c)+(p?"_"+_(p):"");if(t[xt]&&t[xt][y])return this;var k=function(D){return c.call(p||t,D||window.event)},z=k;!A.touchNative&&A.pointer&&s.indexOf("touch")===0?k=ut(t,s,k):A.touch&&s==="dblclick"?k=Ka(t,k):"addEventListener"in t?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?t.addEventListener(zi[s]||s,k,A.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(k=function(D){D=D||window.event,ss(t,D)&&z(D)},t.addEventListener(zi[s],k,!1)):t.addEventListener(s,z,!1):t.attachEvent("on"+s,k),t[xt]=t[xt]||{},t[xt][y]=k}function Ds(t,s,c,p,y){y=y||s+_(c)+(p?"_"+_(p):"");var k=t[xt]&&t[xt][y];if(!k)return this;!A.touchNative&&A.pointer&&s.indexOf("touch")===0?Cn(t,s,k):A.touch&&s==="dblclick"?Os(t,k):"removeEventListener"in t?t.removeEventListener(zi[s]||s,k,!1):t.detachEvent("on"+s,k),t[xt][y]=null}function Tn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Us(t){return Vo(t,"wheel",Tn),this}function is(t){return Te(t,"mousedown touchstart dblclick contextmenu",Tn),t._leaflet_disable_click=!0,this}function dt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function mn(t){return dt(t),Tn(t),this}function ji(t){if(t.composedPath)return t.composedPath();for(var s=[],c=t.target;c;)s.push(c),c=c.parentNode;return s}function rs(t,s){if(!s)return new K(t.clientX,t.clientY);var c=Ln(s),p=c.boundingClientRect;return new K((t.clientX-p.left)/c.x-s.clientLeft,(t.clientY-p.top)/c.y-s.clientTop)}var ku=A.linux&&A.chrome?window.devicePixelRatio:A.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ja(t){return A.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/ku:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function ss(t,s){var c=s.relatedTarget;if(!c)return!0;try{for(;c&&c!==t;)c=c.parentNode}catch{return!1}return c!==t}var $s={__proto__:null,on:Te,off:Qe,stopPropagation:Tn,disableScrollPropagation:Us,disableClickPropagation:is,preventDefault:dt,stop:mn,getPropagationPath:ji,getMousePosition:rs,getWheelDelta:Ja,isExternalTarget:ss,addListener:Te,removeListener:Qe},Fs=Le.extend({run:function(t,s,c,p){this.stop(),this._el=t,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=Hn(t),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ke(this._animate,this),this._step()},_step:function(t){var s=+new Date-this._startTime,c=this._duration*1e3;s<c?this._runFrame(this._easeOut(s/c),t):(this._runFrame(1),this._complete())},_runFrame:function(t,s){var c=this._startPos.add(this._offset.multiplyBy(t));s&&c._round(),gt(this._el,c),this.fire("step")},_complete:function(){We(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Be=Le.extend({options:{crs:an,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,s){s=U(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=f(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(he(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rr&&A.any3d&&!A.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,Yr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,s,c){if(s=s===void 0?this._zoom:this._limitZoom(s),t=this._limitCenter(he(t),s,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=u({animate:c.animate},c.zoom),c.pan=u({animate:c.animate,duration:c.duration},c.pan));var p=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,s,c.zoom):this._tryAnimatedPan(t,c.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(t,s,c.pan&&c.pan.noMoveStart),this},setZoom:function(t,s){return this._loaded?this.setView(this.getCenter(),t,{zoom:s}):(this._zoom=t,this)},zoomIn:function(t,s){return t=t||(A.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,s)},zoomOut:function(t,s){return t=t||(A.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,s)},setZoomAround:function(t,s,c){var p=this.getZoomScale(s),y=this.getSize().divideBy(2),k=t instanceof K?t:this.latLngToContainerPoint(t),z=k.subtract(y).multiplyBy(1-1/p),D=this.containerPointToLatLng(y.add(z));return this.setView(D,s,{zoom:c})},_getBoundsCenterZoom:function(t,s){s=s||{},t=t.getBounds?t.getBounds():ge(t);var c=Z(s.paddingTopLeft||s.padding||[0,0]),p=Z(s.paddingBottomRight||s.padding||[0,0]),y=this.getBoundsZoom(t,!1,c.add(p));if(y=typeof s.maxZoom=="number"?Math.min(s.maxZoom,y):y,y===1/0)return{center:t.getCenter(),zoom:y};var k=p.subtract(c).divideBy(2),z=this.project(t.getSouthWest(),y),D=this.project(t.getNorthEast(),y),W=this.unproject(z.add(D).divideBy(2).add(k),y);return{center:W,zoom:y}},fitBounds:function(t,s){if(t=ge(t),!t.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(t,s);return this.setView(c.center,c.zoom,s)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,s){return this.setView(t,this._zoom,{pan:s})},panBy:function(t,s){if(t=Z(t).round(),s=s||{},!t.x&&!t.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Fs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Oe(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,c,s.duration||.25,s.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,s,c){if(c=c||{},c.animate===!1||!A.any3d)return this.setView(t,s,c);this._stop();var p=this.project(this.getCenter()),y=this.project(t),k=this.getSize(),z=this._zoom;t=he(t),s=s===void 0?z:s;var D=Math.max(k.x,k.y),W=D*this.getZoomScale(z,s),J=y.distanceTo(p)||1,ae=1.42,Se=ae*ae;function Ie(Je){var Sr=Je?-1:1,Mu=Je?W:D,Du=W*W-D*D+Sr*Se*Se*J*J,Di=2*Mu*Se*J,Ui=Du/Di,$i=Math.sqrt(Ui*Ui+1)-Ui,to=$i<1e-9?-18:Math.log($i);return to}function kt(Je){return(Math.exp(Je)-Math.exp(-Je))/2}function wt(Je){return(Math.exp(Je)+Math.exp(-Je))/2}function Vt(Je){return kt(Je)/wt(Je)}var Dt=Ie(0);function xr(Je){return D*(wt(Dt)/wt(Dt+ae*Je))}function fa(Je){return D*(wt(Dt)*Vt(Dt+ae*Je)-kt(Dt))/Se}function mi(Je){return 1-Math.pow(1-Je,1.5)}var vl=Date.now(),Mi=(Ie(1)-Dt)/ae,Nn=c.duration?1e3*c.duration:1e3*Mi*.8;function kr(){var Je=(Date.now()-vl)/Nn,Sr=mi(Je)*Mi;Je<=1?(this._flyToFrame=ke(kr,this),this._move(this.unproject(p.add(y.subtract(p).multiplyBy(fa(Sr)/J)),z),this.getScaleZoom(D/xr(Sr),z),{flyTo:!0})):this._move(t,s)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),kr.call(this),this},flyToBounds:function(t,s){var c=this._getBoundsCenterZoom(t,s);return this.flyTo(c.center,c.zoom,s)},setMaxBounds:function(t){return t=ge(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var s=this.options.minZoom;return this.options.minZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var s=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,s){this._enforcingBounds=!0;var c=this.getCenter(),p=this._limitCenter(c,this._zoom,ge(t));return c.equals(p)||this.panTo(p,s),this._enforcingBounds=!1,this},panInside:function(t,s){s=s||{};var c=Z(s.paddingTopLeft||s.padding||[0,0]),p=Z(s.paddingBottomRight||s.padding||[0,0]),y=this.project(this.getCenter()),k=this.project(t),z=this.getPixelBounds(),D=q([z.min.add(c),z.max.subtract(p)]),W=D.getSize();if(!D.contains(k)){this._enforcingBounds=!0;var J=k.subtract(D.getCenter()),ae=D.extend(k).getSize().subtract(W);y.x+=J.x<0?-ae.x:ae.x,y.y+=J.y<0?-ae.y:ae.y,this.panTo(this.unproject(y),s),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=u({animate:!1,pan:!0},t===!0?{animate:!0}:t);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),p=s.divideBy(2).round(),y=c.divideBy(2).round(),k=p.subtract(y);return!k.x&&!k.y?this:(t.animate&&t.pan?this.panBy(k):(t.pan&&this._rawPanBy(k),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(f(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=u({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=f(this._handleGeolocationResponse,this),c=f(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,c,t):navigator.geolocation.getCurrentPosition(s,c,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var s=t.code,c=t.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var s=t.coords.latitude,c=t.coords.longitude,p=new pe(s,c),y=p.toBounds(t.coords.accuracy*2),k=this._locateOptions;if(k.setView){var z=this.getBoundsZoom(y);this.setView(p,k.maxZoom?Math.min(z,k.maxZoom):z)}var D={latlng:p,bounds:y,timestamp:t.timestamp};for(var W in t.coords)typeof t.coords[W]=="number"&&(D[W]=t.coords[W]);this.fire("locationfound",D)}},addHandler:function(t,s){if(!s)return this;var c=this[t]=new s(this);return this._handlers.push(c),this.options[t]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ot(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(We(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)ot(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,s){var c="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),p=Re("div",c,s||this._mapPane);return t&&(this._panes[t]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),s=this.unproject(t.getBottomLeft()),c=this.unproject(t.getTopRight());return new ce(s,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,s,c){t=ge(t),c=Z(c||[0,0]);var p=this.getZoom()||0,y=this.getMinZoom(),k=this.getMaxZoom(),z=t.getNorthWest(),D=t.getSouthEast(),W=this.getSize().subtract(c),J=q(this.project(D,p),this.project(z,p)).getSize(),ae=A.any3d?this.options.zoomSnap:1,Se=W.x/J.x,Ie=W.y/J.y,kt=s?Math.max(Se,Ie):Math.min(Se,Ie);return p=this.getScaleZoom(kt,p),ae&&(p=Math.round(p/(ae/100))*(ae/100),p=s?Math.ceil(p/ae)*ae:Math.floor(p/ae)*ae),Math.max(y,Math.min(k,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new K(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,s){var c=this._getTopLeftPoint(t,s);return new T(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,s){var c=this.options.crs;return s=s===void 0?this._zoom:s,c.scale(t)/c.scale(s)},getScaleZoom:function(t,s){var c=this.options.crs;s=s===void 0?this._zoom:s;var p=c.zoom(t*c.scale(s));return isNaN(p)?1/0:p},project:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(he(t),s)},unproject:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(Z(t),s)},layerPointToLatLng:function(t){var s=Z(t).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(t){var s=this.project(he(t))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(he(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ge(t))},distance:function(t,s){return this.options.crs.distance(he(t),he(s))},containerPointToLayerPoint:function(t){return Z(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return Z(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var s=this.containerPointToLayerPoint(Z(t));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(t)))},mouseEventToContainerPoint:function(t){return rs(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var s=this._container=dn(t);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Te(s,"scroll",this._onScroll,this),this._containerId=_(s)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&A.any3d,Oe(t,"leaflet-container"+(A.touch?" leaflet-touch":"")+(A.retina?" leaflet-retina":"")+(A.ielt9?" leaflet-oldie":"")+(A.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Xr(t,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),gt(this._mapPane,new K(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Oe(t.markerPane,"leaflet-zoom-hide"),Oe(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,s,c){gt(this._mapPane,new K(0,0));var p=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var y=this._zoom!==s;this._moveStart(y,c)._move(t,s)._moveEnd(y),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(t,s){return t&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(t,s,c,p){s===void 0&&(s=this._zoom);var y=this._zoom!==s;return this._zoom=s,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),p?c&&c.pinch&&this.fire("zoom",c):((y||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return We(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){gt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[_(this._container)]=this;var s=t?Qe:Te;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),A.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){We(this._resizeRequest),this._resizeRequest=ke(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,s){for(var c=[],p,y=s==="mouseout"||s==="mouseover",k=t.target||t.srcElement,z=!1;k;){if(p=this._targets[_(k)],p&&(s==="click"||s==="preclick")&&this._draggableMoved(p)){z=!0;break}if(p&&p.listens(s,!0)&&(y&&!ss(k,t)||(c.push(p),y))||k===this._container)break;k=k.parentNode}return!c.length&&!z&&!y&&this.listens(s,!0)&&(c=[this]),c},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var s=t.target||t.srcElement;if(!(!this._loaded||s._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(s))){var c=t.type;c==="mousedown"&&ur(s),this._fireDOMEvent(t,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,s,c){if(t.type==="click"){var p=u({},t);p.type="preclick",this._fireDOMEvent(p,p.type,c)}var y=this._findEventTargets(t,s);if(c){for(var k=[],z=0;z<c.length;z++)c[z].listens(s,!0)&&k.push(c[z]);y=k.concat(y)}if(y.length){s==="contextmenu"&&dt(t);var D=y[0],W={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var J=D.getLatLng&&(!D._radius||D._radius<=10);W.containerPoint=J?this.latLngToContainerPoint(D.getLatLng()):this.mouseEventToContainerPoint(t),W.layerPoint=this.containerPointToLayerPoint(W.containerPoint),W.latlng=J?D.getLatLng():this.layerPointToLatLng(W.layerPoint)}for(z=0;z<y.length;z++)if(y[z].fire(s,W,!0),W.originalEvent._stopped||y[z].options.bubblingMouseEvents===!1&&Q(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,s=this._handlers.length;t<s;t++)this._handlers[t].disable()},whenReady:function(t,s){return this._loaded?t.call(s||this,{target:this}):this.on("load",t,s),this},_getMapPanePos:function(){return Hn(this._mapPane)||new K(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,s){var c=t&&s!==void 0?this._getNewPixelOrigin(t,s):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,s){var c=this.getSize()._divideBy(2);return this.project(t,s)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,s,c){var p=this._getNewPixelOrigin(c,s);return this.project(t,s)._subtract(p)},_latLngBoundsToNewLayerBounds:function(t,s,c){var p=this._getNewPixelOrigin(c,s);return q([this.project(t.getSouthWest(),s)._subtract(p),this.project(t.getNorthWest(),s)._subtract(p),this.project(t.getSouthEast(),s)._subtract(p),this.project(t.getNorthEast(),s)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,s,c){if(!c)return t;var p=this.project(t,s),y=this.getSize().divideBy(2),k=new T(p.subtract(y),p.add(y)),z=this._getBoundsOffset(k,c,s);return Math.abs(z.x)<=1&&Math.abs(z.y)<=1?t:this.unproject(p.add(z),s)},_limitOffset:function(t,s){if(!s)return t;var c=this.getPixelBounds(),p=new T(c.min.add(t),c.max.add(t));return t.add(this._getBoundsOffset(p,s))},_getBoundsOffset:function(t,s,c){var p=q(this.project(s.getNorthEast(),c),this.project(s.getSouthWest(),c)),y=p.min.subtract(t.min),k=p.max.subtract(t.max),z=this._rebound(y.x,-k.x),D=this._rebound(y.y,-k.y);return new K(z,D)},_rebound:function(t,s){return t+s>0?Math.round(t-s)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(s))},_limitZoom:function(t){var s=this.getMinZoom(),c=this.getMaxZoom(),p=A.any3d?this.options.zoomSnap:1;return p&&(t=Math.round(t/p)*p),Math.max(s,Math.min(c,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){it(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,s){var c=this._getCenterOffset(t)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,s),!0)},_createAnimProxy:function(){var t=this._proxy=Re("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(s){var c=Zo,p=this._proxy.style[c];fn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),p===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ot(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),s=this.getZoom();fn(this._proxy,this.project(t,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,s,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(s),y=this._getCenterOffset(t)._divideBy(1-1/p);return c.animate!==!0&&!this.getSize().contains(y)?!1:(ke(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(t,s,!0)},this),!0)},_animateZoom:function(t,s,c,p){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=s,Oe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:s,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(f(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&it(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function li(t,s){return new Be(t,s)}var Ht=Ue.extend({options:{position:"topright"},initialize:function(t){U(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var s=this._map;return s&&s.removeControl(this),this.options.position=t,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var s=this._container=this.onAdd(t),c=this.getPosition(),p=t._controlCorners[c];return Oe(s,"leaflet-control"),c.indexOf("bottom")!==-1?p.insertBefore(s,p.firstChild):p.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ot(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ui=function(t){return new Ht(t)};Be.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},s="leaflet-",c=this._controlContainer=Re("div",s+"control-container",this._container);function p(y,k){var z=s+y+" "+s+k;t[y+k]=Re("div",z,c)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ot(this._controlCorners[t]);ot(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var qo=Ht.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,s,c,p){return c<p?-1:p<c?1:0}},initialize:function(t,s,c){U(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in t)this._addLayer(t[p],p);for(p in s)this._addLayer(s[p],p,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ht.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,s){return this._addLayer(t,s),this._map?this._update():this},addOverlay:function(t,s){return this._addLayer(t,s,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var s=this._getLayer(_(t));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Oe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Oe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):it(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return it(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",s=this._container=Re("div",t),c=this.options.collapsed;s.setAttribute("aria-haspopup",!0),is(s),Us(s);var p=this._section=Re("section",t+"-list");c&&(this._map.on("click",this.collapse,this),Te(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var y=this._layersLink=Re("a",t+"-toggle",s);y.href="#",y.title="Layers",y.setAttribute("role","button"),Te(y,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){dt(k),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=Re("div",t+"-base",p),this._separator=Re("div",t+"-separator",p),this._overlaysList=Re("div",t+"-overlays",p),s.appendChild(p)},_getLayer:function(t){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&_(this._layers[s].layer)===t)return this._layers[s]},_addLayer:function(t,s,c){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:s,overlay:c}),this.options.sortLayers&&this._layers.sort(f(function(p,y){return this.options.sortFunction(p.layer,y.layer,p.name,y.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ns(this._baseLayersList),Ns(this._overlaysList),this._layerControlInputs=[];var t,s,c,p,y=0;for(c=0;c<this._layers.length;c++)p=this._layers[c],this._addItem(p),s=s||p.overlay,t=t||!p.overlay,y+=p.overlay?0:1;return this.options.hideSingleBase&&(t=t&&y>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=s&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var s=this._getLayer(_(t.target)),c=s.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;c&&this._map.fire(c,s)},_createRadioElement:function(t,s){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(s?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=c,p.firstChild},_addItem:function(t){var s=document.createElement("label"),c=this._map.hasLayer(t.layer),p;t.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=c):p=this._createRadioElement("leaflet-base-layers_"+_(this),c),this._layerControlInputs.push(p),p.layerId=_(t.layer),Te(p,"click",this._onInputClick,this);var y=document.createElement("span");y.innerHTML=" "+t.name;var k=document.createElement("span");s.appendChild(k),k.appendChild(p),k.appendChild(y);var z=t.overlay?this._overlaysList:this._baseLayersList;return z.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,s,c,p=[],y=[];this._handlingClick=!0;for(var k=t.length-1;k>=0;k--)s=t[k],c=this._getLayer(s.layerId).layer,s.checked?p.push(c):s.checked||y.push(c);for(k=0;k<y.length;k++)this._map.hasLayer(y[k])&&this._map.removeLayer(y[k]);for(k=0;k<p.length;k++)this._map.hasLayer(p[k])||this._map.addLayer(p[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,s,c,p=this._map.getZoom(),y=t.length-1;y>=0;y--)s=t[y],c=this._getLayer(s.layerId).layer,s.disabled=c.options.minZoom!==void 0&&p<c.options.minZoom||c.options.maxZoom!==void 0&&p>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Te(t,"click",dt),this.expand();var s=this;setTimeout(function(){Qe(t,"click",dt),s._preventClick=!1})}}),Bs=function(t,s,c){return new qo(t,s,c)},cr=Ht.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var s="leaflet-control-zoom",c=Re("div",s+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,s+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,s+"-out",c,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,s,c,p,y){var k=Re("a",c,p);return k.innerHTML=t,k.href="#",k.title=s,k.setAttribute("role","button"),k.setAttribute("aria-label",s),is(k),Te(k,"click",mn),Te(k,"click",y,this),Te(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var t=this._map,s="leaflet-disabled";it(this._zoomInButton,s),it(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Oe(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Oe(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});Be.mergeOptions({zoomControl:!0}),Be.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cr,this.addControl(this.zoomControl))});var Qa=function(t){return new cr(t)},Mt=Ht.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var s="leaflet-control-scale",c=Re("div",s),p=this.options;return this._addScales(p,s+"-line",c),t.on(p.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),c},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,s,c){t.metric&&(this._mScale=Re("div",s,c)),t.imperial&&(this._iScale=Re("div",s,c))},_update:function(){var t=this._map,s=t.getSize().y/2,c=t.distance(t.containerPointToLatLng([0,s]),t.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(c)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var s=this._getRoundNum(t),c=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,c,s/t)},_updateImperial:function(t){var s=t*3.2808399,c,p,y;s>5280?(c=s/5280,p=this._getRoundNum(c),this._updateScale(this._iScale,p+" mi",p/c)):(y=this._getRoundNum(s),this._updateScale(this._iScale,y+" ft",y/s))},_updateScale:function(t,s,c){t.style.width=Math.round(this.options.maxWidth*c)+"px",t.innerHTML=s},_getRoundNum:function(t){var s=Math.pow(10,(Math.floor(t)+"").length-1),c=t/s;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,s*c}}),hr=function(t){return new Mt(t)},Ko='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Oi=Ht.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(A.inlineSvg?Ko+" ":"")+"Leaflet</a>"},initialize:function(t){U(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Re("div","leaflet-control-attribution"),is(this._container);for(var s in t._layers)t._layers[s].getAttribution&&this.addAttribution(t._layers[s].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var s in this._attributions)this._attributions[s]&&t.push(s);var c=[];this.options.prefix&&c.push(this.options.prefix),t.length&&c.push(t.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});Be.mergeOptions({attributionControl:!0}),Be.addInitHook(function(){this.options.attributionControl&&new Oi().addTo(this)});var Su=function(t){return new Oi(t)};Ht.Layers=qo,Ht.Zoom=cr,Ht.Scale=Mt,Ht.Attribution=Oi,ui.layers=Bs,ui.zoom=Qa,ui.scale=hr,ui.attribution=Su;var Yt=Ue.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Yt.addTo=function(t,s){return t.addHandler(s,this),this};var Go={Events:ze},dr=A.touch?"touchstart mousedown":"mousedown",gn=Le.extend({options:{clickTolerance:3},initialize:function(t,s,c,p){U(this,p),this._element=t,this._dragStartTarget=s||t,this._preventOutline=c},enable:function(){this._enabled||(Te(this._dragStartTarget,dr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(gn._dragging===this&&this.finishDrag(!0),Qe(this._dragStartTarget,dr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!or(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){gn._dragging===this&&this.finishDrag();return}if(!(gn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(gn._dragging=this,this._preventOutline&&ur(this._element),As(),He(),!this._moving)){this.fire("down");var s=t.touches?t.touches[0]:t,c=Wn(this._element);this._startPoint=new K(s.clientX,s.clientY),this._startPos=Hn(this._element),this._parentScale=Ln(c);var p=t.type==="mousedown";Te(document,p?"mousemove":"touchmove",this._onMove,this),Te(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var s=t.touches&&t.touches.length===1?t.touches[0]:t,c=new K(s.clientX,s.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,dt(t),this._moved||(this.fire("dragstart"),this._moved=!0,Oe(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Oe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),gt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){it(document.body,"leaflet-dragging"),this._lastTarget&&(it(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Qe(document,"mousemove touchmove",this._onMove,this),Qe(document,"mouseup touchend touchcancel",this._onUp,this),Ms(),lr();var s=this._moved&&this._moving;this._moving=!1,gn._dragging=!1,s&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Jo(t,s,c){var p,y=[1,4,2,8],k,z,D,W,J,ae,Se,Ie;for(k=0,ae=t.length;k<ae;k++)t[k]._code=Ni(t[k],s);for(D=0;D<4;D++){for(Se=y[D],p=[],k=0,ae=t.length,z=ae-1;k<ae;z=k++)W=t[k],J=t[z],W._code&Se?J._code&Se||(Ie=Hs(J,W,Se,s,c),Ie._code=Ni(Ie,s),p.push(Ie)):(J._code&Se&&(Ie=Hs(J,W,Se,s,c),Ie._code=Ni(Ie,s),p.push(Ie)),p.push(W));t=p}return t}function Ya(t,s){var c,p,y,k,z,D,W,J,ae;if(!t||t.length===0)throw new Error("latlngs not passed");Xt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Se=he([0,0]),Ie=ge(t),kt=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());kt<1700&&(Se=Qo(t));var wt=t.length,Vt=[];for(c=0;c<wt;c++){var Dt=he(t[c]);Vt.push(s.project(he([Dt.lat-Se.lat,Dt.lng-Se.lng])))}for(D=W=J=0,c=0,p=wt-1;c<wt;p=c++)y=Vt[c],k=Vt[p],z=y.y*k.x-k.y*y.x,W+=(y.x+k.x)*z,J+=(y.y+k.y)*z,D+=z*3;D===0?ae=Vt[0]:ae=[W/D,J/D];var xr=s.unproject(Z(ae));return he([xr.lat+Se.lat,xr.lng+Se.lng])}function Qo(t){for(var s=0,c=0,p=0,y=0;y<t.length;y++){var k=he(t[y]);s+=k.lat,c+=k.lng,p++}return he([s/p,c/p])}var Pu={__proto__:null,clipPolygon:Jo,polygonCenter:Ya,centroid:Qo};function Zs(t,s){if(!s||!t.length)return t.slice();var c=s*s;return t=Lu(t,c),t=Cu(t,c),t}function Xa(t,s,c){return Math.sqrt(Ri(t,s,c,!0))}function Eu(t,s,c){return Ri(t,s,c)}function Cu(t,s){var c=t.length,p=typeof Uint8Array<"u"?Uint8Array:Array,y=new p(c);y[0]=y[c-1]=1,Yo(t,y,s,0,c-1);var k,z=[];for(k=0;k<c;k++)y[k]&&z.push(t[k]);return z}function Yo(t,s,c,p,y){var k=0,z,D,W;for(D=p+1;D<=y-1;D++)W=Ri(t[D],t[p],t[y],!0),W>k&&(z=D,k=W);k>c&&(s[z]=1,Yo(t,s,c,p,z),Yo(t,s,c,z,y))}function Lu(t,s){for(var c=[t[0]],p=1,y=0,k=t.length;p<k;p++)Tu(t[p],t[y])>s&&(c.push(t[p]),y=p);return y<k-1&&c.push(t[k-1]),c}var Xo;function el(t,s,c,p,y){var k=p?Xo:Ni(t,c),z=Ni(s,c),D,W,J;for(Xo=z;;){if(!(k|z))return[t,s];if(k&z)return!1;D=k||z,W=Hs(t,s,D,c,y),J=Ni(W,c),D===k?(t=W,k=J):(s=W,z=J)}}function Hs(t,s,c,p,y){var k=s.x-t.x,z=s.y-t.y,D=p.min,W=p.max,J,ae;return c&8?(J=t.x+k*(W.y-t.y)/z,ae=W.y):c&4?(J=t.x+k*(D.y-t.y)/z,ae=D.y):c&2?(J=W.x,ae=t.y+z*(W.x-t.x)/k):c&1&&(J=D.x,ae=t.y+z*(D.x-t.x)/k),new K(J,ae,y)}function Ni(t,s){var c=0;return t.x<s.min.x?c|=1:t.x>s.max.x&&(c|=2),t.y<s.min.y?c|=4:t.y>s.max.y&&(c|=8),c}function Tu(t,s){var c=s.x-t.x,p=s.y-t.y;return c*c+p*p}function Ri(t,s,c,p){var y=s.x,k=s.y,z=c.x-y,D=c.y-k,W=z*z+D*D,J;return W>0&&(J=((t.x-y)*z+(t.y-k)*D)/W,J>1?(y=c.x,k=c.y):J>0&&(y+=z*J,k+=D*J)),z=t.x-y,D=t.y-k,p?z*z+D*D:new K(y,k)}function Xt(t){return!G(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function tl(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Xt(t)}function nl(t,s){var c,p,y,k,z,D,W,J;if(!t||t.length===0)throw new Error("latlngs not passed");Xt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var ae=he([0,0]),Se=ge(t),Ie=Se.getNorthWest().distanceTo(Se.getSouthWest())*Se.getNorthEast().distanceTo(Se.getNorthWest());Ie<1700&&(ae=Qo(t));var kt=t.length,wt=[];for(c=0;c<kt;c++){var Vt=he(t[c]);wt.push(s.project(he([Vt.lat-ae.lat,Vt.lng-ae.lng])))}for(c=0,p=0;c<kt-1;c++)p+=wt[c].distanceTo(wt[c+1])/2;if(p===0)J=wt[0];else for(c=0,k=0;c<kt-1;c++)if(z=wt[c],D=wt[c+1],y=z.distanceTo(D),k+=y,k>p){W=(k-p)/y,J=[D.x-W*(D.x-z.x),D.y-W*(D.y-z.y)];break}var Dt=s.unproject(Z(J));return he([Dt.lat+ae.lat,Dt.lng+ae.lng])}var il={__proto__:null,simplify:Zs,pointToSegmentDistance:Xa,closestPointOnSegment:Eu,clipSegment:el,_getEdgeIntersection:Hs,_getBitCode:Ni,_sqClosestPointOnSegment:Ri,isFlat:Xt,_flat:tl,polylineCenter:nl},ea={project:function(t){return new K(t.lng,t.lat)},unproject:function(t){return new pe(t.y,t.x)},bounds:new T([-180,-90],[180,90])},ta={R:6378137,R_MINOR:6356752314245179e-9,bounds:new T([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var s=Math.PI/180,c=this.R,p=t.lat*s,y=this.R_MINOR/c,k=Math.sqrt(1-y*y),z=k*Math.sin(p),D=Math.tan(Math.PI/4-p/2)/Math.pow((1-z)/(1+z),k/2);return p=-c*Math.log(Math.max(D,1e-10)),new K(t.lng*s*c,p)},unproject:function(t){for(var s=180/Math.PI,c=this.R,p=this.R_MINOR/c,y=Math.sqrt(1-p*p),k=Math.exp(-t.y/c),z=Math.PI/2-2*Math.atan(k),D=0,W=.1,J;D<15&&Math.abs(W)>1e-7;D++)J=y*Math.sin(z),J=Math.pow((1-J)/(1+J),y/2),W=Math.PI/2-2*Math.atan(k*J)-z,z+=W;return new pe(z*s,t.x*s/c)}},zu={__proto__:null,LonLat:ea,Mercator:ta,SphericalMercator:lt},ju=u({},we,{code:"EPSG:3395",projection:ta,transformation:(function(){var t=.5/(Math.PI*ta.R);return ni(t,.5,-t,.5)})()}),rl=u({},we,{code:"EPSG:4326",projection:ea,transformation:ni(1/180,1,-1/180,.5)}),Ou=u({},Ce,{projection:ea,transformation:ni(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,s){var c=s.lng-t.lng,p=s.lat-t.lat;return Math.sqrt(c*c+p*p)},infinite:!0});Ce.Earth=we,Ce.EPSG3395=ju,Ce.EPSG3857=an,Ce.EPSG900913=bi,Ce.EPSG4326=rl,Ce.Simple=Ou;var vn=Le.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[_(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[_(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var s=t.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var c=this.getEvents();s.on(c,this),this.once("remove",function(){s.off(c,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});Be.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var s=_(t);return this._layers[s]?this:(this._layers[s]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var s=_(t);return this._layers[s]?(this._loaded&&t.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return _(t)in this._layers},eachLayer:function(t,s){for(var c in this._layers)t.call(s,this._layers[c]);return this},_addLayers:function(t){t=t?G(t)?t:[t]:[];for(var s=0,c=t.length;s<c;s++)this.addLayer(t[s])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[_(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var s=_(t);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,s=-1/0,c=this._getZoomSpan();for(var p in this._zoomBoundLayers){var y=this._zoomBoundLayers[p].options;t=y.minZoom===void 0?t:Math.min(t,y.minZoom),s=y.maxZoom===void 0?s:Math.max(s,y.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=t===1/0?void 0:t,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ci=vn.extend({initialize:function(t,s){U(this,s),this._layers={};var c,p;if(t)for(c=0,p=t.length;c<p;c++)this.addLayer(t[c])},addLayer:function(t){var s=this.getLayerId(t);return this._layers[s]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var s=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(t){var s=typeof t=="number"?t:this.getLayerId(t);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var s=Array.prototype.slice.call(arguments,1),c,p;for(c in this._layers)p=this._layers[c],p[t]&&p[t].apply(p,s);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,s){for(var c in this._layers)t.call(s,this._layers[c]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return _(t)}}),os=function(t,s){return new ci(t,s)},Vn=ci.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ci.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ci.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ce;for(var s in this._layers){var c=this._layers[s];t.extend(c.getBounds?c.getBounds():c.getLatLng())}return t}}),sl=function(t,s){return new Vn(t,s)},Ii=Ue.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){U(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,s){var c=this._getIconUrl(t);if(!c){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(c,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(p,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(t,s){var c=this.options,p=c[s+"Size"];typeof p=="number"&&(p=[p,p]);var y=Z(p),k=Z(s==="shadow"&&c.shadowAnchor||c.iconAnchor||y&&y.divideBy(2,!0));t.className="leaflet-marker-"+s+" "+(c.className||""),k&&(t.style.marginLeft=-k.x+"px",t.style.marginTop=-k.y+"px"),y&&(t.style.width=y.x+"px",t.style.height=y.y+"px")},_createImg:function(t,s){return s=s||document.createElement("img"),s.src=t,s},_getIconUrl:function(t){return A.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function ol(t){return new Ii(t)}var fr=Ii.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof fr.imagePath!="string"&&(fr.imagePath=this._detectIconPath()),(this.options.imagePath||fr.imagePath)+Ii.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var s=function(c,p,y){var k=p.exec(c);return k&&k[y]};return t=s(t,/^url\((['"])?(.+)\1\)$/,2),t&&s(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Re("div","leaflet-default-icon-path",document.body),s=Xr(t,"background-image")||Xr(t,"backgroundImage");if(document.body.removeChild(t),s=this._stripUrl(s),s)return s;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),na=Yt.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new gn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Oe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&it(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var s=this._marker,c=s._map,p=this._marker.options.autoPanSpeed,y=this._marker.options.autoPanPadding,k=Hn(s._icon),z=c.getPixelBounds(),D=c.getPixelOrigin(),W=q(z.min._subtract(D).add(y),z.max._subtract(D).subtract(y));if(!W.contains(k)){var J=Z((Math.max(W.max.x,k.x)-W.max.x)/(z.max.x-W.max.x)-(Math.min(W.min.x,k.x)-W.min.x)/(z.min.x-W.min.x),(Math.max(W.max.y,k.y)-W.max.y)/(z.max.y-W.max.y)-(Math.min(W.min.y,k.y)-W.min.y)/(z.min.y-W.min.y)).multiplyBy(p);c.panBy(J,{animate:!1}),this._draggable._newPos._add(J),this._draggable._startPos._add(J),gt(s._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=ke(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(We(this._panRequest),this._panRequest=ke(this._adjustPan.bind(this,t)))},_onDrag:function(t){var s=this._marker,c=s._shadow,p=Hn(s._icon),y=s._map.layerPointToLatLng(p);c&&gt(c,p),s._latlng=y,t.latlng=y,t.oldLatLng=this._oldLatLng,s.fire("move",t).fire("drag",t)},_onDragEnd:function(t){We(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),qn=vn.extend({options:{icon:new fr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,s){U(this,s),this._latlng=he(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var s=this._latlng;return this._latlng=he(t),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=t.icon.createIcon(this._icon),p=!1;c!==this._icon&&(this._icon&&this._removeIcon(),p=!0,t.title&&(c.title=t.title),c.tagName==="IMG"&&(c.alt=t.alt||"")),Oe(c,s),t.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(c,"focus",this._panOnFocus,this);var y=t.icon.createShadow(this._shadow),k=!1;y!==this._shadow&&(this._removeShadow(),k=!0),y&&(Oe(y,s),y.alt=""),this._shadow=y,t.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),y&&k&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Qe(this._icon,"focus",this._panOnFocus,this),ot(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ot(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&gt(this._icon,t),this._shadow&&gt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Oe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),na)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new na(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&At(this._icon,t),this._shadow&&At(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var s=this.options.icon.options,c=s.iconSize?Z(s.iconSize):Z(0,0),p=s.iconAnchor?Z(s.iconAnchor):Z(0,0);t.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:c.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nu(t,s){return new qn(t,s)}var hi=vn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return U(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ws=hi.extend({options:{fill:!0,radius:10},initialize:function(t,s){U(this,s),this._latlng=he(t),this._radius=this.options.radius},setLatLng:function(t){var s=this._latlng;return this._latlng=he(t),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var s=t&&t.radius||this._radius;return hi.prototype.setStyle.call(this,t),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,s=this._radiusY||t,c=this._clickTolerance(),p=[t+c,s+c];this._pxBounds=new T(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function al(t,s){return new Ws(t,s)}var Vs=Ws.extend({initialize:function(t,s,c){if(typeof s=="number"&&(s=u({},c,{radius:s})),U(this,s),this._latlng=he(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:hi.prototype.setStyle,_project:function(){var t=this._latlng.lng,s=this._latlng.lat,c=this._map,p=c.options.crs;if(p.distance===we.distance){var y=Math.PI/180,k=this._mRadius/we.R/y,z=c.project([s+k,t]),D=c.project([s-k,t]),W=z.add(D).divideBy(2),J=c.unproject(W).lat,ae=Math.acos((Math.cos(k*y)-Math.sin(s*y)*Math.sin(J*y))/(Math.cos(s*y)*Math.cos(J*y)))/y;(isNaN(ae)||ae===0)&&(ae=k/Math.cos(Math.PI/180*s)),this._point=W.subtract(c.getPixelOrigin()),this._radius=isNaN(ae)?0:W.x-c.project([J,t-ae]).x,this._radiusY=W.y-z.y}else{var Se=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Se).x}this._updateBounds()}});function as(t,s,c){return new Vs(t,s,c)}var Wt=hi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,s){U(this,s),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var s=1/0,c=null,p=Ri,y,k,z=0,D=this._parts.length;z<D;z++)for(var W=this._parts[z],J=1,ae=W.length;J<ae;J++){y=W[J-1],k=W[J];var Se=p(t,y,k,!0);Se<s&&(s=Se,c=p(t,y,k))}return c&&(c.distance=Math.sqrt(s)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,s){return s=s||this._defaultShape(),t=he(t),s.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ce,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Xt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var s=[],c=Xt(t),p=0,y=t.length;p<y;p++)c?(s[p]=he(t[p]),this._bounds.extend(s[p])):s[p]=this._convertLatLngs(t[p]);return s},_project:function(){var t=new T;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),s=new K(t,t);this._rawPxBounds&&(this._pxBounds=new T([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(t,s,c){var p=t[0]instanceof pe,y=t.length,k,z;if(p){for(z=[],k=0;k<y;k++)z[k]=this._map.latLngToLayerPoint(t[k]),c.extend(z[k]);s.push(z)}else for(k=0;k<y;k++)this._projectLatlngs(t[k],s,c)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,c,p,y,k,z,D,W;for(c=0,y=0,k=this._rings.length;c<k;c++)for(W=this._rings[c],p=0,z=W.length;p<z-1;p++)D=el(W[p],W[p+1],t,p,!0),D&&(s[y]=s[y]||[],s[y].push(D[0]),(D[1]!==W[p+1]||p===z-2)&&(s[y].push(D[1]),y++))}},_simplifyPoints:function(){for(var t=this._parts,s=this.options.smoothFactor,c=0,p=t.length;c<p;c++)t[c]=Zs(t[c],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,s){var c,p,y,k,z,D,W=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(c=0,k=this._parts.length;c<k;c++)for(D=this._parts[c],p=0,z=D.length,y=z-1;p<z;y=p++)if(!(!s&&p===0)&&Xa(t,D[y],D[p])<=W)return!0;return!1}});function Ru(t,s){return new Wt(t,s)}Wt._flat=tl;var Kn=Wt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ya(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var s=Wt.prototype._convertLatLngs.call(this,t),c=s.length;return c>=2&&s[0]instanceof pe&&s[0].equals(s[c-1])&&s.pop(),s},_setLatLngs:function(t){Wt.prototype._setLatLngs.call(this,t),Xt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Xt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,s=this.options.weight,c=new K(s,s);if(t=new T(t.min.subtract(c),t.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,y=this._rings.length,k;p<y;p++)k=Jo(this._rings[p],t,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var s=!1,c,p,y,k,z,D,W,J;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(k=0,W=this._parts.length;k<W;k++)for(c=this._parts[k],z=0,J=c.length,D=J-1;z<J;D=z++)p=c[z],y=c[D],p.y>t.y!=y.y>t.y&&t.x<(y.x-p.x)*(t.y-p.y)/(y.y-p.y)+p.x&&(s=!s);return s||Wt.prototype._containsPoint.call(this,t,!0)}});function Iu(t,s){return new Kn(t,s)}var zn=Vn.extend({initialize:function(t,s){U(this,s),this._layers={},t&&this.addData(t)},addData:function(t){var s=G(t)?t:t.features,c,p,y;if(s){for(c=0,p=s.length;c<p;c++)y=s[c],(y.geometries||y.geometry||y.features||y.coordinates)&&this.addData(y);return this}var k=this.options;if(k.filter&&!k.filter(t))return this;var z=pr(t,k);return z?(z.feature=Qs(t),z.defaultOptions=z.options,this.resetStyle(z),k.onEachFeature&&k.onEachFeature(t,z),this.addLayer(z)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=u({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(s){this._setLayerStyle(s,t)},this)},_setLayerStyle:function(t,s){t.setStyle&&(typeof s=="function"&&(s=s(t.feature)),t.setStyle(s))}});function pr(t,s){var c=t.type==="Feature"?t.geometry:t,p=c?c.coordinates:null,y=[],k=s&&s.pointToLayer,z=s&&s.coordsToLatLng||Ks,D,W,J,ae;if(!p&&!c)return null;switch(c.type){case"Point":return D=z(p),qs(k,t,D,s);case"MultiPoint":for(J=0,ae=p.length;J<ae;J++)D=z(p[J]),y.push(qs(k,t,D,s));return new Vn(y);case"LineString":case"MultiLineString":return W=ls(p,c.type==="LineString"?0:1,z),new Wt(W,s);case"Polygon":case"MultiPolygon":return W=ls(p,c.type==="Polygon"?1:2,z),new Kn(W,s);case"GeometryCollection":for(J=0,ae=c.geometries.length;J<ae;J++){var Se=pr({geometry:c.geometries[J],type:"Feature",properties:t.properties},s);Se&&y.push(Se)}return new Vn(y);case"FeatureCollection":for(J=0,ae=c.features.length;J<ae;J++){var Ie=pr(c.features[J],s);Ie&&y.push(Ie)}return new Vn(y);default:throw new Error("Invalid GeoJSON object.")}}function qs(t,s,c,p){return t?t(s,c):new qn(c,p&&p.markersInheritOptions&&p)}function Ks(t){return new pe(t[1],t[0],t[2])}function ls(t,s,c){for(var p=[],y=0,k=t.length,z;y<k;y++)z=s?ls(t[y],s-1,c):(c||Ks)(t[y]),p.push(z);return p}function Gs(t,s){return t=he(t),t.alt!==void 0?[j(t.lng,s),j(t.lat,s),j(t.alt,s)]:[j(t.lng,s),j(t.lat,s)]}function Js(t,s,c,p){for(var y=[],k=0,z=t.length;k<z;k++)y.push(s?Js(t[k],Xt(t[k])?0:s-1,c,p):Gs(t[k],p));return!s&&c&&y.length>0&&y.push(y[0].slice()),y}function mr(t,s){return t.feature?u({},t.feature,{geometry:s}):Qs(s)}function Qs(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var ia={toGeoJSON:function(t){return mr(this,{type:"Point",coordinates:Gs(this.getLatLng(),t)})}};qn.include(ia),Vs.include(ia),Ws.include(ia),Wt.include({toGeoJSON:function(t){var s=!Xt(this._latlngs),c=Js(this._latlngs,s?1:0,!1,t);return mr(this,{type:(s?"Multi":"")+"LineString",coordinates:c})}}),Kn.include({toGeoJSON:function(t){var s=!Xt(this._latlngs),c=s&&!Xt(this._latlngs[0]),p=Js(this._latlngs,c?2:s?1:0,!0,t);return s||(p=[p]),mr(this,{type:(c?"Multi":"")+"Polygon",coordinates:p})}}),ci.include({toMultiPoint:function(t){var s=[];return this.eachLayer(function(c){s.push(c.toGeoJSON(t).geometry.coordinates)}),mr(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(t){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(t);var c=s==="GeometryCollection",p=[];return this.eachLayer(function(y){if(y.toGeoJSON){var k=y.toGeoJSON(t);if(c)p.push(k.geometry);else{var z=Qs(k);z.type==="FeatureCollection"?p.push.apply(p,z.features):p.push(z)}}}),c?mr(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function ll(t,s){return new zn(t,s)}var _n=ll,di=vn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,s,c){this._url=t,this._bounds=ge(s),U(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Oe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ot(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&sr(this._image),this},bringToBack:function(){return this._map&&Zn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ge(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",s=this._image=t?this._url:Re("img");if(Oe(s,"leaflet-image-layer"),this._zoomAnimated&&Oe(s,"leaflet-zoom-animated"),this.options.className&&Oe(s,this.options.className),s.onselectstart=x,s.onmousemove=x,s.onload=f(this.fire,this,"load"),s.onerror=f(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(t){var s=this._map.getZoomScale(t.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;fn(this._image,c,s)},_reset:function(){var t=this._image,s=new T(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=s.getSize();gt(t,s.min),t.style.width=c.x+"px",t.style.height=c.y+"px"},_updateOpacity:function(){At(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),ul=function(t,s,c){return new di(t,s,c)},ra=di.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",s=this._image=t?this._url:Re("video");if(Oe(s,"leaflet-image-layer"),this._zoomAnimated&&Oe(s,"leaflet-zoom-animated"),this.options.className&&Oe(s,this.options.className),s.onselectstart=x,s.onmousemove=x,s.onloadeddata=f(this.fire,this,"load"),t){for(var c=s.getElementsByTagName("source"),p=[],y=0;y<c.length;y++)p.push(c[y].src);this._url=c.length>0?p:[s.src];return}G(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var z=Re("source");z.src=this._url[k],s.appendChild(z)}}});function cl(t,s,c){return new ra(t,s,c)}var sa=di.extend({_initImage:function(){var t=this._image=this._url;Oe(t,"leaflet-image-layer"),this._zoomAnimated&&Oe(t,"leaflet-zoom-animated"),this.options.className&&Oe(t,this.options.className),t.onselectstart=x,t.onmousemove=x}});function oa(t,s,c){return new sa(t,s,c)}var jn=vn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,s){t&&(t instanceof pe||G(t))?(this._latlng=he(t),U(this,s)):(U(this,t),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&At(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&At(this._container,1),this.bringToFront(),this.options.interactive&&(Oe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(At(this._container,0),this._removeTimeout=setTimeout(f(ot,void 0,this._container),200)):ot(this._container),this.options.interactive&&(it(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=he(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&sr(this._container),this},bringToBack:function(){return this._map&&Zn(this._container),this},_prepareOpen:function(t){var s=this._source;if(!s._map)return!1;if(s instanceof Vn){s=null;var c=this._source._layers;for(var p in c)if(c[p]._map){s=c[p];break}if(!s)return!1;this._source=s}if(!t)if(s.getCenter)t=s.getCenter();else if(s.getLatLng)t=s.getLatLng();else if(s.getBounds)t=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")t.innerHTML=s;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),s=Z(this.options.offset),c=this._getAnchor();this._zoomAnimated?gt(this._container,t.add(c)):s=s.add(t).add(c);var p=this._containerBottom=-s.y,y=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=p+"px",this._container.style.left=y+"px"}},_getAnchor:function(){return[0,0]}});Be.include({_initOverlay:function(t,s,c,p){var y=s;return y instanceof t||(y=new t(p).setContent(s)),c&&y.setLatLng(c),y}}),vn.include({_initOverlay:function(t,s,c,p){var y=c;return y instanceof t?(U(y,p),y._source=this):(y=s&&!p?s:new t(p,this),y.setContent(c)),y}});var Ys=jn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,jn.prototype.openOn.call(this,t)},onAdd:function(t){jn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof hi||this._source.on("preclick",Tn))},onRemove:function(t){jn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof hi||this._source.off("preclick",Tn))},getEvents:function(){var t=jn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",s=this._container=Re("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=Re("div",t+"-content-wrapper",s);if(this._contentNode=Re("div",t+"-content",c),is(s),Us(this._contentNode),Te(s,"contextmenu",Tn),this._tipContainer=Re("div",t+"-tip-container",s),this._tip=Re("div",t+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Re("a",t+"-close-button",s);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',Te(p,"click",function(y){dt(y),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,s=t.style;s.width="",s.whiteSpace="nowrap";var c=t.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),s.width=c+1+"px",s.whiteSpace="",s.height="";var p=t.offsetHeight,y=this.options.maxHeight,k="leaflet-popup-scrolled";y&&p>y?(s.height=y+"px",Oe(t,k)):it(t,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),c=this._getAnchor();gt(this._container,s.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,s=parseInt(Xr(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+s,p=this._containerWidth,y=new K(this._containerLeft,-c-this._containerBottom);y._add(Hn(this._container));var k=t.layerPointToContainerPoint(y),z=Z(this.options.autoPanPadding),D=Z(this.options.autoPanPaddingTopLeft||z),W=Z(this.options.autoPanPaddingBottomRight||z),J=t.getSize(),ae=0,Se=0;k.x+p+W.x>J.x&&(ae=k.x+p-J.x+W.x),k.x-ae-D.x<0&&(ae=k.x-D.x),k.y+c+W.y>J.y&&(Se=k.y+c-J.y+W.y),k.y-Se-D.y<0&&(Se=k.y-D.y),(ae||Se)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([ae,Se]))}},_getAnchor:function(){return Z(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gr=function(t,s){return new Ys(t,s)};Be.mergeOptions({closePopupOnClick:!0}),Be.include({openPopup:function(t,s,c){return this._initOverlay(Ys,t,s,c).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),vn.include({bindPopup:function(t,s){return this._popup=this._initOverlay(Ys,this._popup,t,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Vn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){mn(t);var s=t.layer||t.target;if(this._popup._source===s&&!(s instanceof hi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=s,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var vr=jn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){jn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){jn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=jn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",s=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Re("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+_(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var s,c,p=this._map,y=this._container,k=p.latLngToContainerPoint(p.getCenter()),z=p.layerPointToContainerPoint(t),D=this.options.direction,W=y.offsetWidth,J=y.offsetHeight,ae=Z(this.options.offset),Se=this._getAnchor();D==="top"?(s=W/2,c=J):D==="bottom"?(s=W/2,c=0):D==="center"?(s=W/2,c=J/2):D==="right"?(s=0,c=J/2):D==="left"?(s=W,c=J/2):z.x<k.x?(D="right",s=0,c=J/2):(D="left",s=W+(ae.x+Se.x)*2,c=J/2),t=t.subtract(Z(s,c,!0)).add(ae).add(Se),it(y,"leaflet-tooltip-right"),it(y,"leaflet-tooltip-left"),it(y,"leaflet-tooltip-top"),it(y,"leaflet-tooltip-bottom"),Oe(y,"leaflet-tooltip-"+D),gt(y,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&At(this._container,t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(s)},_getAnchor:function(){return Z(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),us=function(t,s){return new vr(t,s)};Be.include({openTooltip:function(t,s,c){return this._initOverlay(vr,t,s,c).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),vn.include({bindTooltip:function(t,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(vr,this._tooltip,t,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var s=t?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[s](c),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Vn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&(Te(s,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Te(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var s=t.latlng,c,p;this._tooltip.options.sticky&&t.originalEvent&&(c=this._map.mouseEventToContainerPoint(t.originalEvent),p=this._map.containerPointToLayerPoint(c),s=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(s)}});var Xs=Ii.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var s=t&&t.tagName==="DIV"?t:document.createElement("div"),c=this.options;if(c.html instanceof Element?(Ns(s),s.appendChild(c.html)):s.innerHTML=c.html!==!1?c.html:"",c.bgPos){var p=Z(c.bgPos);s.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function hl(t){return new Xs(t)}Ii.Default=fr;var fi=vn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:A.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){U(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ot(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(sr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=w(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof K?t:new K(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var s=this.getPane().children,c=-t(-1/0,1/0),p=0,y=s.length,k;p<y;p++)k=s[p].style.zIndex,s[p]!==this._container&&k&&(c=t(c,+k));isFinite(c)&&(this.options.zIndex=c+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!A.ielt9){At(this._container,this.options.opacity);var t=+new Date,s=!1,c=!1;for(var p in this._tiles){var y=this._tiles[p];if(!(!y.current||!y.loaded)){var k=Math.min(1,(t-y.loaded)/200);At(y.el,k),k<1?s=!0:(y.active?c=!0:this._onOpaqueTile(y),y.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),s&&(We(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=Re("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,s=this.options.maxZoom;if(t!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===t?(this._levels[c].el.style.zIndex=s-Math.abs(t-c),this._onUpdateLevel(c)):(ot(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var p=this._levels[t],y=this._map;return p||(p=this._levels[t]={},p.el=Re("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=s,p.origin=y.project(y.unproject(y.getPixelOrigin()),t).round(),p.zoom=t,this._setZoomTransform(p,y.getCenter(),y.getZoom()),x(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var t,s,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)s=this._tiles[t],s.retain=s.current;for(t in this._tiles)if(s=this._tiles[t],s.current&&!s.active){var p=s.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var s in this._tiles)this._tiles[s].coords.z===t&&this._removeTile(s)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ot(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,s,c,p){var y=Math.floor(t/2),k=Math.floor(s/2),z=c-1,D=new K(+y,+k);D.z=+z;var W=this._tileCoordsToKey(D),J=this._tiles[W];return J&&J.active?(J.retain=!0,!0):(J&&J.loaded&&(J.retain=!0),z>p?this._retainParent(y,k,z,p):!1)},_retainChildren:function(t,s,c,p){for(var y=2*t;y<2*t+2;y++)for(var k=2*s;k<2*s+2;k++){var z=new K(y,k);z.z=c+1;var D=this._tileCoordsToKey(z),W=this._tiles[D];if(W&&W.active){W.retain=!0;continue}else W&&W.loaded&&(W.retain=!0);c+1<p&&this._retainChildren(y,k,c+1,p)}},_resetView:function(t){var s=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var s=this.options;return s.minNativeZoom!==void 0&&t<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<t?s.maxNativeZoom:t},_setView:function(t,s,c,p){var y=Math.round(s);this.options.maxZoom!==void 0&&y>this.options.maxZoom||this.options.minZoom!==void 0&&y<this.options.minZoom?y=void 0:y=this._clampZoom(y);var k=this.options.updateWhenZooming&&y!==this._tileZoom;(!p||k)&&(this._tileZoom=y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),y!==void 0&&this._update(t),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(t,s)},_setZoomTransforms:function(t,s){for(var c in this._levels)this._setZoomTransform(this._levels[c],t,s)},_setZoomTransform:function(t,s,c){var p=this._map.getZoomScale(c,t.zoom),y=t.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(s,c)).round();A.any3d?fn(t.el,y,p):gt(t.el,y)},_resetGrid:function(){var t=this._map,s=t.options.crs,c=this._tileSize=this.getTileSize(),p=this._tileZoom,y=this._map.getPixelWorldBounds(this._tileZoom);y&&(this._globalTileRange=this._pxBoundsToTileRange(y)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,s.wrapLng[0]],p).x/c.x),Math.ceil(t.project([0,s.wrapLng[1]],p).x/c.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([s.wrapLat[0],0],p).y/c.x),Math.ceil(t.project([s.wrapLat[1],0],p).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var s=this._map,c=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),p=s.getZoomScale(c,this._tileZoom),y=s.project(t,this._tileZoom).floor(),k=s.getSize().divideBy(p*2);return new T(y.subtract(k),y.add(k))},_update:function(t){var s=this._map;if(s){var c=this._clampZoom(s.getZoom());if(t===void 0&&(t=s.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(t),y=this._pxBoundsToTileRange(p),k=y.getCenter(),z=[],D=this.options.keepBuffer,W=new T(y.getBottomLeft().subtract([D,-D]),y.getTopRight().add([D,-D]));if(!(isFinite(y.min.x)&&isFinite(y.min.y)&&isFinite(y.max.x)&&isFinite(y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var J in this._tiles){var ae=this._tiles[J].coords;(ae.z!==this._tileZoom||!W.contains(new K(ae.x,ae.y)))&&(this._tiles[J].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(t,c);return}for(var Se=y.min.y;Se<=y.max.y;Se++)for(var Ie=y.min.x;Ie<=y.max.x;Ie++){var kt=new K(Ie,Se);if(kt.z=this._tileZoom,!!this._isValidTile(kt)){var wt=this._tiles[this._tileCoordsToKey(kt)];wt?wt.current=!0:z.push(kt)}}if(z.sort(function(Dt,xr){return Dt.distanceTo(k)-xr.distanceTo(k)}),z.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Vt=document.createDocumentFragment();for(Ie=0;Ie<z.length;Ie++)this._addTile(z[Ie],Vt);this._level.el.appendChild(Vt)}}}},_isValidTile:function(t){var s=this._map.options.crs;if(!s.infinite){var c=this._globalTileRange;if(!s.wrapLng&&(t.x<c.min.x||t.x>c.max.x)||!s.wrapLat&&(t.y<c.min.y||t.y>c.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(t);return ge(this.options.bounds).overlaps(p)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var s=this._map,c=this.getTileSize(),p=t.scaleBy(c),y=p.add(c),k=s.unproject(p,t.z),z=s.unproject(y,t.z);return[k,z]},_tileCoordsToBounds:function(t){var s=this._tileCoordsToNwSe(t),c=new ce(s[0],s[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var s=t.split(":"),c=new K(+s[0],+s[1]);return c.z=+s[2],c},_removeTile:function(t){var s=this._tiles[t];s&&(ot(s.el),delete this._tiles[t],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Oe(t,"leaflet-tile");var s=this.getTileSize();t.style.width=s.x+"px",t.style.height=s.y+"px",t.onselectstart=x,t.onmousemove=x,A.ielt9&&this.options.opacity<1&&At(t,this.options.opacity)},_addTile:function(t,s){var c=this._getTilePos(t),p=this._tileCoordsToKey(t),y=this.createTile(this._wrapCoords(t),f(this._tileReady,this,t));this._initTile(y),this.createTile.length<2&&ke(f(this._tileReady,this,t,null,y)),gt(y,c),this._tiles[p]={el:y,coords:t,current:!0},s.appendChild(y),this.fire("tileloadstart",{tile:y,coords:t})},_tileReady:function(t,s,c){s&&this.fire("tileerror",{error:s,tile:c,coords:t});var p=this._tileCoordsToKey(t);c=this._tiles[p],c&&(c.loaded=+new Date,this._map._fadeAnimated?(At(c.el,0),We(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),s||(Oe(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),A.ielt9||!this._map._fadeAnimated?ke(this._pruneTiles,this):setTimeout(f(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var s=new K(this._wrapX?S(t.x,this._wrapX):t.x,this._wrapY?S(t.y,this._wrapY):t.y);return s.z=t.z,s},_pxBoundsToTileRange:function(t){var s=this.getTileSize();return new T(t.min.unscaleBy(s).floor(),t.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function _r(t){return new fi(t)}var pi=fi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,s){this._url=t,s=U(this,s),s.detectRetina&&A.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,s){return this._url===t&&s===void 0&&(s=!0),this._url=t,s||this.redraw(),this},createTile:function(t,s){var c=document.createElement("img");return Te(c,"load",f(this._tileOnLoad,this,s,c)),Te(c,"error",f(this._tileOnError,this,s,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(t),c},getTileUrl:function(t){var s={r:A.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-t.y;this.options.tms&&(s.y=c),s["-y"]=c}return ne(this._url,u(s,this.options))},_tileOnLoad:function(t,s){A.ielt9?setTimeout(f(t,this,null,s),0):t(null,s)},_tileOnError:function(t,s,c){var p=this.options.errorTileUrl;p&&s.getAttribute("src")!==p&&(s.src=p),t(c,s)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,s=this.options.maxZoom,c=this.options.zoomReverse,p=this.options.zoomOffset;return c&&(t=s-t),t+p},_getSubdomain:function(t){var s=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var t,s;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(s=this._tiles[t].el,s.onload=x,s.onerror=x,!s.complete)){s.src=re;var c=this._tiles[t].coords;ot(s),delete this._tiles[t],this.fire("tileabort",{tile:s,coords:c})}},_removeTile:function(t){var s=this._tiles[t];if(s)return s.el.setAttribute("src",re),fi.prototype._removeTile.call(this,t)},_tileReady:function(t,s,c){if(!(!this._map||c&&c.getAttribute("src")===re))return fi.prototype._tileReady.call(this,t,s,c)}});function aa(t,s){return new pi(t,s)}var cs=pi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,s){this._url=t;var c=u({},this.defaultWmsParams);for(var p in s)p in this.options||(c[p]=s[p]);s=U(this,s);var y=s.detectRetina&&A.retina?2:1,k=this.getTileSize();c.width=k.x*y,c.height=k.y*y,this.wmsParams=c},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,pi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var s=this._tileCoordsToNwSe(t),c=this._crs,p=q(c.project(s[0]),c.project(s[1])),y=p.min,k=p.max,z=(this._wmsVersion>=1.3&&this._crs===rl?[y.y,y.x,k.y,k.x]:[y.x,y.y,k.x,k.y]).join(","),D=pi.prototype.getTileUrl.call(this,t);return D+F(this.wmsParams,D,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+z},setParams:function(t,s){return u(this.wmsParams,t),s||this.redraw(),this}});function dl(t,s){return new cs(t,s)}pi.WMS=cs,aa.wms=dl;var On=vn.extend({options:{padding:.1},initialize:function(t){U(this,t),_(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Oe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,s){var c=this._map.getZoomScale(s,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),y=this._map.project(this._center,s),k=p.multiplyBy(-c).add(y).subtract(this._map._getNewPixelOrigin(t,s));A.any3d?fn(this._container,k,c):gt(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,s=this._map.getSize(),c=this._map.containerPointToLayerPoint(s.multiplyBy(-t)).round();this._bounds=new T(c,c.add(s.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),la=On.extend({options:{tolerance:0},getEvents:function(){var t=On.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){On.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Te(t,"mousemove",this._onMouseMove,this),Te(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){We(this._redrawRequest),delete this._ctx,ot(this._container),Qe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var s in this._layers)t=this._layers[s],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){On.prototype._update.call(this);var t=this._bounds,s=this._container,c=t.getSize(),p=A.retina?2:1;gt(s,t.min),s.width=p*c.x,s.height=p*c.y,s.style.width=c.x+"px",s.style.height=c.y+"px",A.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){On.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[_(t)]=t;var s=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var s=t._order,c=s.next,p=s.prev;c?c.prev=p:this._drawLast=p,p?p.next=c:this._drawFirst=c,delete t._order,delete this._layers[_(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var s=t.options.dashArray.split(/[, ]+/),c=[],p,y;for(y=0;y<s.length;y++){if(p=Number(s[y]),isNaN(p))return;c.push(p)}t.options._dashArray=c}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||ke(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var s=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new T,this._redrawBounds.extend(t._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(t._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var s=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,s=this._redrawBounds;if(this._ctx.save(),s){var c=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)t=p.layer,(!s||t._pxBounds&&t._pxBounds.intersects(s))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,s){if(this._drawing){var c,p,y,k,z=t._parts,D=z.length,W=this._ctx;if(D){for(W.beginPath(),c=0;c<D;c++){for(p=0,y=z[c].length;p<y;p++)k=z[c][p],W[p?"lineTo":"moveTo"](k.x,k.y);s&&W.closePath()}this._fillStroke(W,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var s=t._point,c=this._ctx,p=Math.max(Math.round(t._radius),1),y=(Math.max(Math.round(t._radiusY),1)||p)/p;y!==1&&(c.save(),c.scale(1,y)),c.beginPath(),c.arc(s.x,s.y/y,p,0,Math.PI*2,!1),y!==1&&c.restore(),this._fillStroke(c,t)}},_fillStroke:function(t,s){var c=s.options;c.fill&&(t.globalAlpha=c.fillOpacity,t.fillStyle=c.fillColor||c.color,t.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(t.setLineDash&&t.setLineDash(s.options&&s.options._dashArray||[]),t.globalAlpha=c.opacity,t.lineWidth=c.weight,t.strokeStyle=c.color,t.lineCap=c.lineCap,t.lineJoin=c.lineJoin,t.stroke())},_onClick:function(t){for(var s=this._map.mouseEventToLayerPoint(t),c,p,y=this._drawFirst;y;y=y.next)c=y.layer,c.options.interactive&&c._containsPoint(s)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(c))&&(p=c);this._fireEvent(p?[p]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,s)}},_handleMouseOut:function(t){var s=this._hoveredLayer;s&&(it(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,s){if(!this._mouseHoverThrottled){for(var c,p,y=this._drawFirst;y;y=y.next)c=y.layer,c.options.interactive&&c._containsPoint(s)&&(p=c);p!==this._hoveredLayer&&(this._handleMouseOut(t),p&&(Oe(this._container,"leaflet-interactive"),this._fireEvent([p],t,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(f(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,s,c){this._map._fireDOMEvent(s,c||s.type,t)},_bringToFront:function(t){var s=t._order;if(s){var c=s.next,p=s.prev;if(c)c.prev=p;else return;p?p.next=c:c&&(this._drawFirst=c),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(t)}},_bringToBack:function(t){var s=t._order;if(s){var c=s.next,p=s.prev;if(p)p.next=c;else return;c?c.prev=p:p&&(this._drawLast=p),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(t)}}});function ua(t){return A.canvas?new la(t):null}var yr=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),fl={_initContainer:function(){this._container=Re("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(On.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var s=t._container=yr("shape");Oe(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",t._path=yr("path"),s.appendChild(t._path),this._updateStyle(t),this._layers[_(t)]=t},_addPath:function(t){var s=t._container;this._container.appendChild(s),t.options.interactive&&t.addInteractiveTarget(s)},_removePath:function(t){var s=t._container;ot(s),t.removeInteractiveTarget(s),delete this._layers[_(t)]},_updateStyle:function(t){var s=t._stroke,c=t._fill,p=t.options,y=t._container;y.stroked=!!p.stroke,y.filled=!!p.fill,p.stroke?(s||(s=t._stroke=yr("stroke")),y.appendChild(s),s.weight=p.weight+"px",s.color=p.color,s.opacity=p.opacity,p.dashArray?s.dashStyle=G(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=p.lineCap.replace("butt","flat"),s.joinstyle=p.lineJoin):s&&(y.removeChild(s),t._stroke=null),p.fill?(c||(c=t._fill=yr("fill")),y.appendChild(c),c.color=p.fillColor||p.color,c.opacity=p.fillOpacity):c&&(y.removeChild(c),t._fill=null)},_updateCircle:function(t){var s=t._point.round(),c=Math.round(t._radius),p=Math.round(t._radiusY||c);this._setPath(t,t._empty()?"M0 0":"AL "+s.x+","+s.y+" "+c+","+p+" 0,"+65535*360)},_setPath:function(t,s){t._path.v=s},_bringToFront:function(t){sr(t._container)},_bringToBack:function(t){Zn(t._container)}},yn=A.vml?yr:Sn,Ai=On.extend({_initContainer:function(){this._container=yn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=yn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ot(this._container),Qe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){On.prototype._update.call(this);var t=this._bounds,s=t.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,c.setAttribute("width",s.x),c.setAttribute("height",s.y)),gt(c,t.min),c.setAttribute("viewBox",[t.min.x,t.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(t){var s=t._path=yn("path");t.options.className&&Oe(s,t.options.className),t.options.interactive&&Oe(s,"leaflet-interactive"),this._updateStyle(t),this._layers[_(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ot(t._path),t.removeInteractiveTarget(t._path),delete this._layers[_(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var s=t._path,c=t.options;s&&(c.stroke?(s.setAttribute("stroke",c.color),s.setAttribute("stroke-opacity",c.opacity),s.setAttribute("stroke-width",c.weight),s.setAttribute("stroke-linecap",c.lineCap),s.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?s.setAttribute("stroke-dasharray",c.dashArray):s.removeAttribute("stroke-dasharray"),c.dashOffset?s.setAttribute("stroke-dashoffset",c.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),c.fill?(s.setAttribute("fill",c.fillColor||c.color),s.setAttribute("fill-opacity",c.fillOpacity),s.setAttribute("fill-rule",c.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(t,s){this._setPath(t,Vr(t._parts,s))},_updateCircle:function(t){var s=t._point,c=Math.max(Math.round(t._radius),1),p=Math.max(Math.round(t._radiusY),1)||c,y="a"+c+","+p+" 0 1,0 ",k=t._empty()?"M0 0":"M"+(s.x-c)+","+s.y+y+c*2+",0 "+y+-c*2+",0 ";this._setPath(t,k)},_setPath:function(t,s){t._path.setAttribute("d",s)},_bringToFront:function(t){sr(t._path)},_bringToBack:function(t){Zn(t._path)}});A.vml&&Ai.include(fl);function eo(t){return A.svg||A.vml?new Ai(t):null}Be.include({getRenderer:function(t){var s=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var s=this._paneRenderers[t];return s===void 0&&(s=this._createRenderer({pane:t}),this._paneRenderers[t]=s),s},_createRenderer:function(t){return this.options.preferCanvas&&ua(t)||eo(t)}});var pl=Kn.extend({initialize:function(t,s){Kn.prototype.initialize.call(this,this._boundsToLatLngs(t),s)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ge(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Au(t,s){return new pl(t,s)}Ai.create=yn,Ai.pointsToPath=Vr,zn.geometryToLayer=pr,zn.coordsToLatLng=Ks,zn.coordsToLatLngs=ls,zn.latLngToCoords=Gs,zn.latLngsToCoords=Js,zn.getFeature=mr,zn.asFeature=Qs,Be.mergeOptions({boxZoom:!0});var wr=Yt.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Qe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ot(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),He(),As(),this._startPoint=this._map.mouseEventToContainerPoint(t),Te(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Re("div","leaflet-zoom-box",this._container),Oe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var s=new T(this._point,this._startPoint),c=s.getSize();gt(this._box,s.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(ot(this._box),it(this._container,"leaflet-crosshair")),lr(),Ms(),Qe(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(f(this._resetState,this),0);var s=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Be.addInitHook("addHandler","boxZoom",wr),Be.mergeOptions({doubleClickZoom:!0});var ml=Yt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var s=this._map,c=s.getZoom(),p=s.options.zoomDelta,y=t.originalEvent.shiftKey?c-p:c+p;s.options.doubleClickZoom==="center"?s.setZoom(y):s.setZoomAround(t.containerPoint,y)}});Be.addInitHook("addHandler","doubleClickZoom",ml),Be.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ca=Yt.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new gn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Oe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){it(this._map._container,"leaflet-grab"),it(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=ge(this._map.options.maxBounds);this._offsetLimit=q(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var s=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(s),this._prunePositions(s)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,s){return t-(t-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;t.x<s.min.x&&(t.x=this._viscousLimit(t.x,s.min.x)),t.y<s.min.y&&(t.y=this._viscousLimit(t.y,s.min.y)),t.x>s.max.x&&(t.x=this._viscousLimit(t.x,s.max.x)),t.y>s.max.y&&(t.y=this._viscousLimit(t.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,s=Math.round(t/2),c=this._initialWorldOffset,p=this._draggable._newPos.x,y=(p-s+c)%t+s-c,k=(p+s+c)%t-s-c,z=Math.abs(y+c)<Math.abs(k+c)?y:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=z},_onDragEnd:function(t){var s=this._map,c=s.options,p=!c.inertia||t.noInertia||this._times.length<2;if(s.fire("dragend",t),p)s.fire("moveend");else{this._prunePositions(+new Date);var y=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,z=c.easeLinearity,D=y.multiplyBy(z/k),W=D.distanceTo([0,0]),J=Math.min(c.inertiaMaxSpeed,W),ae=D.multiplyBy(J/W),Se=J/(c.inertiaDeceleration*z),Ie=ae.multiplyBy(-Se/2).round();!Ie.x&&!Ie.y?s.fire("moveend"):(Ie=s._limitOffset(Ie,s.options.maxBounds),ke(function(){s.panBy(Ie,{duration:Se,easeLinearity:z,noMoveStart:!0,animate:!0})}))}}});Be.addInitHook("addHandler","dragging",ca),Be.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ha=Yt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Te(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Qe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,s=document.documentElement,c=t.scrollTop||s.scrollTop,p=t.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(p,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var s=this._panKeys={},c=this.keyCodes,p,y;for(p=0,y=c.left.length;p<y;p++)s[c.left[p]]=[-1*t,0];for(p=0,y=c.right.length;p<y;p++)s[c.right[p]]=[t,0];for(p=0,y=c.down.length;p<y;p++)s[c.down[p]]=[0,t];for(p=0,y=c.up.length;p<y;p++)s[c.up[p]]=[0,-1*t]},_setZoomDelta:function(t){var s=this._zoomKeys={},c=this.keyCodes,p,y;for(p=0,y=c.zoomIn.length;p<y;p++)s[c.zoomIn[p]]=t;for(p=0,y=c.zoomOut.length;p<y;p++)s[c.zoomOut[p]]=-t},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Qe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var s=t.keyCode,c=this._map,p;if(s in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(p=this._panKeys[s],t.shiftKey&&(p=Z(p).multiplyBy(3)),c.options.maxBounds&&(p=c._limitOffset(Z(p),c.options.maxBounds)),c.options.worldCopyJump){var y=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(p)));c.panTo(y)}else c.panBy(p)}else if(s in this._zoomKeys)c.setZoom(c.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;mn(t)}}});Be.addInitHook("addHandler","keyboard",ha),Be.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ye=Yt.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Qe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var s=Ja(t),c=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var p=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(f(this._performZoom,this),p),mn(t)},_performZoom:function(){var t=this._map,s=t.getZoom(),c=this._map.options.zoomSnap||0;t._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),y=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,k=c?Math.ceil(y/c)*c:y,z=t._limitZoom(s+(this._delta>0?k:-k))-s;this._delta=0,this._startTime=null,z&&(t.options.scrollWheelZoom==="center"?t.setZoom(s+z):t.setZoomAround(this._lastMousePos,s+z))}});Be.addInitHook("addHandler","scrollWheelZoom",Ye);var da=600;Be.mergeOptions({tapHold:A.touchNative&&A.safari&&A.mobile,tapTolerance:15});var hs=Yt.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Qe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var s=t.touches[0];this._startPos=this._newPos=new K(s.clientX,s.clientY),this._holdTimeout=setTimeout(f(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",dt),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),da),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Qe(document,"touchend",dt),Qe(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Qe(document,"touchend touchcancel contextmenu",this._cancel,this),Qe(document,"touchmove",this._onMove,this)},_onMove:function(t){var s=t.touches[0];this._newPos=new K(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,s){var c=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});c._simulated=!0,s.target.dispatchEvent(c)}});Be.addInitHook("addHandler","tapHold",hs),Be.mergeOptions({touchZoom:A.touch,bounceAtZoomLimits:!0});var br=Yt.extend({addHooks:function(){Oe(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){it(this._map._container,"leaflet-touch-zoom"),Qe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var s=this._map;if(!(!t.touches||t.touches.length!==2||s._animatingZoom||this._zooming)){var c=s.mouseEventToContainerPoint(t.touches[0]),p=s.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(c.add(p)._divideBy(2))),this._startDist=c.distanceTo(p),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),dt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var s=this._map,c=s.mouseEventToContainerPoint(t.touches[0]),p=s.mouseEventToContainerPoint(t.touches[1]),y=c.distanceTo(p)/this._startDist;if(this._zoom=s.getScaleZoom(y,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&y<1||this._zoom>s.getMaxZoom()&&y>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,y===1)return}else{var k=c._add(p)._divideBy(2)._subtract(this._centerPoint);if(y===1&&k.x===0&&k.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),We(this._animRequest);var z=f(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ke(z,this,!0),dt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,We(this._animRequest),Qe(document,"touchmove",this._onTouchMove,this),Qe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Be.addInitHook("addHandler","touchZoom",br),Be.BoxZoom=wr,Be.DoubleClickZoom=ml,Be.Drag=ca,Be.Keyboard=ha,Be.ScrollWheelZoom=Ye,Be.TapHold=hs,Be.TouchZoom=br,r.Bounds=T,r.Browser=A,r.CRS=Ce,r.Canvas=la,r.Circle=Vs,r.CircleMarker=Ws,r.Class=Ue,r.Control=Ht,r.DivIcon=Xs,r.DivOverlay=jn,r.DomEvent=$s,r.DomUtil=ns,r.Draggable=gn,r.Evented=Le,r.FeatureGroup=Vn,r.GeoJSON=zn,r.GridLayer=fi,r.Handler=Yt,r.Icon=Ii,r.ImageOverlay=di,r.LatLng=pe,r.LatLngBounds=ce,r.Layer=vn,r.LayerGroup=ci,r.LineUtil=il,r.Map=Be,r.Marker=qn,r.Mixin=Go,r.Path=hi,r.Point=K,r.PolyUtil=Pu,r.Polygon=Kn,r.Polyline=Wt,r.Popup=Ys,r.PosAnimation=Fs,r.Projection=zu,r.Rectangle=pl,r.Renderer=On,r.SVG=Ai,r.SVGOverlay=sa,r.TileLayer=pi,r.Tooltip=vr,r.Transformation=kn,r.Util=Me,r.VideoOverlay=ra,r.bind=f,r.bounds=q,r.canvas=ua,r.circle=as,r.circleMarker=al,r.control=ui,r.divIcon=hl,r.extend=u,r.featureGroup=sl,r.geoJSON=ll,r.geoJson=_n,r.gridLayer=_r,r.icon=ol,r.imageOverlay=ul,r.latLng=he,r.latLngBounds=ge,r.layerGroup=os,r.map=li,r.marker=Nu,r.point=Z,r.polygon=Iu,r.polyline=Ru,r.popup=gr,r.rectangle=Au,r.setOptions=U,r.stamp=_,r.svg=eo,r.svgOverlay=oa,r.tileLayer=aa,r.tooltip=us,r.transformation=ni,r.version=a,r.videoOverlay=cl;var gl=window.L;r.noConflict=function(){return window.L=gl,this},window.L=r}))})(ja,ja.exports)),ja.exports}var Wr=Ry();const Va=vu(Wr);function Uo(l,i,r){return Object.freeze({instance:l,context:i,container:r})}function qa(l,i){return i==null?function(a,u){const d=I.useRef();return d.current||(d.current=l(a,u)),d}:function(a,u){const d=I.useRef();d.current||(d.current=l(a,u));const f=I.useRef(a),{instance:g}=d.current;return I.useEffect(function(){f.current!==a&&(i(g,a,f.current),f.current=a)},[g,a,u]),d}}function nm(l,i){I.useEffect(function(){return(i.layerContainer??i.map).addLayer(l.instance),function(){i.layerContainer?.removeLayer(l.instance),i.map.removeLayer(l.instance)}},[i,l])}function im(l){return function(r){const a=Do(),u=l(wu(r,a),a);return em(a.map,r.attribution),Ih(u.current,r.eventHandlers),nm(u.current,a),u}}function Iy(l,i){const r=I.useRef();I.useEffect(function(){if(i.pathOptions!==r.current){const u=i.pathOptions??{};l.instance.setStyle(u),r.current=u}},[l,i])}function Ay(l){return function(r){const a=Do(),u=l(wu(r,a),a);return Ih(u.current,r.eventHandlers),nm(u.current,a),Iy(u.current,r),u}}function My(l,i){const r=qa(l,i),a=im(r);return Rh(a)}function Dy(l,i){const r=qa(l),a=Oy(r,i);return Ty(a)}function rm(l,i){const r=qa(l,i),a=Ay(r);return Rh(a)}function Uy(l,i){const r=qa(l,i),a=im(r);return zy(a)}function $y(l,i,r){const{opacity:a,zIndex:u}=i;a!=null&&a!==r.opacity&&l.setOpacity(a),u!=null&&u!==r.zIndex&&l.setZIndex(u)}function sm(){return Do().map}function Fy(l){const i=sm();return I.useEffect(function(){return i.on(l),function(){i.off(l)}},[i,l]),i}const By=qa(function({children:i,...r},a){const u=new Wr.Control.Layers(void 0,void 0,r);return Uo(u,Wa(a,{layersControl:u}))},function(i,r,a){r.collapsed!==a.collapsed&&(r.collapsed===!0?i.collapse():i.expand())}),Zy=jy(By),jo=Rh(Zy);function om(l){return function(r){const a=Do(),u=I.useRef(r),[d,f]=I.useState(null),{layersControl:g,map:_}=a,w=I.useCallback(j=>{g!=null&&(u.current.checked&&_.addLayer(j),l(g,j,u.current.name),f(j))},[g,_]),S=I.useCallback(j=>{g?.removeLayer(j),f(null)},[g]),x=I.useMemo(()=>Wa(a,{layerContainer:{addLayer:w,removeLayer:S}}),[a,w,S]);return I.useEffect(()=>{d!==null&&u.current!==r&&(r.checked===!0&&(u.current.checked==null||u.current.checked===!1)?_.addLayer(d):u.current.checked===!0&&(r.checked==null||r.checked===!1)&&_.removeLayer(d),u.current=r)}),r.children?Oo.createElement(Nh,{value:x},r.children):null}}jo.BaseLayer=om(function(i,r,a){i.addBaseLayer(r,a)});jo.Overlay=om(function(i,r,a){i.addOverlay(r,a)});function wh(){return wh=Object.assign||function(l){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])}return l},wh.apply(this,arguments)}function Hy({bounds:l,boundsOptions:i,center:r,children:a,className:u,id:d,placeholder:f,style:g,whenReady:_,zoom:w,...S},x){const[j]=I.useState({className:u,id:d,style:g}),[R,M]=I.useState(null);I.useImperativeHandle(x,()=>R?.map??null,[R]);const U=I.useCallback(ee=>{if(ee!==null&&R===null){const ne=new Wr.Map(ee,S);r!=null&&w!=null?ne.setView(r,w):l!=null&&ne.fitBounds(l,i),_!=null&&ne.whenReady(_),M(Ly(ne))}},[]);I.useEffect(()=>()=>{R?.map.remove()},[R]);const F=R?Oo.createElement(Nh,{value:R},a):f??null;return Oo.createElement("div",wh({},j,{ref:U}),F)}const Ah=I.forwardRef(Hy),fu=My(function({position:i,...r},a){const u=new Wr.Marker(i,r);return Uo(u,Wa(a,{overlayContainer:u}))},function(i,r,a){r.position!==a.position&&i.setLatLng(r.position),r.icon!=null&&r.icon!==a.icon&&i.setIcon(r.icon),r.zIndexOffset!=null&&r.zIndexOffset!==a.zIndexOffset&&i.setZIndexOffset(r.zIndexOffset),r.opacity!=null&&r.opacity!==a.opacity&&i.setOpacity(r.opacity),i.dragging!=null&&r.draggable!==a.draggable&&(r.draggable===!0?i.dragging.enable():i.dragging.disable())}),op=rm(function({positions:i,...r},a){const u=new Wr.Polygon(i,r);return Uo(u,Wa(a,{overlayContainer:u}))},function(i,r,a){r.positions!==a.positions&&i.setLatLngs(r.positions)}),Wy=rm(function({positions:i,...r},a){const u=new Wr.Polyline(i,r);return Uo(u,Wa(a,{overlayContainer:u}))},function(i,r,a){r.positions!==a.positions&&i.setLatLngs(r.positions)}),Cs=Dy(function(i,r){const a=new Wr.Popup(i,r.overlayContainer);return Uo(a,r)},function(i,r,{position:a},u){I.useEffect(function(){const{instance:f}=i;function g(w){w.popup===f&&(f.update(),u(!0))}function _(w){w.popup===f&&u(!1)}return r.map.on({popupopen:g,popupclose:_}),r.overlayContainer==null?(a!=null&&f.setLatLng(a),f.openOn(r.map)):r.overlayContainer.bindPopup(f),function(){r.map.off({popupopen:g,popupclose:_}),r.overlayContainer?.unbindPopup(),r.map.removeLayer(f)}},[i,r,u,a])}),Ia=Uy(function({url:i,...r},a){const u=new Wr.TileLayer(i,wu(r,a));return Uo(u,a)},function(i,r,a){$y(i,r,a);const{url:u}=r;u!=null&&u!==a.url&&i.setUrl(u)});delete Va.Icon.Default.prototype._getIconUrl;Va.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function Vy({onLocationSelected:l,initialPosition:i}){const[r,a]=I.useState(i),u=Fy({click(d){const f=d.latlng;a(f),l(f),u.flyTo(f,u.getZoom())}});return I.useEffect(()=>{i&&(a(i),u.flyTo(i,u.getZoom()))},[i,u]),r===null?null:P.jsx(fu,{position:r,children:P.jsx(Cs,{children:"Kivlasztott hely"})})}const qy=({onLocationSelected:l,initialLat:i,initialLng:r})=>{const[a,u]=I.useState(null);I.useEffect(()=>{i&&r&&u([i,r])},[i,r]);const d=f=>{u([f.lat,f.lng]),l(f)};return P.jsxs("div",{style:{height:"400px",width:"100%",marginBottom:"20px"},children:[P.jsxs(Ah,{center:a||[47.4979,19.0402],zoom:13,style:{height:"100%",width:"100%"},children:[P.jsx(Ia,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),P.jsx(Vy,{onLocationSelected:d,initialPosition:a})]}),a&&P.jsxs("div",{style:{marginTop:"10px"},children:[P.jsx("strong",{children:"Kivlasztott koordintk:"}),P.jsx("br",{}),"Szlessg: ",a[0].toFixed(6),P.jsx("br",{}),"Hosszsg: ",a[1].toFixed(6)]})]})};delete Va.Icon.Default.prototype._getIconUrl;Va.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Ky=({missingPersons:l,markers:i})=>{const r=sm();return I.useEffect(()=>{const a=l.filter(d=>d.location?.lat&&d.location?.lng),u=i.filter(d=>d.type==="polygon"&&d.lat_lng?.coordinates||d.latitude&&d.longitude);if(a.length>0||u.length>0){const d=[...a.map(f=>[f.location.lat,f.location.lng]),...u.flatMap(f=>f.type==="polygon"&&f.lat_lng?.coordinates?f.lat_lng.coordinates.map(g=>[parseFloat(g[1]),parseFloat(g[0])]):[[parseFloat(f.latitude),parseFloat(f.longitude)]])];r.fitBounds(d,{padding:[50,50]})}else r.setView([47.4979,19.0402],13)},[l,i,r]),null},Gy=()=>{const{t:l}=Ao(),[i,r]=I.useState([]),[a,u]=I.useState([]),[d,f]=I.useState([]),[g,_]=I.useState(null),[w,S]=I.useState(null),[x,j]=I.useState(null),[R,M]=I.useState(""),[U,F]=I.useState("active"),[ee,ne]=I.useState(""),[G,Q]=I.useState(""),[re,se]=I.useState(""),[le,ve]=I.useState(""),[De,oe]=I.useState(null),[ke,We]=I.useState(""),[Me,Ue]=I.useState(""),[tt,ze]=I.useState(""),[Le,K]=I.useState(""),[H,Z]=I.useState(""),[T,q]=I.useState("searcher"),[ce,ge]=I.useState(null),[pe,he]=I.useState(!1),[Ce,we]=I.useState(!1),[Ge,lt]=I.useState(null),[kn,ni]=I.useState(!1),[an,bi]=I.useState([]),[Sn,Vr]=I.useState({openstreetmap:!0,turistautak:!1,satellite:!1}),[xi,ki]=I.useState([]),[Si,ii]=I.useState(!0),Pn=[{value:"child1-3",label:l("behavior-child1-3")},{value:"child4-6",label:l("behavior-child4-6")},{value:"hiker",label:l("behavior-hiker")},{value:"despondent",label:l("behavior-despondent")},{value:"hunter",label:l("behavior-hunter")},{value:"elderly",label:l("behavior-elderly")},{value:"default",label:l("behavior-default")}],Xe=I.useRef(new Map),Pi=I.useRef({});I.useEffect(()=>{if(w){const E=ee!==w.name||G!==w.age?.toString()||re!==w.height_cm?.toString()||le!==w.clothing||Me!==w.behavior_category||tt!==JSON.stringify(w.prob_zones||{})||Le!==w.location?.lat?.toString()||H!==w.location?.lng?.toString();ni(E)}},[ee,G,re,le,Me,tt,Le,H,w]),I.useEffect(()=>{ri(),zs();const E=ye.channel("search_events_changes").on("postgres_changes",{event:"*",schema:"public",table:"search_events"},()=>{ri()}).subscribe(),A=ye.channel("missing_persons_changes").on("postgres_changes",{event:"*",schema:"public",table:"missing_persons"},()=>{g&&En(g.id)}).subscribe(),be=ye.channel("event_participants_changes").on("postgres_changes",{event:"*",schema:"public",table:"event_participants"},()=>{g&&ln(g.id)}).subscribe(),ue=ye.channel("map_markers_changes").on("postgres_changes",{event:"*",schema:"public",table:"map_markers"},()=>{g&&un(g.id)}).subscribe(),$e=ye.channel("polygons_changes").on("postgres_changes",{event:"*",schema:"public",table:"polygons"},()=>{g&&un(g.id)}).subscribe(),Ve=ye.channel("gps_tracks_changes").on("postgres_changes",{event:"*",schema:"public",table:"gps_tracks"},()=>{g&&un(g.id)}).subscribe();return()=>{ye.removeChannel(E),ye.removeChannel(A),ye.removeChannel(be),ye.removeChannel(ue),ye.removeChannel($e),ye.removeChannel(Ve)}},[g]);const zs=async()=>{try{const{data:{user:E},error:A}=await ye.auth.getUser();if(A){console.error("Error getting user:",A),q("searcher");return}if(E){ge(E.id);const{data:be,error:ue}=await ye.from("users").select("role").eq("id",E.id).single();ue?(console.error("Error fetching user role:",ue),q("searcher")):q(be?.role||"searcher")}}catch(E){console.error("Error fetching current user:",E),q("searcher")}},ri=async()=>{try{we(!0),lt(null);const E="events",A=Xe.current.get(E);if(A){r(A),we(!1);return}console.log("Loading events from Supabase...");const{data:be,error:ue}=await ye.from("search_events").select("*");if(ue){console.error("Supabase error:",ue);const{data:$e,error:Ve}=await ye.from("search_events").select("id, name, status, start_time");if(Ve)throw console.error("Simple query also failed:",Ve),Ve;console.log("Events loaded with simple query:",$e),r($e||[]),Xe.current.set(E,$e||[])}else console.log("Events loaded successfully:",be),r(be||[]),Xe.current.set(E,be||[])}catch(E){console.error("Error loading events:",E),lt(l("error-loading-events")),r([])}finally{we(!1)}},En=async E=>{try{const A=`missing-persons-${E}`,be=Xe.current.get(A);if(be){u(be);return}const{data:ue,error:$e}=await ye.from("missing_persons").select("*").eq("event_id",E);if($e)throw $e;u(ue||[]),Xe.current.set(A,ue||[])}catch(A){console.error("Error loading missing persons:",A),lt(l("error-loading-missing-persons"))}},ln=async E=>{try{const A=`event-participants-${E}`,be=Xe.current.get(A);if(be){f(be);return}const{data:ue,error:$e}=await ye.from("event_participants").select(`
          *,
          user:users(full_name, phone_number, role)
        `).eq("event_id",E).order("joined_at",{ascending:!1});if($e)throw $e;f(ue||[]),Xe.current.set(A,ue||[])}catch(A){console.error("Error loading event participants:",A),lt(l("error-loading-participants"))}},un=async E=>{try{const A=`markers-${E}`,be=Xe.current.get(A);if(be){bi(be),qr(be);return}const[{data:ue,error:$e},{data:Ve,error:et},{data:mt,error:ht}]=await Promise.all([ye.from("map_markers").select(`
          *,
          user:users(full_name, phone_number)
        `).eq("event_id",E),ye.from("polygons").select(`
          *,
          user:users(full_name, phone_number)
        `).eq("event_id",E),ye.from("gps_tracks").select(`
          *,
          user:users(full_name, phone_number)
        `).eq("event_id",E)]);if($e||et||ht)throw console.error("Supabase error:",$e||et||ht),$e||et||ht;const Jt=[...(ue||[]).map(ut=>({...ut,type:"map_marker",lat_lng:ut.latitude&&ut.longitude?{coordinates:[ut.longitude,ut.latitude]}:null})),...(Ve||[]).map(ut=>{let Cn=null;if(ut.coordinates)try{const Qt=ut.coordinates.trim().replace(/\s+/g,"");Cn=JSON.parse(Qt)}catch(Qt){console.error("Error parsing polygon coordinates:",Qt,ut.coordinates);try{const Zt=ut.coordinates.match(/\[[^\]]+\]/g);Zt&&(Cn=Zt.map(cn=>{const hn=cn.match(/-?\d+\.\d+/g);return hn&&hn.length===2?[parseFloat(hn[0]),parseFloat(hn[1])]:null}).filter(Boolean))}catch(Zt){console.error("Fallback parsing also failed:",Zt)}}return{...ut,type:"polygon",lat_lng:Cn?{coordinates:Cn}:null}}),...(mt||[]).map(ut=>({...ut,type:"gps_track",lat_lng:ut.latitude&&ut.longitude?{coordinates:[ut.longitude,ut.latitude]}:null}))];console.log("All markers with user data:",Jt),bi(Jt||[]),Xe.current.set(A,Jt||[]),qr(Jt||[])}catch(A){console.error("Error loading markers:",A),lt(l("error-loading-markers"))}},qr=E=>{const A={};E.filter(ue=>ue.type==="gps_track").forEach(ue=>{if(!ue.user_id||!ue.latitude||!ue.longitude){console.log("Skipping marker - missing user_id or coordinates:",ue);return}A[ue.user_id]||(A[ue.user_id]=[]);const $e=parseFloat(ue.latitude),Ve=parseFloat(ue.longitude);!isNaN($e)&&!isNaN(Ve)&&A[ue.user_id].push([$e,Ve])}),console.log("Processed tracks:",A),Pi.current=A,ki(Object.values(A))},si=async E=>{if(E.preventDefault(),!["admin","coordinator"].includes(T)){alert(l("permission-denied"));return}try{we(!0);const{error:A}=await ye.from("search_events").insert({name:R,status:U,start_time:new Date().toISOString(),coordinator_id:ce});if(A)throw A;alert(l("event-create-success")),Xe.current.delete("events"),ri(),er()}catch(A){console.error("Error creating event:",A),alert(`${l("event-create-fail")} ${A.message}`)}finally{we(!1)}},oi=async E=>{if(E.preventDefault(),!["admin","coordinator"].includes(T)){alert(l("permission-denied"));return}try{we(!0);const{error:A}=await ye.from("search_events").update({name:R,status:U}).eq("id",x.id);if(A)throw A;alert(l("event-update-success")),Xe.current.delete("events"),ri(),er()}catch(A){console.error("Error updating event:",A),alert(`${l("event-update-fail")} ${A.message}`)}finally{we(!1)}},$o=async E=>{if(!["admin","coordinator"].includes(T)){alert(l("permission-denied"));return}if(window.confirm(l("confirm-delete")))try{we(!0);const{error:A}=await ye.from("missing_persons").delete().eq("event_id",E);A&&A.code!=="42P01"&&console.error("Error deleting missing persons:",A);const{error:be}=await ye.from("event_participants").delete().eq("event_id",E);be&&be.code!=="42P01"&&console.error("Error deleting participants:",be);try{const[{error:$e},{error:Ve},{error:et}]=await Promise.all([ye.from("map_markers").delete().eq("event_id",E),ye.from("polygons").delete().eq("event_id",E),ye.from("gps_tracks").delete().eq("event_id",E)]);$e&&$e.code!=="42P01"&&console.error("Error deleting map markers:",$e),Ve&&Ve.code!=="42P01"&&console.error("Error deleting polygons:",Ve),et&&et.code!=="42P01"&&console.error("Error deleting GPS tracks:",et)}catch($e){console.warn("Marker tables might not exist:",$e)}const{error:ue}=await ye.from("search_events").delete().eq("id",E);if(ue)if(ue.code==="42501")alert(l("permission-denied-delete"));else throw ue;else alert(l("event-delete-success")),Xe.current.delete("events"),ri(),g?.id===E&&(_(null),u([]),f([]),bi([]))}catch(A){console.error("Error deleting event:",A),alert(`${l("event-delete-fail")} ${A.message}`)}finally{we(!1)}},Ei=async E=>{try{we(!0);const{data:A,error:be}=await ye.from("event_participants").select("*").eq("event_id",E).eq("user_id",ce);if(be)throw be;if(A&&A.length>0){const{error:ue}=await ye.from("event_participants").update({left_at:null,pause_status:!1,joined_at:new Date().toISOString()}).eq("event_id",E).eq("user_id",ce);if(ue)throw ue;alert(l("event-rejoin-success"))}else{const{error:ue}=await ye.from("event_participants").insert({event_id:E,user_id:ce,joined_at:new Date().toISOString(),pause_status:!1,left_at:null});if(ue)throw ue;alert(l("event-join-success"))}Xe.current.delete(`event-participants-${E}`),ln(E)}catch(A){console.error("Error joining event:",A),alert(`${l("event-join-fail")} ${A.message}`)}finally{we(!1)}},Ji=async E=>{try{we(!0);const{error:A}=await ye.from("event_participants").update({left_at:new Date().toISOString()}).eq("event_id",E).eq("user_id",ce);if(A)throw A;alert(l("event-leave-success")),Xe.current.delete(`event-participants-${E}`),ln(E)}catch(A){console.error("Error leaving event:",A),alert(`${l("event-leave-fail")} ${A.message}`)}finally{we(!1)}},Qi=async(E,A)=>{try{we(!0);const be={};A==="paused"?be.pause_status=!0:A==="active"?be.pause_status=!1:A==="left"&&(be.left_at=new Date().toISOString());let ue=ye.from("event_participants").update(be);E.id?ue=ue.eq("id",E.id):ue=ue.eq("event_id",E.event_id).eq("user_id",E.user_id);const{error:$e}=await ue;if($e)throw $e;alert(l("participant-status-update-success")),Xe.current.delete(`event-participants-${g.id}`),ln(g.id)}catch(be){console.error("Error updating participant status:",be),alert(`${l("participant-status-update-fail")} ${be.message}`)}finally{we(!1)}},Yi=async()=>{if(!De)return null;try{he(!0);const E=De.name.split(".").pop(),be=`missing_persons/${`${Math.random()}.${E}`}`,{error:ue}=await ye.storage.from("photos").upload(be,De);if(ue)throw ue;const{data:$e}=ye.storage.from("photos").getPublicUrl(be);return $e.publicUrl}catch(E){return console.error("Error uploading image:",E),alert("Error uploading image: "+E.message),null}finally{he(!1)}},$n=async E=>{if(E.preventDefault(),!["admin","coordinator"].includes(T)){alert(l("permission-denied"));return}if(!g){alert(l("select-event-first"));return}try{we(!0);let A=ke;De&&(A=await Yi());const{error:be}=await ye.from("missing_persons").insert({event_id:g.id,name:ee||null,age:G?parseInt(G):null,height_cm:re?parseInt(re):null,clothing:le||null,photo_url:A||null,behavior_category:Me||null,prob_zones:tt?JSON.parse(tt):null,location:Le&&H?{lat:parseFloat(Le),lng:parseFloat(H)}:null});if(be)throw be;alert(l("missing-create-success")),Xe.current.delete(`missing-persons-${g.id}`),En(g.id),ai()}catch(A){console.error("Error creating missing person:",A),alert(`${l("missing-create-fail")} ${A.message}`)}finally{we(!1)}},Kr=async E=>{if(E.preventDefault(),!["admin","coordinator"].includes(T)){alert(l("permission-denied"));return}if(!w){alert(l("select-person-first"));return}try{we(!0);const A={};ee!==w.name&&(A.name=ee||null);const be=w.age?parseInt(w.age):null,ue=G?parseInt(G):null;ue!==be&&(A.age=ue);const $e=w.height_cm?parseInt(w.height_cm):null,Ve=re?parseInt(re):null;if(Ve!==$e&&(A.height_cm=Ve),le!==w.clothing&&(A.clothing=le||null),Me!==w.behavior_category&&(A.behavior_category=Me||null,A.prob_zones=null),tt!==JSON.stringify(w.prob_zones||{})&&!A.prob_zones)try{if(tt){A.prob_zones=JSON.parse(tt);for(const Qt in A.prob_zones){const Zt=A.prob_zones[Qt];if(!Array.isArray(Zt)||Zt.length<3)throw new Error("Invalid zone: minimum 3 points required");let cn=0;for(let hn=0;hn<Zt.length-1;hn++){const Nt=Zt[hn],nt=Zt[hn+1];if(typeof Nt.lat!="number"||typeof Nt.lng!="number"||Nt.lat<-90||Nt.lat>90||Nt.lng<-180||Nt.lng>180)throw new Error(`Invalid coordinates in zone ${Qt}: lat=${Nt.lat}, lng=${Nt.lng}`);cn+=Nt.lng*nt.lat-nt.lng*Nt.lat}if(cn=Math.abs(cn)/2*111.32**2,cn>100)throw new Error(`Zone ${Qt} area too large: ${cn} km, max allowed: 100 km`)}}}catch(Qt){console.error("Error parsing or validating prob_zones:",Qt),alert(l("invalid-prob-zones"));return}const et=w.location?.lat,mt=w.location?.lng,ht=Le?parseFloat(Le):null,Jt=H?parseFloat(H):null;(ht!==et||Jt!==mt)&&(A.location=ht&&Jt?{lat:ht,lng:Jt}:null);let ut=w.photo_url;if(De&&(ut=await Yi(),A.photo_url=ut||null),Object.keys(A).length===0&&!De){alert(l("no-changes-detected"));return}const{error:Cn}=await ye.from("missing_persons").update(A).eq("id",w.id);if(Cn)throw Cn;alert(l("missing-update-success")),Xe.current.delete(`missing-persons-${g.id}`),En(g.id),ai()}catch(A){console.error("Error updating missing person:",A),alert(`${l("missing-update-fail")} ${A.message}`)}finally{we(!1)}},Gr=async E=>{if(!["admin","coordinator"].includes(T)){alert(l("permission-denied"));return}if(window.confirm(l("confirm-delete")))try{we(!0);const{error:A}=await ye.from("missing_persons").delete().eq("id",E);if(A)throw A;alert(l("missing-delete-success")),Xe.current.delete(`missing-persons-${g.id}`),En(g.id),ai()}catch(A){console.error("Error deleting missing person:",A),alert(`${l("missing-delete-fail")} ${A.message}`)}finally{we(!1)}},Xi=E=>{console.log("Selected event:",E),_(E),En(E.id),ln(E.id),un(E.id),ai()},Fn=E=>{j(E),M(E.name),F(E.status)},Bn=E=>{S(E),ne(E.name||""),Q(E.age||""),se(E.height_cm||""),ve(E.clothing||""),We(E.photo_url||""),Ue(E.behavior_category||""),ze(E.prob_zones?JSON.stringify(E.prob_zones):""),K(E.location?.lat||""),Z(E.location?.lng||""),oe(null)},er=()=>{j(null),M(""),F("active")},ai=()=>{S(null),ne(""),Q(""),se(""),ve(""),oe(null),We(""),Ue(""),ze(""),K(""),Z("")},js=E=>{K(E.lat),Z(E.lng)},tr=E=>{const A={openstreetmap:!1,turistautak:!1,satellite:!1};A[E]=!0,Vr(A)},Jr=(E,A)=>{(E===""||/^\d+$/.test(E))&&A(E)},nr=(E,A)=>{(E===""||/^-?\d*\.?\d*$/.test(E))&&A(E)},ir=(E,A)=>E!==A?P.jsxs("span",{className:"text-green-600 text-sm",children:[" ",l("field-changed")]}):P.jsxs("span",{className:"text-gray-400 text-sm",children:[" ",l("field-unchanged")]}),Ci=E=>{if(!E||!Si)return console.log("Prob zones skipped: probZones is null or showProbZones is false",{probZones:E,showProbZones:Si}),null;try{console.log("Processing prob_zones:",E);const A=typeof E=="string"?JSON.parse(E):E,be=["zone95","zone75","zone50","zone25"],ue=["#0000FF","#008000","#FFA500","#FF0000"],$e=[l("zone-95"),l("zone-75"),l("zone-50"),l("zone-25")];return be.map((Ve,et)=>{const mt=A[Ve];return mt?Array.isArray(mt)&&mt.every(ht=>typeof ht.lat=="number"&&typeof ht.lng=="number")?P.jsx(op,{positions:mt.map(ht=>[ht.lat,ht.lng]),color:ue[et],fillOpacity:.3,weight:2,children:P.jsx(Cs,{children:$e[et]})},`${Ve}-${et}`):(console.warn(`Invalid zone data for ${Ve}:`,mt),null):(console.warn(`Zone ${Ve} not found in prob_zones`,A),null)}).filter(Boolean)}catch(A){return console.error("Error processing prob_zones:",A,E),null}},Qr=E=>E.user_name?E.user_name:E.user?.full_name?E.user.full_name:E.name?E.name:"N/A",Li=E=>E.user_phone?E.user_phone:E.user?.phone_number?E.user.phone_number:E.phone_number?E.phone_number:E.phone?E.phone:"N/A",Fo=E=>{const A=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FF8000","#8000FF","#0080FF","#FF0080","#80FF00","#00FF80"];return A[E%A.length]};return ce?P.jsxs("section",{className:"p-4",children:[P.jsx("h2",{className:"text-2xl font-bold mb-4",children:l("search-manager-h2")}),Ge&&P.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:[Ge,P.jsx("button",{className:"ml-4 text-red-900 underline",onClick:()=>lt(null),children:l("dismiss")})]}),Ce&&P.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4",children:[l("loading"),"..."]}),["admin","coordinator"].includes(T)?P.jsxs(P.Fragment,{children:[P.jsx("h3",{className:"text-xl font-semibold mb-2",children:l("events-h2")}),P.jsx("div",{className:"overflow-x-auto",children:P.jsxs("table",{className:"w-full border-collapse mb-4",children:[P.jsx("thead",{children:P.jsxs("tr",{className:"bg-gray-200",children:[P.jsx("th",{className:"border p-2",children:l("event-table-name")}),P.jsx("th",{className:"border p-2",children:l("event-table-status")}),P.jsx("th",{className:"border p-2",children:l("event-table-starttime")}),P.jsx("th",{className:"border p-2",children:l("actions-label")})]})}),P.jsx("tbody",{children:i.map(E=>P.jsxs("tr",{className:"hover:bg-gray-100",children:[P.jsx("td",{className:"border p-2",children:E.name}),P.jsx("td",{className:"border p-2",children:E.status}),P.jsx("td",{className:"border p-2",children:new Date(E.start_time).toLocaleString()}),P.jsxs("td",{className:"border p-2",children:[P.jsx("button",{className:"bg-blue-500 text-white px-2 py-1 rounded mr-2 mb-1",onClick:()=>Xi(E),children:l("select-event-btn")}),P.jsx("button",{className:"bg-green-500 text-white px-2 py-1 rounded mr-2 mb-1",onClick:()=>Ei(E.id),children:l("join-event-btn")}),["admin","coordinator"].includes(T)&&P.jsxs(P.Fragment,{children:[P.jsx("button",{className:"bg-yellow-500 text-white px-2 py-1 rounded mr-2 mb-1",onClick:()=>Fn(E),children:l("update-event-btn")}),P.jsx("button",{className:"bg-red-500 text-white px-2 py-1 rounded mb-1",onClick:()=>$o(E.id),children:l("delete-event-btn")})]})]})]},E.id))})]})}),P.jsxs("form",{onSubmit:x?oi:si,className:"mb-8",children:[P.jsx("label",{className:"block mb-2",children:l("event-name-label")}),P.jsx("input",{className:"border p-2 w-full mb-2",value:R,onChange:E=>M(E.target.value),required:!0}),P.jsx("label",{className:"block mb-2",children:l("event-status-label")}),P.jsxs("select",{className:"border p-2 w-full mb-2",value:U,onChange:E=>F(E.target.value),children:[P.jsx("option",{value:"active",children:l("status-active")}),P.jsx("option",{value:"paused",children:l("status-paused")}),P.jsx("option",{value:"completed",children:l("status-completed")})]}),P.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",type:"submit",disabled:Ce,children:l(x?"update-event-btn":"create-event-btn")}),x&&P.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded ml-2",type:"button",onClick:er,disabled:Ce,children:l("cancel-btn")})]}),g&&P.jsxs(P.Fragment,{children:[P.jsx("h3",{className:"text-xl font-semibold mb-2",children:l("map-h2")}),P.jsxs("div",{className:"mb-4 flex flex-col space-y-2",children:[P.jsxs("div",{className:"flex space-x-2",children:[P.jsx("button",{className:`px-3 py-1 rounded ${Sn.openstreetmap?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>tr("openstreetmap"),children:"OpenStreetMap"}),P.jsx("button",{className:`px-3 py-1 rounded ${Sn.turistautak?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>tr("turistautak"),children:"Turistautak"}),P.jsx("button",{className:`px-3 py-1 rounded ${Sn.satellite?"bg-blue-500 text-white":"bg-gray-200"}`,onClick:()=>tr("satellite"),children:"Mhold"})]}),P.jsxs("label",{className:"flex items-center space-x-2",children:[P.jsx("input",{type:"checkbox",checked:Si,onChange:E=>ii(E.target.checked),className:"form-checkbox h-5 w-5 text-blue-600"}),P.jsx("span",{children:l("show-prob-zones")})]}),P.jsx("button",{className:"px-3 py-1 rounded bg-blue-500 text-white hover:bg-blue-600",onClick:()=>{g&&(Xe.current.delete(`markers-${g.id}`),Xe.current.delete(`event-participants-${g.id}`),un(g.id),ln(g.id))},disabled:Ce||!g,children:l("refresh-map-and-participants")})]}),P.jsxs(Ah,{center:[47.4979,19.0402],zoom:10,style:{height:"400px",width:"100%",marginBottom:"20px"},children:[P.jsxs(jo,{position:"topright",children:[P.jsx(jo.BaseLayer,{checked:Sn.openstreetmap,name:l("openstreetmap-layer")||"OpenStreetMap",children:P.jsx(Ia,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",maxZoom:19})}),P.jsx(jo.BaseLayer,{checked:Sn.turistautak,name:l("turistautak-layer")||"Turistautak",children:P.jsx(Ia,{attribution:" turistautak.hu",url:"http://terkep.turistautak.hu/tiles/turistautak-domborzattal/{z}/{x}/{y}.png",maxZoom:17})}),P.jsx(jo.BaseLayer,{checked:Sn.satellite,name:l("satellite-layer")||"Mhold",children:P.jsx(Ia,{attribution:' <a href="https://www.maptiler.com/copyright/" target="_blank"> MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank"> OpenStreetMap contributors</a>',url:"https://api.maptiler.com/maps/hybrid/{z}/{x}/{y}.jpg?key=YOUR_MAPTILER_KEY",maxZoom:19})})]}),P.jsx(Ky,{missingPersons:a,markers:an}),a.map(E=>E.location?.lat&&E.location?.lng?P.jsx(fu,{position:[E.location.lat,E.location.lng],icon:Va.icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),children:P.jsx(Cs,{children:P.jsxs("div",{children:[P.jsx("h3",{className:"font-bold",children:E.name}),P.jsxs("p",{children:[l("age"),": ",E.age]}),P.jsxs("p",{children:[l("clothing"),": ",E.clothing]}),E.photo_url&&P.jsx("img",{src:E.photo_url,alt:E.name,style:{width:"100px",height:"100px",objectFit:"cover"}})]})})},`person-${E.id}`):null),an.filter(E=>E.type==="map_marker"&&E.lat_lng?.coordinates).map(E=>{try{const A=parseFloat(E.lat_lng.coordinates[1]),be=parseFloat(E.lat_lng.coordinates[0]);return isNaN(A)||isNaN(be)?(console.error("Invalid coordinates for marker:",E),null):P.jsx(fu,{position:[A,be],children:P.jsx(Cs,{children:P.jsxs("div",{children:[P.jsx("p",{className:"font-bold",children:l("marker")}),P.jsxs("p",{children:[l("recorded-by"),": ",E.user?.full_name||"N/A"]}),P.jsxs("p",{children:[l("recording-time"),": ",E.created_at?new Date(E.created_at).toLocaleString():"N/A"]}),P.jsxs("p",{children:[l("description"),": ",E.description||"N/A"]})]})})},`marker-${E.id}`)}catch(A){return console.error("Error rendering marker:",A,E),null}}),xi.map((E,A)=>{if(E&&E.length>0)if(E.every(ue=>ue&&ue.length===2&&!isNaN(ue[0])&&!isNaN(ue[1]))){const ue=Object.keys(Pi.current).find(et=>Pi.current[et]===E),Ve=an.filter(et=>et.type==="gps_track"&&et.user_id===ue&&et.lat_lng?.coordinates).sort((et,mt)=>new Date(mt.created_at)-new Date(et.created_at))[0]||{};return P.jsx(Wy,{positions:E,color:Fo(A),weight:4,opacity:.7,children:P.jsx(Cs,{children:P.jsxs("div",{children:[P.jsx("p",{className:"font-bold",children:l("gps-track")}),P.jsxs("p",{children:[l("recorded-by"),": ",Ve.user?.full_name||"N/A"]}),P.jsxs("p",{children:[l("recording-time"),": ",Ve.created_at?new Date(Ve.created_at).toLocaleString():"N/A"]}),P.jsxs("p",{children:[l("description"),": ",Ve.description||"N/A"]})]})})},`track-${Ve.id||A}`)}else console.error("Invalid track:",E);return null}),a.map(E=>Ci(E.prob_zones)),an.filter(E=>E.type==="polygon"&&E.lat_lng?.coordinates).map((E,A)=>{try{const be=E.lat_lng.coordinates.map(ue=>[parseFloat(ue[1]),parseFloat(ue[0])]);return be.every(ue=>ue.length===2&&!isNaN(ue[0])&&!isNaN(ue[1]))?P.jsx(op,{positions:be,color:"#800080",fillOpacity:.3,weight:2,children:P.jsx(Cs,{children:P.jsxs("div",{children:[P.jsx("p",{className:"font-bold",children:l("polygon")}),P.jsxs("p",{children:[l("recorded-by"),": ",E.user?.full_name||"N/A"]}),P.jsxs("p",{children:[l("recording-time"),": ",E.created_at?new Date(E.created_at).toLocaleString():"N/A"]}),P.jsxs("p",{children:[l("description"),": ",E.description||"N/A"]})]})})},`polygon-${E.id}-${A}`):(console.warn("Invalid polygon data:",E),null)}catch(be){return console.error("Error rendering polygon:",be,E),null}})]})]}),g&&P.jsxs(P.Fragment,{children:[P.jsxs("h3",{className:"text-xl font-semibold mb-2",children:[l("participants-h2")," - ",g.name]}),P.jsxs("div",{className:"mb-4",children:[P.jsx("button",{className:"bg-green-500 text-white px-4 py-2 rounded mr-2",onClick:()=>Ei(g.id),disabled:Ce,children:l("join-event-btn")}),P.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded",onClick:()=>Ji(g.id),disabled:Ce,children:l("leave-event-btn")})]}),P.jsx("div",{className:"overflow-x-auto",children:P.jsxs("table",{className:"w-full border-collapse mb-4",children:[P.jsx("thead",{children:P.jsxs("tr",{className:"bg-gray-200",children:[P.jsx("th",{className:"border p-2",children:l("participant-table-name")}),P.jsx("th",{className:"border p-2",children:l("participant-table-phone")}),P.jsx("th",{className:"border p-2",children:l("participant-table-joined")}),P.jsx("th",{className:"border p-2",children:l("participant-table-left")}),P.jsx("th",{className:"border p-2",children:l("actions-label")})]})}),P.jsx("tbody",{children:d.map(E=>P.jsxs("tr",{className:"hover:bg-gray-100",children:[P.jsx("td",{className:"border p-2",children:Qr(E)}),P.jsx("td",{className:"border p-2",children:Li(E)}),P.jsx("td",{className:"border p-2",children:E.joined_at?new Date(E.joined_at).toLocaleString():"N/A"}),P.jsx("td",{className:"border p-2",children:E.left_at?new Date(E.left_at).toLocaleString():"-"}),P.jsx("td",{className:"border p-2",children:E.left_at?P.jsx("button",{className:"bg-green-500 text-white px-2 py-1 rounded mr-2 mb-1",onClick:()=>Ei(g.id),disabled:Ce,children:l("rejoin-participant-btn")}):P.jsxs(P.Fragment,{children:[P.jsx("button",{className:"bg-yellow-500 text-white px-2 py-1 rounded mr-2 mb-1",onClick:()=>Qi(E,"paused"),disabled:Ce||E.pause_status,children:l("pause-participant-btn")}),P.jsx("button",{className:"bg-green-500 text-white px-2 py-1 rounded mr-2 mb-1",onClick:()=>Qi(E,"active"),disabled:Ce||!E.pause_status,children:l("resume-participant-btn")}),P.jsx("button",{className:"bg-red-500 text-white px-2 py-1 rounded mb-1",onClick:()=>Qi(E,"left"),disabled:Ce,children:l("leave-participant-btn")})]})})]},E.id||`${E.event_id}-${E.user_id}`))})]})})]}),g&&P.jsxs(P.Fragment,{children:[P.jsxs("h3",{className:"text-xl font-semibold mb-2",children:[l("missing-persons-editor-h2")," - ",g.name]}),P.jsx("div",{className:"overflow-x-auto",children:P.jsxs("table",{className:"w-full border-collapse mb-4",children:[P.jsx("thead",{children:P.jsxs("tr",{className:"bg-gray-200",children:[P.jsx("th",{className:"border p-2",children:l("missing-table-name")}),P.jsx("th",{className:"border p-2",children:l("missing-table-age")}),P.jsx("th",{className:"border p-2",children:l("missing-table-height")}),P.jsx("th",{className:"border p-2",children:l("missing-table-clothing")}),P.jsx("th",{className:"border p-2",children:l("missing-table-photo")}),P.jsx("th",{className:"border p-2",children:l("missing-table-behavior")}),P.jsx("th",{className:"border p-2",children:l("missing-table-location")}),P.jsx("th",{className:"border p-2",children:l("actions-label")})]})}),P.jsx("tbody",{children:a.map(E=>P.jsxs("tr",{className:"hover:bg-gray-100",children:[P.jsx("td",{className:"border p-2",children:E.name}),P.jsx("td",{className:"border p-2",children:E.age}),P.jsx("td",{className:"border p-2",children:E.height_cm}),P.jsx("td",{className:"border p-2",children:E.clothing}),P.jsx("td",{className:"border p-2",children:E.photo_url&&P.jsx("img",{src:E.photo_url,alt:E.name,style:{width:"100px",height:"100px",objectFit:"cover"},onClick:()=>window.open(E.photo_url,"_blank"),className:"cursor-pointer"})}),P.jsx("td",{className:"border p-2",children:l(`behavior-${E.behavior_category||"default"}`)}),P.jsx("td",{className:"border p-2",children:E.location&&P.jsxs("span",{children:[E.location.lat,", ",E.location.lng]})}),P.jsxs("td",{className:"border p-2",children:[P.jsx("button",{className:"bg-blue-500 text-white px-2 py-1 rounded mr-2 mb-1",onClick:()=>Bn(E),disabled:Ce,children:l("update-missing-btn")}),P.jsx("button",{className:"bg-red-500 text-white px-2 py-1 rounded mb-1",onClick:()=>Gr(E.id),disabled:Ce,children:l("delete-missing-btn")})]})]},E.id))})]})}),P.jsxs("form",{onSubmit:w?Kr:$n,className:"mb-8",children:[P.jsxs("label",{className:"block mb-2",children:[l("name-label"),ir(ee,w?.name||"")]}),P.jsx("input",{className:"border p-2 w-full mb-2",value:ee,onChange:E=>ne(E.target.value)}),P.jsx("label",{className:"block mb-2",children:l("age-label")}),P.jsx("input",{className:"border p-2 w-full mb-2",type:"number",value:G,onChange:E=>Jr(E.target.value,Q),min:"0",max:"150"}),P.jsx("label",{className:"block mb-2",children:l("height-label")}),P.jsx("input",{className:"border p-2 w-full mb-2",type:"number",value:re,onChange:E=>Jr(E.target.value,se),min:"0",max:"300"}),P.jsx("label",{className:"block mb-2",children:l("clothing-label")}),P.jsx("input",{className:"border p-2 w-full mb-2",value:le,onChange:E=>ve(E.target.value)}),P.jsx("label",{className:"block mb-2",children:l("photo-label")}),P.jsx("input",{className:"border p-2 w-full mb-2",type:"file",accept:"image/*",onChange:E=>oe(E.target.files[0])}),ke&&P.jsx("div",{className:"mb-2",children:P.jsx("img",{src:ke,alt:"Preview",style:{width:"200px",height:"200px",objectFit:"contain"}})}),pe&&P.jsx("p",{children:l("uploading")}),P.jsx("label",{className:"block mb-2",children:l("behavior-category-label")}),P.jsxs("select",{className:"border p-2 w-full mb-2",value:Me,onChange:E=>Ue(E.target.value),children:[P.jsx("option",{value:"",children:l("select-behavior-category")}),Pn.map(E=>P.jsx("option",{value:E.value,children:E.label},E.value))]}),P.jsx("label",{className:"block mb-2",children:l("prob-zones-label")}),P.jsx("textarea",{className:"border p-2 w-full mb-2",value:tt,onChange:E=>ze(E.target.value),placeholder:'{"zone1": [{"lat": 47.5, "lng": 19.0}, {"lat": 47.6, "lng": 19.1}], "zone2": [{"lat": 47.4, "lng": 19.2}, {"lat": 47.5, "lng": 19.3}]}'}),P.jsx("label",{className:"block mb-2",children:l("location-label")}),P.jsx(qy,{onLocationSelected:js,initialLat:Le?parseFloat(Le):null,initialLng:H?parseFloat(H):null}),P.jsx("label",{className:"block mb-2",children:l("location-lat-label")}),P.jsx("input",{className:"border p-2 w-full mb-2",type:"text",value:Le,onChange:E=>nr(E.target.value,K),placeholder:"47.4979",step:"any"}),P.jsx("label",{className:"block mb-2",children:l("location-lng-label")}),P.jsx("input",{className:"border p-2 w-full mb-2",type:"text",value:H,onChange:E=>nr(E.target.value,Z),placeholder:"19.0402",step:"any"}),P.jsx("button",{className:`px-4 py-2 rounded ${kn||De?"bg-blue-500 text-white hover:bg-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,type:"submit",disabled:!kn&&!De||pe||Ce,children:l(w?"update-missing-btn":"create-missing-btn")}),w&&P.jsx("button",{className:"bg-gray-500 text-white px-4 py-2 rounded ml-2",type:"button",onClick:ai,disabled:Ce,children:l("cancel-btn")}),kn&&P.jsx("div",{className:"mt-2 text-sm text-green-600",children:l("changes-detected")})]})]})]}):P.jsx("p",{className:"text-red-500",children:l("permission-denied")})]}):P.jsx("div",{children:l("loading")})},Jy=()=>{const{t:l}=Ao(),[i,r]=I.useState([]),[a,u]=I.useState(null);I.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:f,error:g}=await ye.from("markers").select("*");if(g)throw g;r(f||[]),u(null)}catch(f){console.error("Error loading markers:",f),u(l("error-loading-markers","Failed to load markers: ")+f.message)}};return P.jsxs("section",{children:[P.jsx("h2",{children:l("map-h2")}),a&&P.jsx("p",{style:{color:"red"},children:a}),P.jsxs(Ah,{center:[47.4979,19.0402],zoom:13,style:{height:"500px"},children:[P.jsx(Ia,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap"}),i.map(f=>{if(f.lat_lng&&f.lat_lng.coordinates&&Array.isArray(f.lat_lng.coordinates)){const[g,_]=f.lat_lng.coordinates;if(typeof _=="number"&&typeof g=="number")return P.jsx(fu,{position:[_,g],children:P.jsxs(Cs,{children:["Marker ID: ",f.id,P.jsx("br",{}),"Type: ",f.type||"N/A"]})},f.id)}return null})]})]})},Qy=()=>{const{t:l}=Ao(),[i,r]=I.useState([]),[a,u]=I.useState(null),[d,f]=I.useState(""),[g,_]=I.useState(""),[w,S]=I.useState(""),[x,j]=I.useState(""),[R,M]=I.useState(""),[U,F]=I.useState(null),[ee,ne]=I.useState(!0);I.useEffect(()=>{Q(),G()},[]);const G=async()=>{try{ne(!0);const{data:{user:oe}}=await ye.auth.getUser();if(oe){const ke=oe.user_metadata?.role;F(ke)}}catch(oe){console.error("Error fetching user role:",oe.message)}finally{ne(!1)}},Q=async()=>{try{const{data:oe,error:ke}=await ye.from("help_content").select("*");if(ke)throw ke;console.log("Loaded help content:",oe),r(oe||[])}catch(oe){console.error("Error loading help content:",oe),alert(l("error-loading-help")+": "+oe.message)}},re=async oe=>{if(oe.preventDefault(),!["admin","coordinator"].includes(U)){alert(l("permission-denied"));return}if(ee){alert(l("loading-role-please-wait"));return}try{const ke={text_hu:d||null,text_en:g||null,text_sk:w||null,text_ro:x||null,text_pl:R||null};console.log("Inserting help content:",ke);const{data:We,error:Me}=await ye.from("help_content").insert(ke).select();if(Me)throw Me;console.log("Insert successful, returned data:",We),alert(l("help-create-success")),Q(),De()}catch(ke){console.error("Error inserting help content:",ke),alert(`${l("help-create-fail")} ${ke.message}`)}},se=async oe=>{if(oe.preventDefault(),!["admin","coordinator"].includes(U)){alert(l("permission-denied"));return}try{const ke={text_hu:d,text_en:g,text_sk:w,text_ro:x,text_pl:R};console.log("Updating help content:",ke,"ID:",a.id);const{data:We,error:Me}=await ye.from("help_content").update(ke).eq("id",a.id).select();if(Me)throw Me;console.log("Update successful, returned data:",We),alert(l("help-update-success")),Q(),De()}catch(ke){console.error("Error updating help content:",ke),alert(`${l("help-update-fail")} ${ke.message}`)}},le=async oe=>{if(!["admin","coordinator"].includes(U)){alert(l("permission-denied"));return}if(window.confirm(l("confirm-delete")))try{console.log("Deleting help content, ID:",oe);const{error:ke}=await ye.from("help_content").delete().eq("id",oe);if(ke)throw ke;alert(l("help-delete-success")),Q()}catch(ke){console.error("Error deleting help content:",ke),alert(`${l("help-delete-fail")} ${ke.message}`)}},ve=oe=>{u(oe),f(oe.text_hu),_(oe.text_en),S(oe.text_sk),j(oe.text_ro),M(oe.text_pl)},De=()=>{u(null),f(""),_(""),S(""),j(""),M("")};return P.jsxs("section",{children:[P.jsx("h2",{children:l("help-editor-h2")}),ee?P.jsx("p",{children:l("loading-role-please-wait")}):["admin","coordinator"].includes(U)?P.jsxs(P.Fragment,{children:[P.jsxs("table",{children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:l("help-table-text-hu")}),P.jsx("th",{children:l("actions-label")})]})}),P.jsx("tbody",{children:i.map(oe=>P.jsxs("tr",{children:[P.jsx("td",{children:oe.text_hu}),P.jsxs("td",{children:[P.jsx("button",{onClick:()=>ve(oe),children:l("update-help-btn")}),P.jsx("button",{className:"delete-btn",onClick:()=>le(oe.id),children:l("delete-help-btn")})]})]},oe.id))})]}),P.jsxs("form",{onSubmit:a?se:re,children:[P.jsx("label",{children:l("text-hu-label")}),P.jsx("textarea",{value:d,onChange:oe=>f(oe.target.value)}),P.jsx("label",{children:l("text-en-label")}),P.jsx("textarea",{value:g,onChange:oe=>_(oe.target.value)}),P.jsx("label",{children:l("text-sk-label")}),P.jsx("textarea",{value:w,onChange:oe=>S(oe.target.value)}),P.jsx("label",{children:l("text-ro-label")}),P.jsx("textarea",{value:x,onChange:oe=>j(oe.target.value)}),P.jsx("label",{children:l("text-pl-label")}),P.jsx("textarea",{value:R,onChange:oe=>M(oe.target.value)}),P.jsx("button",{type:"submit",disabled:ee,children:l(a?"update-help-btn":"create-help-btn")}),a&&P.jsx("button",{type:"button",onClick:De,children:l("cancel-btn")})]})]}):P.jsx("p",{children:l("permission-denied")})]})},Yy=()=>{const{t:l,i18n:i}=Ao(),[r,a]=I.useState(localStorage.getItem("email")||""),[u,d]=I.useState(localStorage.getItem("password")||""),[f,g]=I.useState(localStorage.getItem("full_name")||""),[_,w]=I.useState(localStorage.getItem("phone_number")||""),[S,x]=I.useState(null),[j,R]=I.useState(!1),[M,U]=I.useState(localStorage.getItem("save_credentials")==="true"),[F,ee]=I.useState(!1),ne=ve=>/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.test(ve),G=ve=>/^\+?[1-9]\d{1,14}$/.test(ve),Q=async()=>{R(!0),x(null);try{await ye.auth.resend({type:"signup",email:r}),x(l("success-email-resent"))}catch(ve){x(l("error-resend-email-failed")+" "+ve.message)}finally{R(!1)}},re=()=>{M?(localStorage.setItem("email",r),localStorage.setItem("password",u),localStorage.setItem("full_name",f),localStorage.setItem("phone_number",_),localStorage.setItem("save_credentials","true")):(localStorage.removeItem("email"),localStorage.removeItem("password"),localStorage.removeItem("full_name"),localStorage.removeItem("phone_number"),localStorage.setItem("save_credentials","false"))},se=async()=>{if(!ne(r))return x(l("error-invalid-email"));if(u.length<6)return x(l("error-password-too-short"));if(!f)return x(l("error-full-name-required"));if(!G(_))return x(l("error-invalid-phone"));R(!0),x(null),ee(!1);try{const{data:ve,error:De}=await ye.auth.signUp({email:r,password:u,options:{data:{full_name:f,phone_number:_,language:i.language,track_color:"#000000",role:"searcher"}}});if(De)throw De;if(ve.user){const{error:oe}=await ye.from("users").insert({id:ve.user.id,email:r,full_name:f,phone_number:_,role:"searcher",active:!0});if(oe)throw oe;re(),x(l("error-email-confirmation-required")),ee(!0)}}catch(ve){x(l("error-registration-error")+" "+ve.message)}finally{R(!1)}},le=async()=>{if(!ne(r))return x(l("error-invalid-email"));if(!u)return x(l("error-password-required"));R(!0),x(null),ee(!1);try{const{error:ve}=await ye.auth.signInWithPassword({email:r,password:u});if(ve)throw ve;re()}catch(ve){ve.message.includes("Email not confirmed")?(x(l("error-email-not-confirmed")),ee(!0)):x(l("error-login-error")+" "+ve.message)}finally{R(!1)}};return P.jsxs("div",{style:{maxWidth:"400px",margin:"auto",padding:"20px"},children:[P.jsx("h2",{children:l("login-header")}),S&&P.jsx("p",{style:{color:"red"},children:S}),P.jsxs("form",{children:[P.jsx("label",{children:l("login-email")}),P.jsx("input",{type:"email",value:r,onChange:ve=>a(ve.target.value),required:!0}),P.jsx("label",{children:l("login-password")}),P.jsx("input",{type:"password",value:u,onChange:ve=>d(ve.target.value),required:!0}),P.jsx("label",{children:l("login-full-name")}),P.jsx("input",{value:f,onChange:ve=>g(ve.target.value),required:!0}),P.jsx("label",{children:l("login-phone-number")}),P.jsx("input",{value:_,onChange:ve=>w(ve.target.value),required:!0}),P.jsxs("label",{children:[P.jsx("input",{type:"checkbox",checked:M,onChange:ve=>U(ve.target.checked)}),l("login-save-credentials")]}),P.jsx("button",{type:"button",onClick:se,disabled:j,children:l("login-register")}),P.jsx("button",{type:"button",onClick:le,disabled:j,children:l("login-login")}),F&&P.jsx("button",{type:"button",onClick:Q,disabled:j,children:l("login-resend-email")})]}),j&&P.jsx("p",{children:"Loading..."})]})},Ne=l=>typeof l=="string",Ta=()=>{let l,i;const r=new Promise((a,u)=>{l=a,i=u});return r.resolve=l,r.reject=i,r},ap=l=>l==null?"":""+l,Xy=(l,i,r)=>{l.forEach(a=>{i[a]&&(r[a]=i[a])})},ew=/###/g,lp=l=>l&&l.indexOf("###")>-1?l.replace(ew,"."):l,up=l=>!l||Ne(l),Aa=(l,i,r)=>{const a=Ne(i)?i.split("."):i;let u=0;for(;u<a.length-1;){if(up(l))return{};const d=lp(a[u]);!l[d]&&r&&(l[d]=new r),Object.prototype.hasOwnProperty.call(l,d)?l=l[d]:l={},++u}return up(l)?{}:{obj:l,k:lp(a[u])}},cp=(l,i,r)=>{const{obj:a,k:u}=Aa(l,i,Object);if(a!==void 0||i.length===1){a[u]=r;return}let d=i[i.length-1],f=i.slice(0,i.length-1),g=Aa(l,f,Object);for(;g.obj===void 0&&f.length;)d=`${f[f.length-1]}.${d}`,f=f.slice(0,f.length-1),g=Aa(l,f,Object),g?.obj&&typeof g.obj[`${g.k}.${d}`]<"u"&&(g.obj=void 0);g.obj[`${g.k}.${d}`]=r},tw=(l,i,r,a)=>{const{obj:u,k:d}=Aa(l,i,Object);u[d]=u[d]||[],u[d].push(r)},pu=(l,i)=>{const{obj:r,k:a}=Aa(l,i);if(r&&Object.prototype.hasOwnProperty.call(r,a))return r[a]},nw=(l,i,r)=>{const a=pu(l,r);return a!==void 0?a:pu(i,r)},am=(l,i,r)=>{for(const a in i)a!=="__proto__"&&a!=="constructor"&&(a in l?Ne(l[a])||l[a]instanceof String||Ne(i[a])||i[a]instanceof String?r&&(l[a]=i[a]):am(l[a],i[a],r):l[a]=i[a]);return l},Co=l=>l.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var iw={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const rw=l=>Ne(l)?l.replace(/[&<>"'\/]/g,i=>iw[i]):l;class sw{constructor(i){this.capacity=i,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(i){const r=this.regExpMap.get(i);if(r!==void 0)return r;const a=new RegExp(i);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(i,a),this.regExpQueue.push(i),a}}const ow=[" ",",","?","!",";"],aw=new sw(20),lw=(l,i,r)=>{i=i||"",r=r||"";const a=ow.filter(f=>i.indexOf(f)<0&&r.indexOf(f)<0);if(a.length===0)return!0;const u=aw.getRegExp(`(${a.map(f=>f==="?"?"\\?":f).join("|")})`);let d=!u.test(l);if(!d){const f=l.indexOf(r);f>0&&!u.test(l.substring(0,f))&&(d=!0)}return d},bh=(l,i,r=".")=>{if(!l)return;if(l[i])return Object.prototype.hasOwnProperty.call(l,i)?l[i]:void 0;const a=i.split(r);let u=l;for(let d=0;d<a.length;){if(!u||typeof u!="object")return;let f,g="";for(let _=d;_<a.length;++_)if(_!==d&&(g+=r),g+=a[_],f=u[g],f!==void 0){if(["string","number","boolean"].indexOf(typeof f)>-1&&_<a.length-1)continue;d+=_-d+1;break}u=f}return u},$a=l=>l?.replace("_","-"),uw={type:"logger",log(l){this.output("log",l)},warn(l){this.output("warn",l)},error(l){this.output("error",l)},output(l,i){console?.[l]?.apply?.(console,i)}};class mu{constructor(i,r={}){this.init(i,r)}init(i,r={}){this.prefix=r.prefix||"i18next:",this.logger=i||uw,this.options=r,this.debug=r.debug}log(...i){return this.forward(i,"log","",!0)}warn(...i){return this.forward(i,"warn","",!0)}error(...i){return this.forward(i,"error","")}deprecate(...i){return this.forward(i,"warn","WARNING DEPRECATED: ",!0)}forward(i,r,a,u){return u&&!this.debug?null:(Ne(i[0])&&(i[0]=`${a}${this.prefix} ${i[0]}`),this.logger[r](i))}create(i){return new mu(this.logger,{prefix:`${this.prefix}:${i}:`,...this.options})}clone(i){return i=i||this.options,i.prefix=i.prefix||this.prefix,new mu(this.logger,i)}}var wi=new mu;class bu{constructor(){this.observers={}}on(i,r){return i.split(" ").forEach(a=>{this.observers[a]||(this.observers[a]=new Map);const u=this.observers[a].get(r)||0;this.observers[a].set(r,u+1)}),this}off(i,r){if(this.observers[i]){if(!r){delete this.observers[i];return}this.observers[i].delete(r)}}emit(i,...r){this.observers[i]&&Array.from(this.observers[i].entries()).forEach(([u,d])=>{for(let f=0;f<d;f++)u(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([u,d])=>{for(let f=0;f<d;f++)u.apply(u,[i,...r])})}}class hp extends bu{constructor(i,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=i||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}removeNamespaces(i){const r=this.options.ns.indexOf(i);r>-1&&this.options.ns.splice(r,1)}getResource(i,r,a,u={}){const d=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,f=u.ignoreJSONStructure!==void 0?u.ignoreJSONStructure:this.options.ignoreJSONStructure;let g;i.indexOf(".")>-1?g=i.split("."):(g=[i,r],a&&(Array.isArray(a)?g.push(...a):Ne(a)&&d?g.push(...a.split(d)):g.push(a)));const _=pu(this.data,g);return!_&&!r&&!a&&i.indexOf(".")>-1&&(i=g[0],r=g[1],a=g.slice(2).join(".")),_||!f||!Ne(a)?_:bh(this.data?.[i]?.[r],a,d)}addResource(i,r,a,u,d={silent:!1}){const f=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator;let g=[i,r];a&&(g=g.concat(f?a.split(f):a)),i.indexOf(".")>-1&&(g=i.split("."),u=r,r=g[1]),this.addNamespaces(r),cp(this.data,g,u),d.silent||this.emit("added",i,r,a,u)}addResources(i,r,a,u={silent:!1}){for(const d in a)(Ne(a[d])||Array.isArray(a[d]))&&this.addResource(i,r,d,a[d],{silent:!0});u.silent||this.emit("added",i,r,a)}addResourceBundle(i,r,a,u,d,f={silent:!1,skipCopy:!1}){let g=[i,r];i.indexOf(".")>-1&&(g=i.split("."),u=a,a=r,r=g[1]),this.addNamespaces(r);let _=pu(this.data,g)||{};f.skipCopy||(a=JSON.parse(JSON.stringify(a))),u?am(_,a,d):_={..._,...a},cp(this.data,g,_),f.silent||this.emit("added",i,r,a)}removeResourceBundle(i,r){this.hasResourceBundle(i,r)&&delete this.data[i][r],this.removeNamespaces(r),this.emit("removed",i,r)}hasResourceBundle(i,r){return this.getResource(i,r)!==void 0}getResourceBundle(i,r){return r||(r=this.options.defaultNS),this.getResource(i,r)}getDataByLanguage(i){return this.data[i]}hasLanguageSomeTranslations(i){const r=this.getDataByLanguage(i);return!!(r&&Object.keys(r)||[]).find(u=>r[u]&&Object.keys(r[u]).length>0)}toJSON(){return this.data}}var lm={processors:{},addPostProcessor(l){this.processors[l.name]=l},handle(l,i,r,a,u){return l.forEach(d=>{i=this.processors[d]?.process(i,r,a,u)??i}),i}};const um=Symbol("i18next/PATH_KEY");function cw(){const l=[],i=Object.create(null);let r;return i.get=(a,u)=>(r?.revoke?.(),u===um?l:(l.push(u),r=Proxy.revocable(a,i),r.proxy)),Proxy.revocable(Object.create(null),i).proxy}function xh(l,i){const{[um]:r}=l(cw());return r.join(i?.keySeparator??".")}const dp={},fp=l=>!Ne(l)&&typeof l!="boolean"&&typeof l!="number";class gu extends bu{constructor(i,r={}){super(),Xy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=wi.create("translator")}changeLanguage(i){i&&(this.language=i)}exists(i,r={interpolation:{}}){const a={...r};return i==null?!1:this.resolve(i,a)?.res!==void 0}extractFromKey(i,r){let a=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;a===void 0&&(a=":");const u=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let d=r.ns||this.options.defaultNS||[];const f=a&&i.indexOf(a)>-1,g=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!lw(i,a,u);if(f&&!g){const _=i.match(this.interpolator.nestingRegexp);if(_&&_.length>0)return{key:i,namespaces:Ne(d)?[d]:d};const w=i.split(a);(a!==u||a===u&&this.options.ns.indexOf(w[0])>-1)&&(d=w.shift()),i=w.join(u)}return{key:i,namespaces:Ne(d)?[d]:d}}translate(i,r,a){let u=typeof r=="object"?{...r}:r;if(typeof u!="object"&&this.options.overloadTranslationOptionHandler&&(u=this.options.overloadTranslationOptionHandler(arguments)),typeof u=="object"&&(u={...u}),u||(u={}),i==null)return"";typeof i=="function"&&(i=xh(i,{...this.options,...u})),Array.isArray(i)||(i=[String(i)]);const d=u.returnDetails!==void 0?u.returnDetails:this.options.returnDetails,f=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,{key:g,namespaces:_}=this.extractFromKey(i[i.length-1],u),w=_[_.length-1];let S=u.nsSeparator!==void 0?u.nsSeparator:this.options.nsSeparator;S===void 0&&(S=":");const x=u.lng||this.language,j=u.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(x?.toLowerCase()==="cimode")return j?d?{res:`${w}${S}${g}`,usedKey:g,exactUsedKey:g,usedLng:x,usedNS:w,usedParams:this.getUsedParamsDetails(u)}:`${w}${S}${g}`:d?{res:g,usedKey:g,exactUsedKey:g,usedLng:x,usedNS:w,usedParams:this.getUsedParamsDetails(u)}:g;const R=this.resolve(i,u);let M=R?.res;const U=R?.usedKey||g,F=R?.exactUsedKey||g,ee=["[object Number]","[object Function]","[object RegExp]"],ne=u.joinArrays!==void 0?u.joinArrays:this.options.joinArrays,G=!this.i18nFormat||this.i18nFormat.handleAsObject,Q=u.count!==void 0&&!Ne(u.count),re=gu.hasDefaultValue(u),se=Q?this.pluralResolver.getSuffix(x,u.count,u):"",le=u.ordinal&&Q?this.pluralResolver.getSuffix(x,u.count,{ordinal:!1}):"",ve=Q&&!u.ordinal&&u.count===0,De=ve&&u[`defaultValue${this.options.pluralSeparator}zero`]||u[`defaultValue${se}`]||u[`defaultValue${le}`]||u.defaultValue;let oe=M;G&&!M&&re&&(oe=De);const ke=fp(oe),We=Object.prototype.toString.apply(oe);if(G&&oe&&ke&&ee.indexOf(We)<0&&!(Ne(ne)&&Array.isArray(oe))){if(!u.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Me=this.options.returnedObjectHandler?this.options.returnedObjectHandler(U,oe,{...u,ns:_}):`key '${g} (${this.language})' returned an object instead of string.`;return d?(R.res=Me,R.usedParams=this.getUsedParamsDetails(u),R):Me}if(f){const Me=Array.isArray(oe),Ue=Me?[]:{},tt=Me?F:U;for(const ze in oe)if(Object.prototype.hasOwnProperty.call(oe,ze)){const Le=`${tt}${f}${ze}`;re&&!M?Ue[ze]=this.translate(Le,{...u,defaultValue:fp(De)?De[ze]:void 0,joinArrays:!1,ns:_}):Ue[ze]=this.translate(Le,{...u,joinArrays:!1,ns:_}),Ue[ze]===Le&&(Ue[ze]=oe[ze])}M=Ue}}else if(G&&Ne(ne)&&Array.isArray(M))M=M.join(ne),M&&(M=this.extendTranslation(M,i,u,a));else{let Me=!1,Ue=!1;!this.isValidLookup(M)&&re&&(Me=!0,M=De),this.isValidLookup(M)||(Ue=!0,M=g);const ze=(u.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ue?void 0:M,Le=re&&De!==M&&this.options.updateMissing;if(Ue||Me||Le){if(this.logger.log(Le?"updateKey":"missingKey",x,w,g,Le?De:M),f){const T=this.resolve(g,{...u,keySeparator:!1});T&&T.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let K=[];const H=this.languageUtils.getFallbackCodes(this.options.fallbackLng,u.lng||this.language);if(this.options.saveMissingTo==="fallback"&&H&&H[0])for(let T=0;T<H.length;T++)K.push(H[T]);else this.options.saveMissingTo==="all"?K=this.languageUtils.toResolveHierarchy(u.lng||this.language):K.push(u.lng||this.language);const Z=(T,q,ce)=>{const ge=re&&ce!==M?ce:ze;this.options.missingKeyHandler?this.options.missingKeyHandler(T,w,q,ge,Le,u):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(T,w,q,ge,Le,u),this.emit("missingKey",T,w,q,M)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Q?K.forEach(T=>{const q=this.pluralResolver.getSuffixes(T,u);ve&&u[`defaultValue${this.options.pluralSeparator}zero`]&&q.indexOf(`${this.options.pluralSeparator}zero`)<0&&q.push(`${this.options.pluralSeparator}zero`),q.forEach(ce=>{Z([T],g+ce,u[`defaultValue${ce}`]||De)})}):Z(K,g,De))}M=this.extendTranslation(M,i,u,R,a),Ue&&M===g&&this.options.appendNamespaceToMissingKey&&(M=`${w}${S}${g}`),(Ue||Me)&&this.options.parseMissingKeyHandler&&(M=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${w}${S}${g}`:g,Me?M:void 0,u))}return d?(R.res=M,R.usedParams=this.getUsedParamsDetails(u),R):M}extendTranslation(i,r,a,u,d){if(this.i18nFormat?.parse)i=this.i18nFormat.parse(i,{...this.options.interpolation.defaultVariables,...a},a.lng||this.language||u.usedLng,u.usedNS,u.usedKey,{resolved:u});else if(!a.skipInterpolation){a.interpolation&&this.interpolator.init({...a,interpolation:{...this.options.interpolation,...a.interpolation}});const _=Ne(i)&&(a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let w;if(_){const x=i.match(this.interpolator.nestingRegexp);w=x&&x.length}let S=a.replace&&!Ne(a.replace)?a.replace:a;if(this.options.interpolation.defaultVariables&&(S={...this.options.interpolation.defaultVariables,...S}),i=this.interpolator.interpolate(i,S,a.lng||this.language||u.usedLng,a),_){const x=i.match(this.interpolator.nestingRegexp),j=x&&x.length;w<j&&(a.nest=!1)}!a.lng&&u&&u.res&&(a.lng=this.language||u.usedLng),a.nest!==!1&&(i=this.interpolator.nest(i,(...x)=>d?.[0]===x[0]&&!a.context?(this.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${r[0]}`),null):this.translate(...x,r),a)),a.interpolation&&this.interpolator.reset()}const f=a.postProcess||this.options.postProcess,g=Ne(f)?[f]:f;return i!=null&&g?.length&&a.applyPostProcessor!==!1&&(i=lm.handle(g,i,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...u,usedParams:this.getUsedParamsDetails(a)},...a}:a,this)),i}resolve(i,r={}){let a,u,d,f,g;return Ne(i)&&(i=[i]),i.forEach(_=>{if(this.isValidLookup(a))return;const w=this.extractFromKey(_,r),S=w.key;u=S;let x=w.namespaces;this.options.fallbackNS&&(x=x.concat(this.options.fallbackNS));const j=r.count!==void 0&&!Ne(r.count),R=j&&!r.ordinal&&r.count===0,M=r.context!==void 0&&(Ne(r.context)||typeof r.context=="number")&&r.context!=="",U=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);x.forEach(F=>{this.isValidLookup(a)||(g=F,!dp[`${U[0]}-${F}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(g)&&(dp[`${U[0]}-${F}`]=!0,this.logger.warn(`key "${u}" for languages "${U.join(", ")}" won't get resolved as namespace "${g}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),U.forEach(ee=>{if(this.isValidLookup(a))return;f=ee;const ne=[S];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(ne,S,ee,F,r);else{let Q;j&&(Q=this.pluralResolver.getSuffix(ee,r.count,r));const re=`${this.options.pluralSeparator}zero`,se=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(j&&(r.ordinal&&Q.indexOf(se)===0&&ne.push(S+Q.replace(se,this.options.pluralSeparator)),ne.push(S+Q),R&&ne.push(S+re)),M){const le=`${S}${this.options.contextSeparator||"_"}${r.context}`;ne.push(le),j&&(r.ordinal&&Q.indexOf(se)===0&&ne.push(le+Q.replace(se,this.options.pluralSeparator)),ne.push(le+Q),R&&ne.push(le+re))}}let G;for(;G=ne.pop();)this.isValidLookup(a)||(d=G,a=this.getResource(ee,F,G,r))}))})}),{res:a,usedKey:u,exactUsedKey:d,usedLng:f,usedNS:g}}isValidLookup(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}getResource(i,r,a,u={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(i,r,a,u):this.resourceStore.getResource(i,r,a,u)}getUsedParamsDetails(i={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],a=i.replace&&!Ne(i.replace);let u=a?i.replace:i;if(a&&typeof i.count<"u"&&(u.count=i.count),this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),!a){u={...u};for(const d of r)delete u[d]}return u}static hasDefaultValue(i){const r="defaultValue";for(const a in i)if(Object.prototype.hasOwnProperty.call(i,a)&&r===a.substring(0,r.length)&&i[a]!==void 0)return!0;return!1}}class pp{constructor(i){this.options=i,this.supportedLngs=this.options.supportedLngs||!1,this.logger=wi.create("languageUtils")}getScriptPartFromCode(i){if(i=$a(i),!i||i.indexOf("-")<0)return null;const r=i.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(i){if(i=$a(i),!i||i.indexOf("-")<0)return i;const r=i.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(i){if(Ne(i)&&i.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(i)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?i.toLowerCase():i)}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}isSupportedCode(i){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}getBestMatchFromCodes(i){if(!i)return null;let r;return i.forEach(a=>{if(r)return;const u=this.formatLanguageCode(a);(!this.options.supportedLngs||this.isSupportedCode(u))&&(r=u)}),!r&&this.options.supportedLngs&&i.forEach(a=>{if(r)return;const u=this.getScriptPartFromCode(a);if(this.isSupportedCode(u))return r=u;const d=this.getLanguagePartFromCode(a);if(this.isSupportedCode(d))return r=d;r=this.options.supportedLngs.find(f=>{if(f===d)return f;if(!(f.indexOf("-")<0&&d.indexOf("-")<0)&&(f.indexOf("-")>0&&d.indexOf("-")<0&&f.substring(0,f.indexOf("-"))===d||f.indexOf(d)===0&&d.length>1))return f})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(i,r){if(!i)return[];if(typeof i=="function"&&(i=i(r)),Ne(i)&&(i=[i]),Array.isArray(i))return i;if(!r)return i.default||[];let a=i[r];return a||(a=i[this.getScriptPartFromCode(r)]),a||(a=i[this.formatLanguageCode(r)]),a||(a=i[this.getLanguagePartFromCode(r)]),a||(a=i.default),a||[]}toResolveHierarchy(i,r){const a=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],i),u=[],d=f=>{f&&(this.isSupportedCode(f)?u.push(f):this.logger.warn(`rejecting language code not found in supportedLngs: ${f}`))};return Ne(i)&&(i.indexOf("-")>-1||i.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(i)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(i)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(i))):Ne(i)&&d(this.formatLanguageCode(i)),a.forEach(f=>{u.indexOf(f)<0&&d(this.formatLanguageCode(f))}),u}}const mp={zero:0,one:1,two:2,few:3,many:4,other:5},gp={select:l=>l===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class hw{constructor(i,r={}){this.languageUtils=i,this.options=r,this.logger=wi.create("pluralResolver"),this.pluralRulesCache={}}addRule(i,r){this.rules[i]=r}clearCache(){this.pluralRulesCache={}}getRule(i,r={}){const a=$a(i==="dev"?"en":i),u=r.ordinal?"ordinal":"cardinal",d=JSON.stringify({cleanedCode:a,type:u});if(d in this.pluralRulesCache)return this.pluralRulesCache[d];let f;try{f=new Intl.PluralRules(a,{type:u})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),gp;if(!i.match(/-|_/))return gp;const _=this.languageUtils.getLanguagePartFromCode(i);f=this.getRule(_,r)}return this.pluralRulesCache[d]=f,f}needsPlural(i,r={}){let a=this.getRule(i,r);return a||(a=this.getRule("dev",r)),a?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(i,r,a={}){return this.getSuffixes(i,a).map(u=>`${r}${u}`)}getSuffixes(i,r={}){let a=this.getRule(i,r);return a||(a=this.getRule("dev",r)),a?a.resolvedOptions().pluralCategories.sort((u,d)=>mp[u]-mp[d]).map(u=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${u}`):[]}getSuffix(i,r,a={}){const u=this.getRule(i,a);return u?`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${u.select(r)}`:(this.logger.warn(`no plural rule found for: ${i}`),this.getSuffix("dev",r,a))}}const vp=(l,i,r,a=".",u=!0)=>{let d=nw(l,i,r);return!d&&u&&Ne(r)&&(d=bh(l,r,a),d===void 0&&(d=bh(i,r,a))),d},nh=l=>l.replace(/\$/g,"$$$$");class dw{constructor(i={}){this.logger=wi.create("interpolator"),this.options=i,this.format=i?.interpolation?.format||(r=>r),this.init(i)}init(i={}){i.interpolation||(i.interpolation={escapeValue:!0});const{escape:r,escapeValue:a,useRawValueToEscape:u,prefix:d,prefixEscaped:f,suffix:g,suffixEscaped:_,formatSeparator:w,unescapeSuffix:S,unescapePrefix:x,nestingPrefix:j,nestingPrefixEscaped:R,nestingSuffix:M,nestingSuffixEscaped:U,nestingOptionsSeparator:F,maxReplaces:ee,alwaysFormat:ne}=i.interpolation;this.escape=r!==void 0?r:rw,this.escapeValue=a!==void 0?a:!0,this.useRawValueToEscape=u!==void 0?u:!1,this.prefix=d?Co(d):f||"{{",this.suffix=g?Co(g):_||"}}",this.formatSeparator=w||",",this.unescapePrefix=S?"":x||"-",this.unescapeSuffix=this.unescapePrefix?"":S||"",this.nestingPrefix=j?Co(j):R||Co("$t("),this.nestingSuffix=M?Co(M):U||Co(")"),this.nestingOptionsSeparator=F||",",this.maxReplaces=ee||1e3,this.alwaysFormat=ne!==void 0?ne:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const i=(r,a)=>r?.source===a?(r.lastIndex=0,r):new RegExp(a,"g");this.regexp=i(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=i(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=i(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(i,r,a,u){let d,f,g;const _=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},w=R=>{if(R.indexOf(this.formatSeparator)<0){const ee=vp(r,_,R,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(ee,void 0,a,{...u,...r,interpolationkey:R}):ee}const M=R.split(this.formatSeparator),U=M.shift().trim(),F=M.join(this.formatSeparator).trim();return this.format(vp(r,_,U,this.options.keySeparator,this.options.ignoreJSONStructure),F,a,{...u,...r,interpolationkey:U})};this.resetRegExp();const S=u?.missingInterpolationHandler||this.options.missingInterpolationHandler,x=u?.interpolation?.skipOnVariables!==void 0?u.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:R=>nh(R)},{regex:this.regexp,safeValue:R=>this.escapeValue?nh(this.escape(R)):nh(R)}].forEach(R=>{for(g=0;d=R.regex.exec(i);){const M=d[1].trim();if(f=w(M),f===void 0)if(typeof S=="function"){const F=S(i,d,u);f=Ne(F)?F:""}else if(u&&Object.prototype.hasOwnProperty.call(u,M))f="";else if(x){f=d[0];continue}else this.logger.warn(`missed to pass in variable ${M} for interpolating ${i}`),f="";else!Ne(f)&&!this.useRawValueToEscape&&(f=ap(f));const U=R.safeValue(f);if(i=i.replace(d[0],U),x?(R.regex.lastIndex+=f.length,R.regex.lastIndex-=d[0].length):R.regex.lastIndex=0,g++,g>=this.maxReplaces)break}}),i}nest(i,r,a={}){let u,d,f;const g=(_,w)=>{const S=this.nestingOptionsSeparator;if(_.indexOf(S)<0)return _;const x=_.split(new RegExp(`${S}[ ]*{`));let j=`{${x[1]}`;_=x[0],j=this.interpolate(j,f);const R=j.match(/'/g),M=j.match(/"/g);((R?.length??0)%2===0&&!M||M.length%2!==0)&&(j=j.replace(/'/g,'"'));try{f=JSON.parse(j),w&&(f={...w,...f})}catch(U){return this.logger.warn(`failed parsing options string in nesting for key ${_}`,U),`${_}${S}${j}`}return f.defaultValue&&f.defaultValue.indexOf(this.prefix)>-1&&delete f.defaultValue,_};for(;u=this.nestingRegexp.exec(i);){let _=[];f={...a},f=f.replace&&!Ne(f.replace)?f.replace:f,f.applyPostProcessor=!1,delete f.defaultValue;const w=/{.*}/.test(u[1])?u[1].lastIndexOf("}")+1:u[1].indexOf(this.formatSeparator);if(w!==-1&&(_=u[1].slice(w).split(this.formatSeparator).map(S=>S.trim()).filter(Boolean),u[1]=u[1].slice(0,w)),d=r(g.call(this,u[1].trim(),f),f),d&&u[0]===i&&!Ne(d))return d;Ne(d)||(d=ap(d)),d||(this.logger.warn(`missed to resolve ${u[1]} for nesting ${i}`),d=""),_.length&&(d=_.reduce((S,x)=>this.format(S,x,a.lng,{...a,interpolationkey:u[1].trim()}),d.trim())),i=i.replace(u[0],d),this.regexp.lastIndex=0}return i}}const fw=l=>{let i=l.toLowerCase().trim();const r={};if(l.indexOf("(")>-1){const a=l.split("(");i=a[0].toLowerCase().trim();const u=a[1].substring(0,a[1].length-1);i==="currency"&&u.indexOf(":")<0?r.currency||(r.currency=u.trim()):i==="relativetime"&&u.indexOf(":")<0?r.range||(r.range=u.trim()):u.split(";").forEach(f=>{if(f){const[g,..._]=f.split(":"),w=_.join(":").trim().replace(/^'+|'+$/g,""),S=g.trim();r[S]||(r[S]=w),w==="false"&&(r[S]=!1),w==="true"&&(r[S]=!0),isNaN(w)||(r[S]=parseInt(w,10))}})}return{formatName:i,formatOptions:r}},_p=l=>{const i={};return(r,a,u)=>{let d=u;u&&u.interpolationkey&&u.formatParams&&u.formatParams[u.interpolationkey]&&u[u.interpolationkey]&&(d={...d,[u.interpolationkey]:void 0});const f=a+JSON.stringify(d);let g=i[f];return g||(g=l($a(a),u),i[f]=g),g(r)}},pw=l=>(i,r,a)=>l($a(r),a)(i);class mw{constructor(i={}){this.logger=wi.create("formatter"),this.options=i,this.init(i)}init(i,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const a=r.cacheInBuiltFormats?_p:pw;this.formats={number:a((u,d)=>{const f=new Intl.NumberFormat(u,{...d});return g=>f.format(g)}),currency:a((u,d)=>{const f=new Intl.NumberFormat(u,{...d,style:"currency"});return g=>f.format(g)}),datetime:a((u,d)=>{const f=new Intl.DateTimeFormat(u,{...d});return g=>f.format(g)}),relativetime:a((u,d)=>{const f=new Intl.RelativeTimeFormat(u,{...d});return g=>f.format(g,d.range||"day")}),list:a((u,d)=>{const f=new Intl.ListFormat(u,{...d});return g=>f.format(g)})}}add(i,r){this.formats[i.toLowerCase().trim()]=r}addCached(i,r){this.formats[i.toLowerCase().trim()]=_p(r)}format(i,r,a,u={}){const d=r.split(this.formatSeparator);if(d.length>1&&d[0].indexOf("(")>1&&d[0].indexOf(")")<0&&d.find(g=>g.indexOf(")")>-1)){const g=d.findIndex(_=>_.indexOf(")")>-1);d[0]=[d[0],...d.splice(1,g)].join(this.formatSeparator)}return d.reduce((g,_)=>{const{formatName:w,formatOptions:S}=fw(_);if(this.formats[w]){let x=g;try{const j=u?.formatParams?.[u.interpolationkey]||{},R=j.locale||j.lng||u.locale||u.lng||a;x=this.formats[w](g,R,{...S,...u,...j})}catch(j){this.logger.warn(j)}return x}else this.logger.warn(`there was no format function for ${w}`);return g},i)}}const gw=(l,i)=>{l.pending[i]!==void 0&&(delete l.pending[i],l.pendingCount--)};class vw extends bu{constructor(i,r,a,u={}){super(),this.backend=i,this.store=r,this.services=a,this.languageUtils=a.languageUtils,this.options=u,this.logger=wi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=u.maxParallelReads||10,this.readingCalls=0,this.maxRetries=u.maxRetries>=0?u.maxRetries:5,this.retryTimeout=u.retryTimeout>=1?u.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(a,u.backend,u)}queueLoad(i,r,a,u){const d={},f={},g={},_={};return i.forEach(w=>{let S=!0;r.forEach(x=>{const j=`${w}|${x}`;!a.reload&&this.store.hasResourceBundle(w,x)?this.state[j]=2:this.state[j]<0||(this.state[j]===1?f[j]===void 0&&(f[j]=!0):(this.state[j]=1,S=!1,f[j]===void 0&&(f[j]=!0),d[j]===void 0&&(d[j]=!0),_[x]===void 0&&(_[x]=!0)))}),S||(g[w]=!0)}),(Object.keys(d).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:u}),{toLoad:Object.keys(d),pending:Object.keys(f),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(_)}}loaded(i,r,a){const u=i.split("|"),d=u[0],f=u[1];r&&this.emit("failedLoading",d,f,r),!r&&a&&this.store.addResourceBundle(d,f,a,void 0,void 0,{skipCopy:!0}),this.state[i]=r?-1:2,r&&a&&(this.state[i]=0);const g={};this.queue.forEach(_=>{tw(_.loaded,[d],f),gw(_,i),r&&_.errors.push(r),_.pendingCount===0&&!_.done&&(Object.keys(_.loaded).forEach(w=>{g[w]||(g[w]={});const S=_.loaded[w];S.length&&S.forEach(x=>{g[w][x]===void 0&&(g[w][x]=!0)})}),_.done=!0,_.errors.length?_.callback(_.errors):_.callback())}),this.emit("loaded",g),this.queue=this.queue.filter(_=>!_.done)}read(i,r,a,u=0,d=this.retryTimeout,f){if(!i.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:r,fcName:a,tried:u,wait:d,callback:f});return}this.readingCalls++;const g=(w,S)=>{if(this.readingCalls--,this.waitingReads.length>0){const x=this.waitingReads.shift();this.read(x.lng,x.ns,x.fcName,x.tried,x.wait,x.callback)}if(w&&S&&u<this.maxRetries){setTimeout(()=>{this.read.call(this,i,r,a,u+1,d*2,f)},d);return}f(w,S)},_=this.backend[a].bind(this.backend);if(_.length===2){try{const w=_(i,r);w&&typeof w.then=="function"?w.then(S=>g(null,S)).catch(g):g(null,w)}catch(w){g(w)}return}return _(i,r,g)}prepareLoading(i,r,a={},u){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();Ne(i)&&(i=this.languageUtils.toResolveHierarchy(i)),Ne(r)&&(r=[r]);const d=this.queueLoad(i,r,a,u);if(!d.toLoad.length)return d.pending.length||u(),null;d.toLoad.forEach(f=>{this.loadOne(f)})}load(i,r,a){this.prepareLoading(i,r,{},a)}reload(i,r,a){this.prepareLoading(i,r,{reload:!0},a)}loadOne(i,r=""){const a=i.split("|"),u=a[0],d=a[1];this.read(u,d,"read",void 0,void 0,(f,g)=>{f&&this.logger.warn(`${r}loading namespace ${d} for language ${u} failed`,f),!f&&g&&this.logger.log(`${r}loaded namespace ${d} for language ${u}`,g),this.loaded(i,f,g)})}saveMissing(i,r,a,u,d,f={},g=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${a}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(a==null||a==="")){if(this.backend?.create){const _={...f,isUpdate:d},w=this.backend.create.bind(this.backend);if(w.length<6)try{let S;w.length===5?S=w(i,r,a,u,_):S=w(i,r,a,u),S&&typeof S.then=="function"?S.then(x=>g(null,x)).catch(g):g(null,S)}catch(S){g(S)}else w(i,r,a,u,g,_)}!i||!i[0]||this.store.addResource(i[0],r,a,u)}}}const yp=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:l=>{let i={};if(typeof l[1]=="object"&&(i=l[1]),Ne(l[1])&&(i.defaultValue=l[1]),Ne(l[2])&&(i.tDescription=l[2]),typeof l[2]=="object"||typeof l[3]=="object"){const r=l[3]||l[2];Object.keys(r).forEach(a=>{i[a]=r[a]})}return i},interpolation:{escapeValue:!0,format:l=>l,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),wp=l=>(Ne(l.ns)&&(l.ns=[l.ns]),Ne(l.fallbackLng)&&(l.fallbackLng=[l.fallbackLng]),Ne(l.fallbackNS)&&(l.fallbackNS=[l.fallbackNS]),l.supportedLngs?.indexOf?.("cimode")<0&&(l.supportedLngs=l.supportedLngs.concat(["cimode"])),typeof l.initImmediate=="boolean"&&(l.initAsync=l.initImmediate),l),uu=()=>{},_w=l=>{Object.getOwnPropertyNames(Object.getPrototypeOf(l)).forEach(r=>{typeof l[r]=="function"&&(l[r]=l[r].bind(l))})};class Fa extends bu{constructor(i={},r){if(super(),this.options=wp(i),this.services={},this.logger=wi,this.modules={external:[]},_w(this),r&&!this.isInitialized&&!i.isClone){if(!this.options.initAsync)return this.init(i,r),this;setTimeout(()=>{this.init(i,r)},0)}}init(i={},r){this.isInitializing=!0,typeof i=="function"&&(r=i,i={}),i.defaultNS==null&&i.ns&&(Ne(i.ns)?i.defaultNS=i.ns:i.ns.indexOf("translation")<0&&(i.defaultNS=i.ns[0]));const a=yp();this.options={...a,...this.options,...wp(i)},this.options.interpolation={...a.interpolation,...this.options.interpolation},i.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=i.keySeparator),i.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=i.nsSeparator);const u=w=>w?typeof w=="function"?new w:w:null;if(!this.options.isClone){this.modules.logger?wi.init(u(this.modules.logger),this.options):wi.init(null,this.options);let w;this.modules.formatter?w=this.modules.formatter:w=mw;const S=new pp(this.options);this.store=new hp(this.options.resources,this.options);const x=this.services;x.logger=wi,x.resourceStore=this.store,x.languageUtils=S,x.pluralResolver=new hw(S,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==a.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),w&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(x.formatter=u(w),x.formatter.init&&x.formatter.init(x,this.options),this.options.interpolation.format=x.formatter.format.bind(x.formatter)),x.interpolator=new dw(this.options),x.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},x.backendConnector=new vw(u(this.modules.backend),x.resourceStore,x,this.options),x.backendConnector.on("*",(R,...M)=>{this.emit(R,...M)}),this.modules.languageDetector&&(x.languageDetector=u(this.modules.languageDetector),x.languageDetector.init&&x.languageDetector.init(x,this.options.detection,this.options)),this.modules.i18nFormat&&(x.i18nFormat=u(this.modules.i18nFormat),x.i18nFormat.init&&x.i18nFormat.init(this)),this.translator=new gu(this.services,this.options),this.translator.on("*",(R,...M)=>{this.emit(R,...M)}),this.modules.external.forEach(R=>{R.init&&R.init(this)})}if(this.format=this.options.interpolation.format,r||(r=uu),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const w=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);w.length>0&&w[0]!=="dev"&&(this.options.lng=w[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(w=>{this[w]=(...S)=>this.store[w](...S)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(w=>{this[w]=(...S)=>(this.store[w](...S),this)});const g=Ta(),_=()=>{const w=(S,x)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),g.resolve(x),r(S,x)};if(this.languages&&!this.isInitialized)return w(null,this.t.bind(this));this.changeLanguage(this.options.lng,w)};return this.options.resources||!this.options.initAsync?_():setTimeout(_,0),g}loadResources(i,r=uu){let a=r;const u=Ne(i)?i:this.language;if(typeof i=="function"&&(a=i),!this.options.resources||this.options.partialBundledLanguages){if(u?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return a();const d=[],f=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(w=>{w!=="cimode"&&d.indexOf(w)<0&&d.push(w)})};u?f(u):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(_=>f(_)),this.options.preload?.forEach?.(g=>f(g)),this.services.backendConnector.load(d,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),a(g)})}else a(null)}reloadResources(i,r,a){const u=Ta();return typeof i=="function"&&(a=i,i=void 0),typeof r=="function"&&(a=r,r=void 0),i||(i=this.languages),r||(r=this.options.ns),a||(a=uu),this.services.backendConnector.reload(i,r,d=>{u.resolve(),a(d)}),u}use(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&lm.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}setResolvedLanguage(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1)){for(let r=0;r<this.languages.length;r++){const a=this.languages[r];if(!(["cimode","dev"].indexOf(a)>-1)&&this.store.hasLanguageSomeTranslations(a)){this.resolvedLanguage=a;break}}!this.resolvedLanguage&&this.languages.indexOf(i)<0&&this.store.hasLanguageSomeTranslations(i)&&(this.resolvedLanguage=i,this.languages.unshift(i))}}changeLanguage(i,r){this.isLanguageChangingTo=i;const a=Ta();this.emit("languageChanging",i);const u=g=>{this.language=g,this.languages=this.services.languageUtils.toResolveHierarchy(g),this.resolvedLanguage=void 0,this.setResolvedLanguage(g)},d=(g,_)=>{_?this.isLanguageChangingTo===i&&(u(_),this.translator.changeLanguage(_),this.isLanguageChangingTo=void 0,this.emit("languageChanged",_),this.logger.log("languageChanged",_)):this.isLanguageChangingTo=void 0,a.resolve((...w)=>this.t(...w)),r&&r(g,(...w)=>this.t(...w))},f=g=>{!i&&!g&&this.services.languageDetector&&(g=[]);const _=Ne(g)?g:g&&g[0],w=this.store.hasLanguageSomeTranslations(_)?_:this.services.languageUtils.getBestMatchFromCodes(Ne(g)?[g]:g);w&&(this.language||u(w),this.translator.language||this.translator.changeLanguage(w),this.services.languageDetector?.cacheUserLanguage?.(w)),this.loadResources(w,S=>{d(S,w)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?f(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(f):this.services.languageDetector.detect(f):f(i),a}getFixedT(i,r,a){const u=(d,f,...g)=>{let _;typeof f!="object"?_=this.options.overloadTranslationOptionHandler([d,f].concat(g)):_={...f},_.lng=_.lng||u.lng,_.lngs=_.lngs||u.lngs,_.ns=_.ns||u.ns,_.keyPrefix!==""&&(_.keyPrefix=_.keyPrefix||a||u.keyPrefix);const w=this.options.keySeparator||".";let S;return _.keyPrefix&&Array.isArray(d)?S=d.map(x=>(typeof x=="function"&&(x=xh(x,{...this.options,...f})),`${_.keyPrefix}${w}${x}`)):(typeof d=="function"&&(d=xh(d,{...this.options,...f})),S=_.keyPrefix?`${_.keyPrefix}${w}${d}`:d),this.t(S,_)};return Ne(i)?u.lng=i:u.lngs=i,u.ns=r,u.keyPrefix=a,u}t(...i){return this.translator?.translate(...i)}exists(...i){return this.translator?.exists(...i)}setDefaultNamespace(i){this.options.defaultNS=i}hasLoadedNamespace(i,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const a=r.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(a.toLowerCase()==="cimode")return!0;const f=(g,_)=>{const w=this.services.backendConnector.state[`${g}|${_}`];return w===-1||w===0||w===2};if(r.precheck){const g=r.precheck(this,f);if(g!==void 0)return g}return!!(this.hasResourceBundle(a,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(a,i)&&(!u||f(d,i)))}loadNamespaces(i,r){const a=Ta();return this.options.ns?(Ne(i)&&(i=[i]),i.forEach(u=>{this.options.ns.indexOf(u)<0&&this.options.ns.push(u)}),this.loadResources(u=>{a.resolve(),r&&r(u)}),a):(r&&r(),Promise.resolve())}loadLanguages(i,r){const a=Ta();Ne(i)&&(i=[i]);const u=this.options.preload||[],d=i.filter(f=>u.indexOf(f)<0&&this.services.languageUtils.isSupportedCode(f));return d.length?(this.options.preload=u.concat(d),this.loadResources(f=>{a.resolve(),r&&r(f)}),a):(r&&r(),Promise.resolve())}dir(i){if(i||(i=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!i)return"rtl";try{const u=new Intl.Locale(i);if(u&&u.getTextInfo){const d=u.getTextInfo();if(d&&d.direction)return d.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],a=this.services?.languageUtils||new pp(yp());return i.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(a.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(i={},r){return new Fa(i,r)}cloneInstance(i={},r=uu){const a=i.forkResourceStore;a&&delete i.forkResourceStore;const u={...this.options,...i,isClone:!0},d=new Fa(u);if((i.debug!==void 0||i.prefix!==void 0)&&(d.logger=d.logger.clone(i)),["store","services","language"].forEach(g=>{d[g]=this[g]}),d.services={...this.services},d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},a){const g=Object.keys(this.store.data).reduce((_,w)=>(_[w]={...this.store.data[w]},_[w]=Object.keys(_[w]).reduce((S,x)=>(S[x]={..._[w][x]},S),_[w]),_),{});d.store=new hp(g,u),d.services.resourceStore=d.store}return d.translator=new gu(d.services,u),d.translator.on("*",(g,..._)=>{d.emit(g,..._)}),d.init(u,r),d.translator.options=u,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ot=Fa.createInstance();Ot.createInstance=Fa.createInstance;Ot.createInstance;Ot.dir;Ot.init;Ot.loadResources;Ot.reloadResources;Ot.use;Ot.changeLanguage;Ot.getFixedT;Ot.t;Ot.exists;Ot.setDefaultNamespace;Ot.hasLoadedNamespace;Ot.loadNamespaces;Ot.loadLanguages;const yw={hu:{translation:{"header-title":"Admin Irnytpult","nav-users":"Felhasznlk","nav-events":"Esemnyek","nav-map":"Trkp","nav-users-manager":"Felhasznlk Kezelse","nav-help-editor":"Segtsg Szerkeszt","nav-missing-persons-editor":"Eltnt Szemlyek Szerkeszt","nav-search-manager":"Keress Kezelse","select-page":"Vlassz oldalt","users-h2":"Felhasznl Kezels","user-id-label":"Felhasznl ID:","role-label":"Szerepkr:","update-role-btn":"Szerepkr Frisstse","events-h2":"Esemny Kezels","event-name-label":"Esemny Neve:","create-event-btn":"Esemny Ltrehozsa","map-h2":"l Trkp","role-searcher":"Keres","role-coordinator":"Koordintor","role-admin":"Admin","user-table-id":"ID","user-table-email":"Email","user-table-fullname":"Teljes Nv","user-table-role":"Szerepkr","event-table-id":"ID","event-table-name":"Nv","event-table-status":"Sttusz","event-table-starttime":"Kezdsi Id","role-update-success":"Szerepkr sikeresen frisstve","role-update-fail":"Nem sikerlt frissteni a szerepkrt:","event-create-success":"Esemny sikeresen ltrehozva","event-create-fail":"Nem sikerlt ltrehozni az esemnyt:","event-update-success":"Esemny sikeresen frisstve","event-update-fail":"Nem sikerlt frissteni az esemnyt:","event-delete-success":"Esemny sikeresen trlve","event-delete-fail":"Nem sikerlt trlni az esemnyt:","select-event-btn":"Esemny kivlasztsa","join-event-btn":"Csatlakozs az esemnyhez","event-join-success":"Sikeresen csatlakoztl az esemnyhez!","event-join-fail":"Nem sikerlt csatlakozni az esemnyhez:","select-event-first":"Krlek, elszr vlassz egy esemnyt!","event-status-label":"Esemny sttusza","status-active":"Aktv","status-paused":"Szneteltetve","status-completed":"Befejezve","update-event-btn":"Esemny szerkesztse","delete-event-btn":"Esemny trlse","users-manager-h2":"Felhasznlk Kezelse","create-user-btn":"Felhasznl Ltrehozsa","delete-user-btn":"Trls","update-user-btn":"Frissts","full-name-label":"Teljes Nv:","phone-label":"Telefonszm:","email-label":"Email:","password-label":"Jelsz:","active-label":"Aktv:","user-create-success":"Felhasznl sikeresen ltrehozva","user-create-fail":"Nem sikerlt ltrehozni a felhasznlt:","user-update-success":"Felhasznl sikeresen frisstve","user-update-fail":"Nem sikerlt frissteni a felhasznlt:","user-delete-success":"Felhasznl sikeresen trlve","user-delete-fail":"Nem sikerlt trlni a felhasznlt:","user-table-phone":"Telefon","user-table-active":"Aktv","help-editor-h2":"Segtsg Tartalom Szerkeszt","section-label":"Szakasz:","text-hu-label":"Szveg HU:","text-en-label":"Szveg EN:","text-sk-label":"Szveg SK:","text-ro-label":"Szveg RO:","text-pl-label":"Szveg PL:","create-help-btn":"Segtsg Bejegyzs Ltrehozsa","update-help-btn":"Frissts","delete-help-btn":"Trls","help-create-success":"Segtsg bejegyzs sikeresen ltrehozva","help-create-fail":"Nem sikerlt ltrehozni a segtsg bejegyzst:","help-update-success":"Segtsg bejegyzs sikeresen frisstve","help-update-fail":"Nem sikerlt frissteni a segtsg bejegyzst:","help-delete-success":"Segtsg bejegyzs sikeresen trlve","help-delete-fail":"Nem sikerlt trlni a segtsg bejegyzst:","help-table-section":"Szakasz","help-table-text-hu":"Szveg HU","missing-persons-editor-h2":"Eltnt Szemlyek Szerkeszt","event-id-label":"Esemny ID:","name-label":"Nv:","age-label":"letkor:","height-label":"Magassg (cm):","clothing-label":"Ruhzat:","photo-url-label":"Fot URL:","behavior-category-label":"Viselkedsi Kategria:","prob-zones-label":"Valsznsgi Znk (JSON):","create-missing-btn":"Eltnt Szemly Ltrehozsa","update-missing-btn":"Frissts","delete-missing-btn":"Trls","missing-create-success":"Eltnt szemly sikeresen ltrehozva","missing-create-fail":"Nem sikerlt ltrehozni az eltnt szemlyt:","missing-update-success":"Eltnt szemly sikeresen frisstve","missing-update-fail":"Nem sikerlt frissteni az eltnt szemlyt:","missing-delete-success":"Eltnt szemly sikeresen trlve","missing-delete-fail":"Nem sikerlt trlni az eltnt szemlyt:","missing-table-name":"Nv","missing-table-age":"letkor","missing-table-height":"Magassg","missing-table-clothing":"Ruhzat","missing-table-photo":"Fot URL","missing-table-behavior":"Viselkeds","missing-table-prob-zones":"Valsznsgi Znk","login-header":"Bejelentkezs","login-email":"Email","login-password":"Jelsz","login-full-name":"Teljes Nv","login-phone-number":"Telefonszm","login-save-credentials":"Bejelentkezsi adatok mentse","login-register":"Regisztrci","login-login":"Bejelentkezs","login-resend-email":"Megerst email jrakldse","error-invalid-email":"rvnytelen email formtum","error-password-too-short":"A jelsznak legalbb 6 karakterbl kell llnia","error-full-name-required":"Teljes nv megadsa ktelez","error-invalid-phone":"rvnytelen telefonszm formtum","error-no-internet":"Nincs internetkapcsolat","success-email-resent":"Megerst email sikeresen jrakldve","error-resend-email-failed":"Nem sikerlt jrakldeni a megerst emailt","error-registration-failed":"A regisztrci nem sikerlt","error-email-confirmation-required":"Krjk, erstsd meg az email cmedet a regisztrci befejezshez","error-auth-user-already-exists":"A felhasznl mr ltezik","error-auth-invalid-credentials":"rvnytelen email vagy jelsz","error-auth-weak-password":"A jelsz tl gyenge","error-registration-error":"Regisztrcis hiba","error-permission-denied":"Hozzfrs megtagadva a users tblhoz","error-column-not-found":"Adatbzis hiba: Az email oszlop nem ltezik","error-invalid-data-type":"Adatbzis hiba: rvnytelen adattpus a triggerben","error-login-failed":"A bejelentkezs nem sikerlt","error-login-error":"Bejelentkezsi hiba","error-email-not-confirmed":"Email nincs megerstve","error-loading-markers":"Nem sikerlt betlteni a markereket:","location-label":"Vlassz helysznt a trkpen","location-lat-label":"Szlessg","location-lng-label":"Hosszsg","photo-label":"Fot",uploading:"Feltlts...","confirm-delete":"Biztosan trlni szeretnd?","cancel-btn":"Mgse","actions-label":"Mveletek","missing-table-location":"Helyszn","permission-denied":"Hozzfrs megtagadva","user-management-h2":"Felhasznl Kezels","user-manager-tab":"Felhasznlk Kezelse","role-update-tab":"Szerepkr Frisstse","quick-role-update":"Gyors Szerepkr Frissts","update-user-h3":"Felhasznl Frisstse","create-user-h3":"j Felhasznl Ltrehozsa",yes:"Igen",no:"Nem",loading:"Betlts...","nav-user-management":"Felhasznlk kezelse","edit-btn":"Szerkeszts","save-btn":"Ments","discard-btn":"Trls","participants-h2":"Rsztvevk","participant-table-name":"Nv","participant-table-email":"Email","participant-table-role":"Szerepkr","participant-table-joined":"Csatlakozs","participant-table-status":"Sttusz","leave-event-btn":"Esemny elhagysa","pause-participant-btn":"Szneteltets","resume-participant-btn":"Folytats","leave-participant-btn":"Tvozs","participant-status-update-success":"Rsztvev sttusza frisstve","participant-status-update-fail":"Hiba a rsztvev sttusznak frisstsekor","event-leave-success":"Sikeresen elhagytad az esemnyt","event-leave-fail":"Hiba az esemny elhagysakor","status-active":"Aktv","status-paused":"Sznetel","status-left":"Tvozott","participant-table-phone":"Telefonszm","participant-table-left":"Tvozs ideje","participant-table-joined":"Csatlakozs ideje","no-changes-detected":"Nem trtnt vltozs az adatokban.","error-invalid-json":"rvnytelen JSON formtum a valsznsgi znkhoz.","missing-update-success":"Adatok sikeresen frisstve.","missing-update-fail":"Hiba az adatok frisstsekor:",marker:"Jelz","marker-type":"Tpus",user:"Felhasznl","phone-number":"Telefonszm","recording-time":"Rgzts ideje","missing-person":"Elveszett szemly",age:"letkor",clothing:"Ruhzat",coordinates:"Koordintk","location-required-for-zones":"Helyadat (szlessg, hosszsg) szksges az automatikus valsznsgi znkhoz","invalid-prob-zones":"rvnytelen valsznsgi znk: a koordintk vagy a terlet meghaladja a korltokat","select-behavior-category":"Viselkedsi kategria kivlasztsa","behavior-child1-3":"Gyermek (1-3 ves)","behavior-child4-6":"Gyermek (4-6 ves)","behavior-hiker":"Trz","behavior-despondent":"Zavart","behavior-hunter":"Vadsz","behavior-elderly":"Ids","behavior-default":"Alaprtelmezett","zone-25":"25% valsznsgi zna","zone-50":"50% valsznsgi zna","zone-75":"75% valsznsgi zna","zone-95":"95% valsznsgi zna","show-prob-zones":"Valsznsgi znk megjelentse"}},en:{translation:{"header-title":"Admin Dashboard","nav-users":"Users","nav-events":"Events","nav-map":"Map","nav-users-manager":"Users Manager","nav-help-editor":"Help Editor","nav-missing-persons-editor":"Missing Persons Editor","nav-search-manager":"Search Management","select-page":"Select a page","users-h2":"User Management","user-id-label":"User ID:","role-label":"Role:","update-role-btn":"Update Role","events-h2":"Event Management","event-name-label":"Event Name:","create-event-btn":"Create Event","map-h2":"Live Map","role-searcher":"Searcher","role-coordinator":"Coordinator","role-admin":"Admin","user-table-id":"ID","user-table-email":"Email","user-table-fullname":"Full Name","user-table-role":"Role","event-table-id":"ID","event-table-name":"Name","event-table-status":"Status","event-table-starttime":"Start Time","role-update-success":"Role updated successfully","role-update-fail":"Failed to update role:","event-create-success":"Event created successfully","event-create-fail":"Failed to create event:","event-update-success":"Event updated successfully","event-update-fail":"Failed to update event:","event-delete-success":"Event deleted successfully","event-delete-fail":"Failed to delete event:","select-event-btn":"Select Event","join-event-btn":"Join Event","event-join-success":"Successfully joined the event!","event-join-fail":"Failed to join the event:","select-event-first":"Please select an event first!","event-status-label":"Event Status","status-active":"Active","status-paused":"Paused","status-completed":"Completed","update-event-btn":"Update Event","delete-event-btn":"Delete Event","users-manager-h2":"Users Manager","create-user-btn":"Create User","delete-user-btn":"Delete","update-user-btn":"Update","full-name-label":"Full Name:","phone-label":"Phone Number:","email-label":"Email:","password-label":"Password:","active-label":"Active:","user-create-success":"User created successfully","user-create-fail":"Failed to create user:","user-update-success":"User updated successfully","user-update-fail":"Failed to update user:","user-delete-success":"User deleted successfully","user-delete-fail":"Failed to delete user:","user-table-phone":"Phone","user-table-active":"Active","help-editor-h2":"Help Content Editor","section-label":"Section:","text-hu-label":"Text HU:","text-en-label":"Text EN:","text-sk-label":"Text SK:","text-ro-label":"Text RO:","text-pl-label":"Text PL:","create-help-btn":"Create Help Entry","update-help-btn":"Update","delete-help-btn":"Delete","help-create-success":"Help entry created successfully","help-create-fail":"Failed to create help entry:","help-update-success":"Help entry updated successfully","help-update-fail":"Failed to update help entry:","help-delete-success":"Help entry deleted successfully","help-delete-fail":"Failed to delete help entry:","help-table-section":"Section","help-table-text-hu":"Text HU","missing-persons-editor-h2":"Missing Persons Editor","event-id-label":"Event ID:","name-label":"Name:","age-label":"Age:","height-label":"Height (cm):","clothing-label":"Clothing:","photo-url-label":"Photo URL:","behavior-category-label":"Behavior Category:","prob-zones-label":"Prob Zones (JSON):","create-missing-btn":"Create Missing Person","update-missing-btn":"Update","delete-missing-btn":"Delete","missing-create-success":"Missing person created successfully","missing-create-fail":"Failed to create missing person:","missing-update-success":"Missing person updated successfully","missing-update-fail":"Failed to update missing person:","missing-delete-success":"Missing person deleted successfully","missing-delete-fail":"Failed to delete missing person:","missing-table-name":"Name","missing-table-age":"Age","missing-table-height":"Height","missing-table-clothing":"Clothing","missing-table-photo":"Photo URL","missing-table-behavior":"Behavior","missing-table-prob-zones":"Probable Zones","login-header":"Login","login-email":"Email","login-password":"Password","login-full-name":"Full Name","login-phone-number":"Phone Number","login-save-credentials":"Save Credentials","login-register":"Register","login-login":"Login","login-resend-email":"Resend Confirmation Email","error-invalid-email":"Invalid email format","error-password-too-short":"Password must be at least 6 characters","error-full-name-required":"Full name is required","error-invalid-phone":"Invalid phone number format","error-no-internet":"No internet connection","success-email-resent":"Confirmation email resent successfully","error-resend-email-failed":"Failed to resend confirmation email","error-registration-failed":"Registration failed","error-email-confirmation-required":"Please confirm your email to complete registration","error-auth-user-already-exists":"User already exists","error-auth-invalid-credentials":"Invalid email or password","error-auth-weak-password":"Password is too weak","error-registration-error":"Registration error","error-permission-denied":"Access denied to users table","error-column-not-found":"Database error: Email column does not exist","error-invalid-data-type":"Database error: Invalid data type in trigger","error-login-failed":"Login failed","error-login-error":"Login error","error-email-not-confirmed":"Email not confirmed","error-loading-markers":"Failed to load markers:","location-label":"Select location on map","location-lat-label":"Latitude","location-lng-label":"Longitude","photo-label":"Photo",uploading:"Uploading...","confirm-delete":"Are you sure you want to delete?","cancel-btn":"Cancel","actions-label":"Actions","missing-table-location":"Location","permission-denied":"Permission denied","user-management-h2":"User Management","user-manager-tab":"User Manager","role-update-tab":"Role Update","quick-role-update":"Quick Role Update","update-user-h3":"Update User","create-user-h3":"Create New User",yes:"Yes",no:"No",loading:"Loading...","nav-user-management":"User Management","edit-btn":"Edit","save-btn":"Save","discard-btn":"Delete","participants-h2":"Participants","participant-table-name":"Name","participant-table-email":"Email","participant-table-role":"Role","participant-table-joined":"Joined","participant-table-status":"Status","leave-event-btn":"Leave Event","pause-participant-btn":"Pause","resume-participant-btn":"Resume","leave-participant-btn":"Leave","participant-status-update-success":"Participant status updated","participant-status-update-fail":"Error updating participant status","event-leave-success":"You have successfully left the event","event-leave-fail":"Error leaving the event","status-active":"Active","status-paused":"Paused","status-left":"Left","participant-table-phone":"Phone number","participant-table-left":"Leave time","participant-table-joined":"Join time","no-changes-detected":"No changes detected in the data.","error-invalid-json":"Invalid JSON format for probability zones.","missing-update-success":"Data updated successfully.","missing-update-fail":"Error updating data:",marker:"Marker","marker-type":"Type",user:"User","phone-number":"Phone number","recording-time":"Recording time","missing-person":"Missing person",age:"Age",clothing:"Clothing",coordinates:"Coordinates","location-required-for-zones":"Location (lat, lng) required for automatic probability zones","invalid-prob-zones":"Invalid probability zones: coordinates or area exceed limits","select-behavior-category":"Select behavior category","behavior-child1-3":"Child (1-3 years)","behavior-child4-6":"Child (4-6 years)","behavior-hiker":"Hiker","behavior-despondent":"Despondent","behavior-hunter":"Hunter","behavior-elderly":"Elderly","behavior-default":"Default","zone-25":"25% Probability Zone","zone-50":"50% Probability Zone","zone-75":"75% Probability Zone","zone-95":"95% Probability Zone","show-prob-zones":"Show Probability Zones"}},sk:{translation:{"header-title":"Administran panel","nav-users":"Pouvatelia","nav-events":"Udalosti","nav-map":"Mapa","nav-users-manager":"Sprva pouvateov","nav-help-editor":"Editor pomoci","nav-missing-persons-editor":"Editor nezvestnch osb","nav-search-manager":"Sprva vyhadvania","select-page":"Vyberte strnku","users-h2":"Sprva pouvateov","user-id-label":"ID pouvatea:","role-label":"Rola:","update-role-btn":"Aktualizova rolu","events-h2":"Sprva udalost","event-name-label":"Nzov udalosti:","create-event-btn":"Vytvori udalos","map-h2":"iv mapa","role-searcher":"Hada","role-coordinator":"Koordintor","role-admin":"Admin","user-table-id":"ID","user-table-email":"Email","user-table-fullname":"Cel meno","user-table-role":"Rola","event-table-id":"ID","event-table-name":"Nzov","event-table-status":"Stav","event-table-starttime":"as zaiatku","role-update-success":"Rola spene aktualizovan","role-update-fail":"Nepodarilo sa aktualizova rolu:","event-create-success":"Udalos spene vytvoren","event-create-fail":"Nepodarilo sa vytvori udalos:","event-update-success":"Udalos spene aktualizovan","event-update-fail":"Nepodarilo sa aktualizova udalos:","event-delete-success":"Udalos spene odstrnen","event-delete-fail":"Nepodarilo sa odstrni udalos:","select-event-btn":"Vybra udalos","join-event-btn":"Pripoji sa k udalosti","event-join-success":"spene si sa pripojil k udalosti!","event-join-fail":"Nepodarilo sa pripoji k udalosti:","select-event-first":"Najprv vyber udalos!","event-status-label":"Stav udalosti","status-active":"Aktvna","status-paused":"Pozastaven","status-completed":"Dokonen","update-event-btn":"Aktualizova udalos","delete-event-btn":"Odstrni udalos","users-manager-h2":"Sprva pouvateov","create-user-btn":"Vytvori pouvatea","delete-user-btn":"Odstrni","update-user-btn":"Aktualizova","full-name-label":"Cel meno:","phone-label":"Telefnne slo:","email-label":"Email:","password-label":"Heslo:","active-label":"Aktvny:","user-create-success":"Pouvate spene vytvoren","user-create-fail":"Nepodarilo sa vytvori pouvatea:","user-update-success":"Pouvate spene aktualizovan","user-update-fail":"Nepodarilo sa aktualizova pouvatea:","user-delete-success":"Pouvate spene odstrnen","user-delete-fail":"Nepodarilo sa odstrni pouvatea:","user-table-phone":"Telefn","user-table-active":"Aktvny","help-editor-h2":"Editor obsahu pomoci","section-label":"Sekcia:","text-hu-label":"Text HU:","text-en-label":"Text EN:","text-sk-label":"Text SK:","text-ro-label":"Text RO:","text-pl-label":"Text PL:","create-help-btn":"Vytvori zznam pomoci","update-help-btn":"Aktualizova","delete-help-btn":"Odstrni","help-create-success":"Zznam pomoci spene vytvoren","help-create-fail":"Nepodarilo sa vytvori zznam pomoci:","help-update-success":"Zznam pomoci spene aktualizovan","help-update-fail":"Nepodarilo sa aktualizova zznam pomoci:","help-delete-success":"Zznam pomoci spene odstrnen","help-delete-fail":"Nepodarilo sa odstrni zznam pomoci:","help-table-section":"Sekcia","help-table-text-hu":"Text HU","missing-persons-editor-h2":"Editor nezvestnch osb","event-id-label":"ID udalosti:","name-label":"Meno:","age-label":"Vek:","height-label":"Vka (cm):","clothing-label":"Obleenie:","photo-url-label":"URL fotografie:","behavior-category-label":"Kategria sprvania:","prob-zones-label":"Pravdepodobn zny (JSON):","create-missing-btn":"Vytvori nezvestn osobu","update-missing-btn":"Aktualizova","delete-missing-btn":"Odstrni","missing-create-success":"Nezvestn osoba spene vytvoren","missing-create-fail":"Nepodarilo sa vytvori nezvestn osobu:","missing-update-success":"Nezvestn osoba spene aktualizovan","missing-update-fail":"Nepodarilo sa aktualizova nezvestn osobu:","missing-delete-success":"Nezvestn osoba spene odstrnen","missing-delete-fail":"Nepodarilo sa odstrni nezvestn osobu:","missing-table-name":"Meno","missing-table-age":"Vek","missing-table-height":"Vka","missing-table-clothing":"Obleenie","missing-table-photo":"URL fotografie","missing-table-behavior":"Sprvanie","missing-table-prob-zones":"Pravdepodobn zny","login-header":"Prihlsenie","login-email":"Email","login-password":"Heslo","login-full-name":"Cel meno","login-phone-number":"Telefnne slo","login-save-credentials":"Uloi prihlasovacie daje","login-register":"Registrcia","login-login":"Prihlsi sa","login-resend-email":"Znovu odosla potvrdzovac email","error-invalid-email":"Neplatn formt emailu","error-password-too-short":"Heslo mus ma aspo 6 znakov","error-full-name-required":"Cel meno je povinn","error-invalid-phone":"Neplatn formt telefnneho sla","error-no-internet":"iadne internetov pripojenie","success-email-resent":"Potvrdzovac email bol spene znovu odoslan","error-resend-email-failed":"Nepodarilo sa znovu odosla potvrdzovac email","error-registration-failed":"Registrcia zlyhala","error-email-confirmation-required":"Prosm, potvrte v email na dokonenie registrcie","error-auth-user-already-exists":"Pouvate u existuje","error-auth-invalid-credentials":"Neplatn email alebo heslo","error-auth-weak-password":"Heslo je prli slab","error-registration-error":"Chyba registrcie","error-permission-denied":"Prstup k tabuke users zamietnut","error-column-not-found":"Chyba databzy: Stpec email neexistuje","error-invalid-data-type":"Chyba databzy: Neplatn typ dajov v triggeri","error-login-failed":"Prihlsenie zlyhalo","error-login-error":"Chyba prihlsenia","error-email-not-confirmed":"Email nepotvrden","error-loading-markers":"Nepodarilo sa nata znaky:","location-label":"Vyberte miesto na mape","location-lat-label":"Zemepisn rka","location-lng-label":"Zemepisn dka","photo-label":"Fotografia",uploading:"Nahrvanie...","confirm-delete":"Ste si ist, e chcete odstrni?","cancel-btn":"Zrui","actions-label":"Akcie","missing-table-location":"Umiestnenie","permission-denied":"Prstup zamietnut","user-management-h2":"Sprva pouvateov","user-manager-tab":"Sprvca pouvateov","role-update-tab":"Aktualizcia roly","quick-role-update":"Rchla aktualizcia roly","update-user-h3":"Aktualizova pouvatea","create-user-h3":"Vytvori novho pouvatea",yes:"no",no:"Nie",loading:"Natavanie...","nav-user-management":"Sprva pouvateov","edit-btn":"Upravi","save-btn":"Uloi","discard-btn":"Odstrni","participants-h2":"astnci","participant-table-name":"Meno","participant-table-email":"Email","participant-table-role":"Rola","participant-table-joined":"Pripojil sa","participant-table-status":"Stav","leave-event-btn":"Opusti udalos","pause-participant-btn":"Pozastavi","resume-participant-btn":"Pokraova","leave-participant-btn":"Ods","participant-status-update-success":"Stav astnka bol aktualizovan","participant-status-update-fail":"Chyba pri aktualizcii stavu astnka","event-leave-success":"spene ste opustili udalos","event-leave-fail":"Chyba pri opusten udalosti","status-active":"Aktvny","status-paused":"Pozastaven","status-left":"Odiiel","participant-table-phone":"Telefnne slo","participant-table-left":"as odchodu","participant-table-joined":"as pripojenia","no-changes-detected":"V dajoch neboli zisten iadne zmeny.","error-invalid-json":"Neplatn formt JSON pre pravdepodobnostn zny.","missing-update-success":"daje boli spene aktualizovan.","missing-update-fail":"Chyba pri aktualizcii dajov:",marker:"Znaka","marker-type":"Typ",user:"Pouvate","phone-number":"Telefnne slo","recording-time":"as zznamu","missing-person":"Nezvestn osoba",age:"Vek",clothing:"Obleenie",coordinates:"Sradnice","location-required-for-zones":"Poloha (rka, dka) je potrebn pre automatick zny pravdepodobnosti","invalid-prob-zones":"Neplatn zny pravdepodobnosti: sradnice alebo plocha presahuj limity","select-behavior-category":"Vyberte kategriu sprvania","behavior-child1-3":"Diea (1-3 roky)","behavior-child4-6":"Diea (4-6 rokov)","behavior-hiker":"Turista","behavior-despondent":"Zfal","behavior-hunter":"Poovnk","behavior-elderly":"Star lovek","behavior-default":"Predvolen","zone-25":"25% zna pravdepodobnosti","zone-50":"50% zna pravdepodobnosti","zone-75":"75% zna pravdepodobnosti","zone-95":"95% zna pravdepodobnosti","show-prob-zones":"Zobrazi zny pravdepodobnosti"}},ro:{translation:{"header-title":"Panou de administrare","nav-users":"Utilizatori","nav-events":"Evenimente","nav-map":"Hart","nav-users-manager":"Manager utilizatori","nav-help-editor":"Editor de ajutor","nav-missing-persons-editor":"Editor persoane disprute","nav-search-manager":"Management cutare","select-page":"Selectai o pagin","users-h2":"Management utilizatori","user-id-label":"ID utilizator:","role-label":"Rol:","update-role-btn":"Actualizai rolul","events-h2":"Management evenimente","event-name-label":"Nume eveniment:","create-event-btn":"Creai eveniment","map-h2":"Hart live","role-searcher":"Cuttor","role-coordinator":"Coordonator","role-admin":"Admin","user-table-id":"ID","user-table-email":"Email","user-table-fullname":"Nume complet","user-table-role":"Rol","event-table-id":"ID","event-table-name":"Nume","event-table-status":"Stare","event-table-starttime":"Ora de ncepere","role-update-success":"Rol actualizat cu succes","role-update-fail":"Nu s-a putut actualiza rolul:","event-create-success":"Eveniment creat cu succes","event-create-fail":"Nu s-a putut crea evenimentul:","event-update-success":"Eveniment actualizat cu succes","event-update-fail":"Nu s-a putut actualiza evenimentul:","event-delete-success":"Eveniment ters cu succes","event-delete-fail":"Nu s-a putut terge evenimentul:","select-event-btn":"Selectai evenimentul","join-event-btn":"Alturai-v evenimentului","event-join-success":"V-ai alturat evenimentului cu succes!","event-join-fail":"Nu s-a putut altura evenimentului:","select-event-first":"V rugm s selectai mai nti un eveniment!","event-status-label":"Stare eveniment","status-active":"Activ","status-paused":"n pauz","status-completed":"Finalizat","update-event-btn":"Actualizai evenimentul","delete-event-btn":"tergei evenimentul","users-manager-h2":"Manager utilizatori","create-user-btn":"Creai utilizator","delete-user-btn":"tergei","update-user-btn":"Actualizai","full-name-label":"Nume complet:","phone-label":"Numr de telefon:","email-label":"Email:","password-label":"Parol:","active-label":"Activ:","user-create-success":"Utilizator creat cu succes","user-create-fail":"Nu s-a putut crea utilizatorul:","user-update-success":"Utilizator actualizat cu succes","user-update-fail":"Nu s-a putut actualiza utilizatorul:","user-delete-success":"Utilizator ters cu succes","user-delete-fail":"Nu s-a putut terge utilizatorul:","user-table-phone":"Telefon","user-table-active":"Activ","help-editor-h2":"Editor de coninut de ajutor","section-label":"Seciune:","text-hu-label":"Text HU:","text-en-label":"Text EN:","text-sk-label":"Text SK:","text-ro-label":"Text RO:","text-pl-label":"Text PL:","create-help-btn":"Creai intrare de ajutor","update-help-btn":"Actualizai","delete-help-btn":"tergei","help-create-success":"Intrare de ajutor creat cu succes","help-create-fail":"Nu s-a putut crea intrarea de ajutor:","help-update-success":"Intrare de ajutor actualizat cu succes","help-update-fail":"Nu s-a putut actualiza intrarea de ajutor:","help-delete-success":"Intrare de ajutor tears cu succes","help-delete-fail":"Nu s-a putut terge intrarea de ajutor:","help-table-section":"Seciune","help-table-text-hu":"Text HU","missing-persons-editor-h2":"Editor persoane disprute","event-id-label":"ID eveniment:","name-label":"Nume:","age-label":"Vrst:","height-label":"nlime (cm):","clothing-label":"mbrcminte:","photo-url-label":"URL fotografie:","behavior-category-label":"Categorie de comportament:","prob-zones-label":"Zone probabile (JSON):","create-missing-btn":"Creai persoan disprut","update-missing-btn":"Actualizai","delete-missing-btn":"tergei","missing-create-success":"Persoan disprut creat cu succes","missing-create-fail":"Nu s-a putut crea persoana disprut:","missing-update-success":"Persoan disprut actualizat cu succes","missing-update-fail":"Nu s-a putut actualiza persoana disprut:","missing-delete-success":"Persoan disprut tears cu succes","missing-delete-fail":"Nu s-a putut terge persoana disprut:","missing-table-name":"Nume","missing-table-age":"Vrst","missing-table-height":"nlime","missing-table-clothing":"mbrcminte","missing-table-photo":"URL fotografie","missing-table-behavior":"Comportament","missing-table-prob-zones":"Zone probabile","login-header":"Autentificare","login-email":"Email","login-password":"Parol","login-full-name":"Nume complet","login-phone-number":"Numr de telefon","login-save-credentials":"Salvai acreditrile","login-register":"nregistrare","login-login":"Autentificare","login-resend-email":"Retrimitei emailul de confirmare","error-invalid-email":"Format email invalid","error-password-too-short":"Parola trebuie s aib cel puin 6 caractere","error-full-name-required":"Numele complet este obligatoriu","error-invalid-phone":"Format numr de telefon invalid","error-no-internet":"Fr conexiune la internet","success-email-resent":"Email de confirmare retrimis cu succes","error-resend-email-failed":"Nu s-a putut retrimite emailul de confirmare","error-registration-failed":"nregistrarea a euat","error-email-confirmation-required":"V rugm s confirmai emailul pentru a finaliza nregistrarea","error-auth-user-already-exists":"Utilizatorul exist deja","error-auth-invalid-credentials":"Email sau parol invalid","error-auth-weak-password":"Parola este prea slab","error-registration-error":"Eroare de nregistrare","error-permission-denied":"Acces refuzat la tabelul utilizatori","error-column-not-found":"Eroare baz de date: Coloana email nu exist","error-invalid-data-type":"Eroare baz de date: Tip de date invalid n trigger","error-login-failed":"Autentificarea a euat","error-login-error":"Eroare de autentificare","error-email-not-confirmed":"Email neconfirmat","error-loading-markers":"Nu s-a putut ncrca marcajele:","location-label":"Selectai locaia pe hart","location-lat-label":"Latitudine","location-lng-label":"Longitudine","photo-label":"Fotografie",uploading:"ncrcare...","confirm-delete":"Suntei sigur c dorii s tergei?","cancel-btn":"Anulare","actions-label":"Aciuni","missing-table-location":"Locaie","permission-denied":"Permisiune refuzat","user-management-h2":"Management utilizatori","user-manager-tab":"Manager utilizatori","role-update-tab":"Actualizare rol","quick-role-update":"Actualizare rapid a rolului","update-user-h3":"Actualizai utilizatorul","create-user-h3":"Creai utilizator nou",yes:"Da",no:"Nu",loading:"ncrcare...","nav-user-management":"Management utilizatori","edit-btn":"Editare","save-btn":"Salvare","discard-btn":"tergere","participants-h2":"Participani","participant-table-name":"Nume","participant-table-email":"Email","participant-table-role":"Rol","participant-table-joined":"S-a alturat","participant-table-status":"Status","leave-event-btn":"Prsete evenimentul","pause-participant-btn":"Pauz","resume-participant-btn":"Continu","leave-participant-btn":"Prsete","participant-status-update-success":"Statusul participantului a fost actualizat","participant-status-update-fail":"Eroare la actualizarea statusului participantului","event-leave-success":"Ai prsit cu succes evenimentul","event-leave-fail":"Eroare la prsirea evenimentului","status-active":"Activ","status-paused":"n pauz","status-left":"A prsit","participant-table-phone":"Numr de telefon","participant-table-left":"Ora plecrii","participant-table-joined":"Ora alturrii","no-changes-detected":"Nu s-au detectat modificri n date.","error-invalid-json":"Format JSON invalid pentru zonele de probabilitate.","missing-update-success":"Datele au fost actualizate cu succes.","missing-update-fail":"Eroare la actualizarea datelor:",marker:"Marcaj","marker-type":"Tip",user:"Utilizator","phone-number":"Numr de telefon","recording-time":"Timp de nregistrare","missing-person":"Persoan disprut",age:"Vrst",clothing:"mbrcminte",coordinates:"Coordonate","location-required-for-zones":"Locaie (lat, lng) necesar pentru zonele de probabilitate automat","invalid-prob-zones":"Zone de probabilitate nevalide: coordonatele sau aria depesc limitele","select-behavior-category":"Selectai categoria de comportament","behavior-child1-3":"Copil (1-3 ani)","behavior-child4-6":"Copil (4-6 ani)","behavior-hiker":"Excursionist","behavior-despondent":"Deprimat","behavior-hunter":"Vntor","behavior-elderly":"Vrstnic","behavior-default":"Implicit","zone-25":"Zon de probabilitate 25%","zone-50":"Zon de probabilitate 50%","zone-75":"Zon de probabilitate 75%","zone-95":"Zon de probabilitate 95%","show-prob-zones":"Afieaz zonele de probabilitate"}},pl:{translation:{"header-title":"Panel administracyjny","nav-users":"Uytkownicy","nav-events":"Wydarzenia","nav-map":"Mapa","nav-users-manager":"Manager uytkownikw","nav-help-editor":"Edytor pomocy","nav-missing-persons-editor":"Edytor osb zaginionych","nav-search-manager":"Zarzdzanie wyszukiwaniem","select-page":"Wybierz stron","users-h2":"Zarzdzanie uytkownikami","user-id-label":"ID uytkownika:","role-label":"Rola:","update-role-btn":"Zaktualizuj rol","events-h2":"Zarzdzanie wydarzeniami","event-name-label":"Nazwa wydarzenia:","create-event-btn":"Utwrz wydarzenie","map-h2":"Mapa na ywo","role-searcher":"Poszukiwacz","role-coordinator":"Koordynator","role-admin":"Admin","user-table-id":"ID","user-table-email":"Email","user-table-fullname":"Pene imi","user-table-role":"Rola","event-table-id":"ID","event-table-name":"Nazwa","event-table-status":"Status","event-table-starttime":"Czas rozpoczcia","role-update-success":"Rola zaktualizowana pomylnie","role-update-fail":"Nie udao si zaktualizowa roli:","event-create-success":"Wydarzenie utworzone pomylnie","event-create-fail":"Nie udao si utworzy wydarzenia:","event-update-success":"Wydarzenie zaktualizowane pomylnie","event-update-fail":"Nie udao si zaktualizowa wydarzenia:","event-delete-success":"Wydarzenie usunite pomylnie","event-delete-fail":"Nie udao si usun wydarzenia:","select-event-btn":"Wybierz wydarzenie","join-event-btn":"Docz do wydarzenia","event-join-success":"Pomylnie doczono do wydarzenia!","event-join-fail":"Nie udao si docz do wydarzenia:","select-event-first":"Prosz najpierw wybra wydarzenie!","event-status-label":"Status wydarzenia","status-active":"Aktywne","status-paused":"Wstrzymane","status-completed":"Zakoczone","update-event-btn":"Zaktualizuj wydarzenie","delete-event-btn":"Usu wydarzenie","users-manager-h2":"Manager uytkownikw","create-user-btn":"Utwrz uytkownika","delete-user-btn":"Usu","update-user-btn":"Zaktualizuj","full-name-label":"Pene imi:","phone-label":"Numer telefonu:","email-label":"Email:","password-label":"Haso:","active-label":"Aktywny:","user-create-success":"Uytkownik utworzony pomylnie","user-create-fail":"Nie udao si utworzy uytkownika:","user-update-success":"Uytkownik zaktualizowany pomylnie","user-update-fail":"Nie udao si zaktualizowa uytkownika:","user-delete-success":"Uytkownik usunity pomylnie","user-delete-fail":"Nie udao si usun uytkownika:","user-table-phone":"Telefon","user-table-active":"Aktywny","help-editor-h2":"Edytor treci pomocy","section-label":"Sekcja:","text-hu-label":"Tekst HU:","text-en-label":"Tekst EN:","text-sk-label":"Tekst SK:","text-ro-label":"Tekst RO:","text-pl-label":"Tekst PL:","create-help-btn":"Utwrz wpis pomocy","update-help-btn":"Zaktualizuj","delete-help-btn":"Usu","help-create-success":"Wpis pomocy utworzony pomylnie","help-create-fail":"Nie udao si utworzy wpisu pomocy:","help-update-success":"Wpis pomocy zaktualizowany pomylnie","help-update-fail":"Nie udao si zaktualizowa wpisu pomocy:","help-delete-success":"Wpis pomocy usunity pomylnie","help-delete-fail":"Nie udao si usun wpisu pomocy:","help-table-section":"Sekcja","help-table-text-hu":"Tekst HU","missing-persons-editor-h2":"Edytor osb zaginionych","event-id-label":"ID wydarzenia:","name-label":"Imi:","age-label":"Wiek:","height-label":"Wzrost (cm):","clothing-label":"Ubranie:","photo-url-label":"URL zdjcia:","behavior-category-label":"Kategoria zachowania:","prob-zones-label":"Strefy prawdopodobne (JSON):","create-missing-btn":"Utwrz osob zaginion","update-missing-btn":"Zaktualizuj","delete-missing-btn":"Usu","missing-create-success":"Osoba zaginiona utworzona pomylnie","missing-create-fail":"Nie udao si utworzy osoby zaginionej:","missing-update-success":"Osoba zaginiona zaktualizowana pomylnie","missing-update-fail":"Nie udao si zaktualizowa osoby zaginionej:","missing-delete-success":"Osoba zaginiona usunita pomylnie","missing-delete-fail":"Nie udao si usun osoby zaginionej:","missing-table-name":"Imi","missing-table-age":"Wiek","missing-table-height":"Wzrost","missing-table-clothing":"Ubranie","missing-table-photo":"URL zdjcia","missing-table-behavior":"Zachowanie","missing-table-prob-zones":"Strefy prawdopodobne","login-header":"Logowanie","login-email":"Email","login-password":"Haso","login-full-name":"Pene imi","login-phone-number":"Numer telefonu","login-save-credentials":"Zapisz dane logowania","login-register":"Rejestracja","login-login":"Zaloguj si","login-resend-email":"Ponownie wylij email potwierdzajcy","error-invalid-email":"Nieprawidowy format emaila","error-password-too-short":"Haso musi mie co najmniej 6 znakw","error-full-name-required":"Pene imi jest wymagane","error-invalid-phone":"Nieprawidowy format numeru telefonu","error-no-internet":"Brak poczenia internetowego","success-email-resent":"Email potwierdzajcy ponownie wysany z sukcesem","error-resend-email-failed":"Ponowne wysanie emaila potwierdzajcego nie powiodo si","error-registration-failed":"Rejestracja nie powioda si","error-email-confirmation-required":"Prosz potwierdzi email, aby ukoczy rejestracj","error-auth-user-already-exists":"Uytkownik ju istnieje","error-auth-invalid-credentials":"Nieprawidowy email lub haso","error-auth-weak-password":"Haso jest zbyt sabe","error-registration-error":"Bd rejestracji","error-permission-denied":"Odmowa dostpu do tabeli users","error-column-not-found":"Bd bazy danych: Kolumna email nie istnieje","error-invalid-data-type":"Bd bazy danych: Nieprawidowy typ danych w triggerze","error-login-failed":"Logowanie nie powiodo si","error-login-error":"Bd logowania","error-email-not-confirmed":"Email niepotwierdzony","error-loading-markers":"Nie udao si zaadowa znacznikw:","location-label":"Wybierz lokalizacj na mapie","location-lat-label":"Szeroko geograficzna","location-lng-label":"Dugo geograficzna","photo-label":"Zdjcie",uploading:"Wgrywanie...","confirm-delete":"Czy na pewno chcesz usun?","cancel-btn":"Anuluj","actions-label":"Akcje","missing-table-location":"Lokalizacja","permission-denied":"Odmowa dostpu","user-management-h2":"Zarzdzanie uytkownikami","user-manager-tab":"Manager uytkownikw","role-update-tab":"Aktualizacja roli","quick-role-update":"Szybka aktualizacja roli","update-user-h3":"Zaktualizuj uytkownika","create-user-h3":"Utwrz nowego uytkownika",yes:"Tak",no:"Nie",loading:"adowanie...","nav-user-management":"Zarzdzanie uytkownikami","edit-btn":"Edytuj","save-btn":"Zapisz","discard-btn":"Usu","participants-h2":"Uczestnicy","participant-table-name":"Imi","participant-table-email":"Email","participant-table-role":"Rola","participant-table-joined":"Doczy","participant-table-status":"Status","leave-event-btn":"Opu wydarzenie","pause-participant-btn":"Wstrzymaj","resume-participant-btn":"Wznw","leave-participant-btn":"Opu","participant-status-update-success":"Status uczestnika zosta zaktualizowany","participant-status-update-fail":"Bd podczas aktualizacji statusu uczestnika","event-leave-success":"Pomylnie opucie wydarzenie","event-leave-fail":"Bd podczas opuszczania wydarzenia","status-active":"Aktywny","status-paused":"Wstrzymany","status-left":"Opuci","participant-table-phone":"Numer telefonu","participant-table-left":"Czas opuszczenia","participant-table-joined":"Czas doczenia","no-changes-detected":"Nie wykryto zmian w danych.","error-invalid-json":"Nieprawidowy format JSON dla stref prawdopodobiestwa.","missing-update-success":"Dane zostay pomylnie zaktualizowane.","missing-update-fail":"Bd podczas aktualizacji danych:",marker:"Znacznik","marker-type":"Typ",user:"Uytkownik","phone-number":"Numer telefonu","recording-time":"Czas nagrania","missing-person":"Osoba zaginiona",age:"Wiek",clothing:"Ubranie",coordinates:"Wsprzdne","location-required-for-zones":"Lokalizacja (szer., d.) wymagana dla automatycznych stref prawdopodobiestwa","invalid-prob-zones":"Nieprawidowe strefy prawdopodobiestwa: wsprzdne lub obszar przekraczaj limity","select-behavior-category":"Wybierz kategori zachowania","behavior-child1-3":"Dziecko (1-3 lata)","behavior-child4-6":"Dziecko (4-6 lat)","behavior-hiker":"Wdrowiec","behavior-despondent":"Przygnbiony","behavior-hunter":"Myliwy","behavior-elderly":"Osoba starsza","behavior-default":"Domylne","zone-25":"Strefa prawdopodobiestwa 25%","zone-50":"Strefa prawdopodobiestwa 50%","zone-75":"Strefa prawdopodobiestwa 75%","zone-95":"Strefa prawdopodobiestwa 95%","show-prob-zones":"Poka strefy prawdopodobiestwa"}}};Ot.use(vv).init({resources:yw,lng:localStorage.getItem("language")||"hu",fallbackLng:"en",interpolation:{escapeValue:!1}});function ww(){const{t:l}=Ao(),[i,r]=I.useState(Ot.language),[a,u]=I.useState(null);I.useEffect(()=>{ye.auth.getSession().then(({data:{session:g}})=>{u(g)});const{data:f}=ye.auth.onAuthStateChange((g,_)=>{u(_)});return()=>f.subscription.unsubscribe()},[]);const d=async f=>{if(Ot.changeLanguage(f),r(f),localStorage.setItem("language",f),a)try{await ye.from("users").update({language:f}).eq("id",a.user.id)}catch(g){console.error("Error updating language:",g)}};return a?P.jsxs(nv,{basename:"/rescue-admin",children:[P.jsxs("header",{children:[P.jsx("h1",{children:l("header-title")}),P.jsxs("nav",{children:[P.jsx(iu,{to:"/user-management",children:l("nav-user-management")}),P.jsx(iu,{to:"/search-manager",children:l("nav-search-manager")}),P.jsx(iu,{to:"/map",children:l("nav-map")}),P.jsx(iu,{to:"/help-editor",children:l("nav-help-editor")}),P.jsxs("select",{value:i,onChange:f=>d(f.target.value),children:[P.jsx("option",{value:"hu",children:"Magyar"}),P.jsx("option",{value:"en",children:"English"}),P.jsx("option",{value:"sk",children:"Slovensk"}),P.jsx("option",{value:"ro",children:"Romn"}),P.jsx("option",{value:"pl",children:"Polski"})]}),P.jsx("button",{onClick:()=>ye.auth.signOut(),children:l("logout")})]})]}),P.jsx("main",{children:P.jsxs(Gg,{children:[P.jsx(Lo,{path:"/user-management",element:P.jsx(Ey,{})}),P.jsx(Lo,{path:"/search-manager",element:P.jsx(Gy,{})}),P.jsx(Lo,{path:"/map",element:P.jsx(Jy,{})}),P.jsx(Lo,{path:"/help-editor",element:P.jsx(Qy,{})}),P.jsx(Lo,{path:"/",element:P.jsx(qg,{to:"/search-manager"})})]})})]}):P.jsx(Yy,{})}ng.createRoot(document.getElementById("root")).render(P.jsx(Oo.StrictMode,{children:P.jsx(ww,{})}));
